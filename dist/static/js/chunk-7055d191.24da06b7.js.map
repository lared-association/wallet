{"version":3,"sources":["webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?3ddf","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?1189","webpack:///./src/components/SignerSelector/SignerSelector.vue?d025","webpack:///./src/components/SignerSelector/SignerSelectorTs.ts","webpack:///./src/components/SignerSelector/SignerSelector.vue?c5bb","webpack:///./src/components/SignerSelector/SignerSelector.vue?add6","webpack:///./src/components/SignerSelector/SignerSelector.vue","webpack:///./src/components/MaxFeeSelector/MaxFeeSelector.vue?e45f","webpack:///./src/components/MaxFeeSelector/MaxFeeSelectorTs.ts","webpack:///./src/components/MaxFeeSelector/MaxFeeSelector.vue?698f","webpack:///./src/components/MaxFeeSelector/MaxFeeSelector.vue?4641","webpack:///./src/components/MaxFeeSelector/MaxFeeSelector.vue","webpack:///./src/services/TransactionCommand.ts","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?5174","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?b2dc","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmationTs.ts","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?7c99","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?5ee4","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?fc78","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?62b4","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?62e2","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?f9e6","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?d000","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?b667","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?9827","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?28a4","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?b0e7","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelectorTs.ts","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?50b4","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?5b15","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?88c8","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?64c7","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPageTs.ts","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?17fc","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?7826","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?f3cd","webpack:///./src/views/pages/harvesting/HarvestingPage/HarvestingPage.vue?2123","webpack:///./src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue?a54a","webpack:///./src/components/NetworkNodeSelector/NetworkNodeSelector.vue?a979","webpack:///./src/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue?86d5","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?54d5","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?7919","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?6b22","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue","webpack:///./src/views/forms/FormTransactionBase/FormTransactionBase.ts","webpack:///./src/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue?78f1"],"names":["content","module","i","locals","exports","add","default","render","_vm","this","_h","$createElement","_c","_self","attrs","noLabel","scopedSlots","_u","key","fn","_e","_v","_s","$t","label","proxy","signers","length","staticClass","model","value","callback","$$v","chosenSigner","expression","_l","item","address","plain","multisig","staticRenderFns","SignerSelectorTs","newValue","$emit","components","FormRow","SignerSelector","component","displayOnly","fees","find","maxFee","chosenMaxFee","ref","Object","entries","map","entry","getLabel","calculatedFee","median","formatLabel","calculatedRecommendedFee","networkMosaicName","highest","calculatedHighestFee","labelKey","fee","mosaic","showAmount","toString","getRelative","amount","undefined","networkCurrency","Math","pow","divisibility","defaultFee","sort","a","b","FormLabel","computed","MaxFeeSelector","TransactionCommandMode","TransactionCommand","mode","signer","signerPublicKey","stageTransactions","networkMosaic","generationHash","networkType","epochAdjustment","networkConfiguration","transactionFees","requiredCosignatures","tempAccount","generateNewAccount","tempTransactionSigner","service","account","resolveTransactions","pipe","transactions","signedTransactions","t","signTransaction","MULTISIGN","announceHashAndAggregateBonded","CHAINED_BINARY","announceChainedBinary","announceSimple","first","second","signedHashLockTransaction","signedAggregateTransaction","o","s","announce","ts","reduce","partial","current","fromUint","compare","SIMPLE","calculateSuggestedMaxFee","currentSigner","createFromPublicKey","AGGREGATE","aggregate","createComplete","create","toAggregate","signedInnerTransactions","createBonded","hashLock","fromNumericString","lockedFundsPerAggregate","transaction","feeMultiplier","resolveFeeMultipler","setMaxFeeForAggregate","setMaxFee","compact","medianFeeMultiplier","defaultDynamicFeeMultiplier","highestFeeMultiplier","show","stagedTransactions","index","on","onSigner","onError","onAccountUnlocked","command","toPromise","$store","dispatch","transactionSigner","TransactionAnnouncerService","announcements","forEach","announcement","subscribe","res","success","error","root","TREZOR","currentAccount","type","visible","val","required","TransactionDetails","FormProfileUnlock","HardwareConfirmationButton","ModalTransactionConfirmation","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","push","handleSubmit","onChangeSigner","formItems","$set","harvestingStatus","swapDisabled","$event","onStart","isPersistentDelReqSent","activating","activateHarvesting","onSwap","onStop","hasConfirmationModal","onConfirmationSuccess","onConfirmationError","onConfirmationCancel","customNodeData","filterUrls","fetchNodePublicKey","onClear","formNodeUrl","directives","name","rawName","domProps","onChangeFormNodePublicKey","target","composing","formNodePublicKey","validationRules","ValidationRuleset","isFetchingNodeInfo","showInputPublicKey","peerNode","peerNodes","p","host","nodePublicKey","nodeModel","NodeModel","friendlyName","publicKey","set","nodeUrl","URLHelpers","getNodeUrl","repositoryFactory","nodeRepository","createNodeRepository","getNodeInfo","nodeInfo","console","log","Error","n","newVal","url","option","toUpperCase","indexOf","event","$refs","nodeUrlInput","$el","focus","immediate","FormWrapper","HarvestingAction","NetworkNodeSelector","formatters","Formatters","signerAddress","action","START","newVrfKeyAccount","newRemoteAccount","currentSignerAccountInfo","isNodeKeyLinked","supplementalPublicKeys","node","currentSignerAccountModel","selectedHarvestingNode","txs","isAccountKeyLinked","accountKeyUnLinkTx","createAccountKeyLinkTx","linked","Unlink","isVrfKeyLinked","vrfKeyUnLinkTx","createVrfKeyLinkTx","vrf","nodeUnLinkTx","createNodeKeyLinkTx","STOP","accountKeyLinkTx","Link","vrfKeyLinkTx","nodeLinkTx","isMultisigMode","toMultiSigAggregate","currentSignerAccount","of","persistentDelegationReqTx","createPersistentDelegationRequestTransaction","privateKey","getKeyLinkTransactions","switchMap","getPersistentDelegationRequestTransaction","ptxs","accountId","id","signedPersistentDelReqTx$","concatMap","mergeAll","toArray","tap","resArr","signedTx","saveSignedPersistentDelReqTxs","signedPersistentDelReqTxs","announceResult","transactionAnnoucer","linkAction","createDeadline","networkBalanceMosaics","balance","onSubmit","SWAP","allKeysLinked","onShowConfirmationModal","toLowerCase","currentSignerPublicKey","currentSignerMultisigInfo","minApproval","selectedSigner","st","payload","hash","FormTransactionBase","ValidationObserver","MaxFeeAndSubmit","ErrorTooltip","ValidationProvider","currentHeight","FormPersistentDelegationRequestTransaction","HarvestingPageTs","HarvestingPage","hideSubmit","class","submitButtonClasses","disableSubmit","submitButtonText","showWarnings","anyWarnings","isFeeLowerThanRecommendedFee","isAwaitingSignature","resetForm","resetFormValidation","equals","createFromRawAddress","isCosignatoryMode","getTransactions","getTransactionCommandMode","createTransactionCommand","observer","reset","isMultisigAccount","splice","f","currentAccountMultisigInfo","isMultisig","currentSignerAddress"],"mappings":"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","file":"static/js/chunk-7055d191.24da06b7.js","sourcesContent":["import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeAndSubmit.vue?vue&type=style&index=0&id=d4a1c466&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeAndSubmit.vue?vue&type=style&index=0&id=d4a1c466&lang=less&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeAndSubmit.vue?vue&type=style&index=0&id=d4a1c466&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6acc8bb3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FormRow',{attrs:{\"class-name\":\"emphasis\",\"no-label\":_vm.noLabel},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [(!_vm.noLabel)?_c('div',[_vm._v(_vm._s(_vm.$t(_vm.label))+\":\")]):_vm._e()]},proxy:true},{key:\"inputs\",fn:function(){return [(_vm.signers && _vm.signers.length > 1)?_c('div',{staticClass:\"inputs-container select-container\"},[_c('Select',{staticClass:\"select-size select-style\",attrs:{\"placeholder\":_vm.$t('address')},model:{value:(_vm.chosenSigner),callback:function ($$v) {_vm.chosenSigner=$$v},expression:\"chosenSigner\"}},_vm._l((_vm.signers),function(item){return _c('Option',{key:item.address.plain(),attrs:{\"value\":item.address.plain()}},[_vm._v(\" \"+_vm._s(item.label)+\" \"+_vm._s(item.multisig ? _vm.$t('label_postfix_multisig') : '')+\" \")])}),1)],1):_c('div',{staticClass:\"signer-selector-single-signer-container\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.signers[0] ? _vm.signers[0].label : '')+\" \"+_vm._s(_vm.signers[0] && _vm.signers[0].multisig ? _vm.$t('label_postfix_multisig') : '')+\" \")])])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n// child components\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\nimport { Signer } from '@/store/Account';\n\n@Component({\n    components: { FormRow },\n})\nexport class SignerSelectorTs extends Vue {\n    /**\n     * Value set by the parent component's v-model\n     * @type {string}\n     */\n    @Prop({\n        default: '',\n    })\n    value: string;\n\n    @Prop({\n        default: () => [],\n    })\n    signers: Signer[];\n\n    @Prop({\n        default: 'sender',\n    })\n    label: string;\n\n    @Prop({\n        default: false,\n    })\n    noLabel: boolean;\n\n    /// region computed properties getter/setter\n    /**\n     * Value set by the parent component\n     * @type {string}\n     */\n    get chosenSigner(): string {\n        return this.value;\n    }\n\n    /**\n     * Emit value change\n     */\n    set chosenSigner(newValue: string) {\n        this.$emit('input', newValue);\n    }\n\n    /// end-region computed properties getter/setter\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { SignerSelectorTs } from './SignerSelectorTs';\nexport default class SignerSelector extends SignerSelectorTs {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignerSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignerSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SignerSelector.vue?vue&type=template&id=672f1d03&\"\nimport script from \"./SignerSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./SignerSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-container\"},[(!_vm.displayOnly)?_c('Select',{staticClass:\"select-size select-style\",attrs:{\"placeholder\":_vm.$t('fee')},model:{value:(_vm.chosenMaxFee),callback:function ($$v) {_vm.chosenMaxFee=$$v},expression:\"chosenMaxFee\"}},_vm._l((_vm.feesCalculated),function(ref){\nvar maxFee = ref.maxFee;\nvar label = ref.label;\nreturn _c('Option',{key:maxFee,attrs:{\"value\":maxFee}},[_vm._v(\" \"+_vm._s(label)+\" \")])}),1):_c('div',[_vm._v(\" \"+_vm._s(_vm.fees.find(function (i) { return i.maxFee == _vm.chosenMaxFee; }).label)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\n// configuration\nimport { feesConfig } from '@/config';\n// @ts-ignore\nimport FormLabel from '@/components/FormLabel/FormLabel.vue';\nimport { NetworkCurrencyModel } from '@/core/database/entities/NetworkCurrencyModel';\n\n@Component({\n    components: {\n        FormLabel,\n    },\n    computed: {\n        ...mapGetters({\n            defaultFee: 'app/defaultFee',\n            networkMosaicName: 'mosaic/networkMosaicName',\n            networkCurrency: 'mosaic/networkCurrency',\n        }),\n    },\n})\nexport class MaxFeeSelectorTs extends Vue {\n    @Prop({\n        default: 'form-line-container',\n    })\n    public className: string;\n\n    @Prop({ default: false })\n    public displayOnly!: boolean;\n\n    /**\n     * Networks currency mosaic name\n     * @var {string}\n     */\n    private networkMosaicName: string;\n\n    /**\n     * Known mosaics info\n     * @var {MosaicInfo[]}\n     */\n    private networkCurrency: NetworkCurrencyModel;\n\n    /**\n     * Default fee setting\n     * @var {number}\n     */\n    private defaultFee: number;\n\n    /**\n     * Dynamically calculated recommended fee\n     */\n    @Prop({ default: 0 }) calculatedRecommendedFee: number;\n\n    /**\n     * Dynamically calculated highest fee\n     */\n    @Prop({ default: 0 }) calculatedHighestFee: number;\n\n    /**\n     * The fees to be displayed in the dropw down.\n     */\n    private fees: { label: string; maxFee: number; calculatedFee: number }[];\n\n    @Prop({\n        default: 1,\n    })\n    multiplier: number;\n\n    public created() {\n        this.fees = Object.entries(feesConfig).map((entry) => ({\n            label: this.getLabel([entry[0], entry[1] as number]),\n            maxFee: entry[1] as number,\n            calculatedFee: entry[1] as number,\n        }));\n    }\n\n    /**\n     * Returns the label based on the feesConfig property\n     * @param {[string, number]} key, value pair\n     */\n    private getLabel([key, value]: [string, number]) {\n        //SPECIAL VALUES!!!\n        if (value === feesConfig.median) {\n            return this.formatLabel(\n                'fee_speed_' + key,\n                this.calculatedRecommendedFee,\n                this.networkMosaicName,\n                this.calculatedRecommendedFee > 0,\n            );\n        } else if (value === feesConfig.highest) {\n            return this.formatLabel('fee_speed_' + key, this.calculatedHighestFee, this.networkMosaicName, this.calculatedHighestFee > 0);\n        }\n        return this.formatLabel('fee_speed_' + key, value, this.networkMosaicName);\n    }\n\n    /**\n     * Returns the formatted label\n     * @param labelKey\n     * @param fee\n     * @param mosaic\n     * @param showAmount\n     */\n    private formatLabel(labelKey: string, fee: number, mosaic: string, showAmount: boolean = true): string {\n        let label = this.$t(labelKey).toString();\n        if (showAmount) {\n            label += ': ' + this.getRelative(fee) + ' ' + mosaic;\n        }\n        return label;\n    }\n\n    /**\n     * Value set by the parent component's v-model\n     * @type {number}\n     */\n    @Prop({\n        default: feesConfig.median,\n    })\n    value: number;\n\n    /// region computed properties getter/setter\n    /**\n     * Value set by the parent component\n     * @type {number}\n     */\n    get chosenMaxFee(): number {\n        return this.value || this.defaultFee;\n    }\n\n    /**\n     * Emit value change\n     */\n    set chosenMaxFee(newValue: number) {\n        this.$emit('input', newValue);\n    }\n    /// end-region computed properties getter/setter\n\n    /**\n     * Convert a relative amount to absolute using mosaicInfo\n     * @param {number} price\n     * @return {number}\n     */\n    public getRelative(amount: number): number {\n        if (this.networkCurrency === undefined) {\n            return amount;\n        }\n        return amount / Math.pow(10, this.networkCurrency.divisibility);\n    }\n\n    /**\n     * Returns the sorted fees (including the calculated fees)\n     */\n    public get feesCalculated(): { label: string; maxFee: number }[] {\n        return this.fees\n            .map((i) => {\n                if (i.maxFee === 1) {\n                    return {\n                        label: this.getLabel(['median', feesConfig.median]),\n                        maxFee: i.maxFee,\n                        calculatedFee: this.calculatedRecommendedFee,\n                    };\n                } else if (i.maxFee === 2) {\n                    return {\n                        label: this.getLabel(['highest', feesConfig.highest]),\n                        maxFee: i.maxFee,\n                        calculatedFee: this.calculatedHighestFee,\n                    };\n                } else {\n                    return i;\n                }\n            })\n            .sort((a, b) => a.calculatedFee - b.calculatedFee);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { MaxFeeSelectorTs } from './MaxFeeSelectorTs';\nexport default class MaxFeeSelector extends MaxFeeSelectorTs {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaxFeeSelector.vue?vue&type=template&id=5f21c14e&\"\nimport script from \"./MaxFeeSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaxFeeSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport {\n    Account,\n    AggregateTransaction,\n    Deadline,\n    LockFundsTransaction,\n    Mosaic,\n    MosaicId,\n    NetworkType,\n    PublicAccount,\n    SignedTransaction,\n    Transaction,\n    TransactionFees,\n    UInt64,\n} from 'symbol-sdk';\nimport { Signer } from '@/store/Account';\nimport { NetworkConfigurationModel } from '@/core/database/entities/NetworkConfigurationModel';\nimport { Observable, of } from 'rxjs';\nimport { AccountTransactionSigner, TransactionAnnouncerService, TransactionSigner } from '@/services/TransactionAnnouncerService';\nimport { BroadcastResult } from '@/core/transactions/BroadcastResult';\nimport { flatMap, map } from 'rxjs/operators';\n\nexport enum TransactionCommandMode {\n    SIMPLE = 'SIMPLE',\n    AGGREGATE = 'AGGREGATE',\n    MULTISIGN = 'MULTISIGN',\n    CHAINED_BINARY = 'CHAINED_BINARY',\n}\n\nexport class TransactionCommand {\n    private readonly tempAccount: Account;\n    private readonly tempTransactionSigner: TransactionSigner;\n    constructor(\n        public readonly mode: TransactionCommandMode,\n        public readonly signer: Signer,\n        public readonly signerPublicKey: string,\n        public readonly stageTransactions: Transaction[],\n        public readonly networkMosaic: MosaicId,\n        public readonly generationHash: string,\n        public readonly networkType: NetworkType,\n        public readonly epochAdjustment: number,\n        public readonly networkConfiguration: NetworkConfigurationModel,\n        public readonly transactionFees: TransactionFees,\n        public readonly requiredCosignatures: number,\n    ) {\n        this.tempAccount = Account.generateNewAccount(this.networkType);\n        this.tempTransactionSigner = new AccountTransactionSigner(this.tempAccount);\n    }\n\n    public announce(service: TransactionAnnouncerService, account: TransactionSigner): Observable<Observable<BroadcastResult>[]> {\n        return this.resolveTransactions(account).pipe(\n            flatMap((transactions) => {\n                const signedTransactions = transactions.map((t) => account.signTransaction(t, this.generationHash));\n                if (!signedTransactions.length) {\n                    return of([]);\n                }\n                if (this.mode == TransactionCommandMode.MULTISIGN) {\n                    return of([this.announceHashAndAggregateBonded(service, signedTransactions)]);\n                } else if (this.mode == TransactionCommandMode.CHAINED_BINARY) {\n                    return of([this.announceChainedBinary(service, signedTransactions)]);\n                } else {\n                    return of(this.announceSimple(service, signedTransactions));\n                }\n            }),\n        );\n    }\n\n    private announceChainedBinary(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult> {\n        return signedTransactions[0].pipe(\n            flatMap((first) => {\n                return signedTransactions[1].pipe(\n                    flatMap((second) => {\n                        return service.announceChainedBinary(first, second);\n                    }),\n                );\n            }),\n        );\n    }\n\n    private announceHashAndAggregateBonded(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult> {\n        return signedTransactions[0].pipe(\n            flatMap((signedHashLockTransaction) => {\n                return signedTransactions[1].pipe(\n                    flatMap((signedAggregateTransaction) => {\n                        return service.announceHashAndAggregateBonded(signedHashLockTransaction, signedAggregateTransaction);\n                    }),\n                );\n            }),\n        );\n    }\n\n    private announceSimple(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult>[] {\n        return signedTransactions.map((o) => o.pipe(flatMap((s) => service.announce(s))));\n    }\n\n    public getTotalMaxFee(): Observable<UInt64> {\n        return this.resolveTransactions().pipe(\n            map((ts) => ts.reduce((partial, current) => partial.add(current.maxFee), UInt64.fromUint(0))),\n        );\n    }\n\n    public resolveTransactions(account: TransactionSigner = this.tempTransactionSigner): Observable<Transaction[]> {\n        if (!this.stageTransactions.length) {\n            return of([]);\n        }\n        const maxFee = this.stageTransactions.sort((a, b) => a.maxFee.compare(b.maxFee))[0].maxFee;\n        if (this.mode === TransactionCommandMode.SIMPLE || this.mode === TransactionCommandMode.CHAINED_BINARY) {\n            return of(this.stageTransactions.map((t) => this.calculateSuggestedMaxFee(t)));\n        } else {\n            const currentSigner = PublicAccount.createFromPublicKey(this.signerPublicKey, this.networkType);\n            if (this.mode === TransactionCommandMode.AGGREGATE) {\n                const aggregate = this.calculateSuggestedMaxFee(\n                    AggregateTransaction.createComplete(\n                        Deadline.create(this.epochAdjustment),\n                        this.stageTransactions.map((t) => t.toAggregate(currentSigner)),\n                        this.networkType,\n                        [],\n                        maxFee,\n                    ),\n                );\n                return of([aggregate]);\n            } else {\n                // use attached signer (multisig account) if exists\n                const signedInnerTransactions = this.stageTransactions.map((t) => {\n                    return t.signer === undefined ? t.toAggregate(currentSigner) : t.toAggregate(t.signer);\n                });\n\n                const aggregate = this.calculateSuggestedMaxFee(\n                    AggregateTransaction.createBonded(\n                        Deadline.create(this.epochAdjustment),\n                        signedInnerTransactions,\n                        this.networkType,\n                        [],\n                        maxFee,\n                    ),\n                );\n                return account.signTransaction(aggregate, this.generationHash).pipe(\n                    map((signedAggregateTransaction) => {\n                        const hashLock = this.calculateSuggestedMaxFee(\n                            LockFundsTransaction.create(\n                                Deadline.create(this.epochAdjustment),\n                                new Mosaic(this.networkMosaic, UInt64.fromNumericString(this.networkConfiguration.lockedFundsPerAggregate)),\n                                UInt64.fromUint(1000),\n                                signedAggregateTransaction,\n                                this.networkType,\n                                maxFee,\n                            ),\n                        );\n                        return [hashLock, aggregate];\n                    }),\n                );\n            }\n        }\n    }\n\n    private calculateSuggestedMaxFee(transaction: Transaction): Transaction {\n        const feeMultiplier = this.resolveFeeMultipler(transaction);\n        if (!feeMultiplier) {\n            return transaction;\n        }\n        if (transaction instanceof AggregateTransaction) {\n            return transaction.setMaxFeeForAggregate(feeMultiplier, this.requiredCosignatures);\n        } else {\n            return transaction.setMaxFee(feeMultiplier);\n        }\n    }\n\n    private resolveFeeMultipler(transaction: Transaction): number | undefined {\n        if (transaction.maxFee.compact() == 1) {\n            return this.transactionFees.medianFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n            // TODO uncomment the following line when https://github.com/nemtech/catapult-rest/issues/326 is resolved\n            // return this.transactionFees.averageFeeMultiplier * 1.2 || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        if (transaction.maxFee.compact() == 2) {\n            return this.transactionFees.highestFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        return undefined;\n    }\n}\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkNodeSelector.vue?vue&type=style&index=0&id=613c7559&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkNodeSelector.vue?vue&type=style&index=0&id=613c7559&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('Modal',{attrs:{\"class-name\":\"modal-transaction-confirmation\",\"title\":_vm.$t('modal_title_transaction_confirmation'),\"transfer\":false,\"footer-hide\":true},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"transactionConfirmationBody\"},[(!!_vm.stagedTransactions)?_c('div',{staticClass:\"stepItem1\"},[_vm._l((_vm.stagedTransactions),function(transaction,index){return _c('div',{key:index,staticClass:\"info_container\"},[_c('TransactionDetails',{attrs:{\"transaction\":transaction}})],1)}),(_vm.isUsingHardwareWallet)?_c('HardwareConfirmationButton',{on:{\"success\":_vm.onSigner,\"error\":_vm.onError}}):_c('FormProfileUnlock',{on:{\"success\":_vm.onAccountUnlocked,\"error\":_vm.onError}})],2):_vm._e()])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { Account, Transaction } from 'symbol-sdk';\n// internal dependencies\nimport { AccountModel, AccountType } from '@/core/database/entities/AccountModel';\nimport { AccountTransactionSigner, TransactionAnnouncerService, TransactionSigner } from '@/services/TransactionAnnouncerService';\n// child components\n// @ts-ignore\nimport TransactionDetails from '@/components/TransactionDetails/TransactionDetails.vue';\n// @ts-ignore\nimport FormProfileUnlock from '@/views/forms/FormProfileUnlock/FormProfileUnlock.vue';\n// @ts-ignore\nimport HardwareConfirmationButton from '@/components/HardwareConfirmationButton/HardwareConfirmationButton.vue';\nimport { TransactionCommand } from '@/services/TransactionCommand';\n\n@Component({\n    components: {\n        TransactionDetails,\n        FormProfileUnlock,\n        HardwareConfirmationButton,\n    },\n    computed: {\n        ...mapGetters({\n            currentAccount: 'account/currentAccount',\n        }),\n    },\n})\nexport class ModalTransactionConfirmationTs extends Vue {\n    @Prop({\n        default: false,\n    })\n    public visible: boolean;\n\n    @Prop({\n        required: true,\n    })\n    public command: TransactionCommand;\n\n    /**\n     * Currently active account\n     * @see {Store.Account}\n     * @var {AccountModel}\n     */\n    public currentAccount: AccountModel;\n\n    /**\n     * List of transactions on-stage\n     * @see {Store.Account}\n     * @var {Transaction[]}\n     */\n    public stagedTransactions: Transaction[] = [];\n\n    public async mounted() {\n        this.stagedTransactions = await this.command.resolveTransactions().toPromise();\n    }\n\n    /// region computed properties getter/setter\n    /**\n     * Returns whether current account is a hardware wallet\n     * @return {boolean}\n     */\n    public get isUsingHardwareWallet(): boolean {\n        // XXX should use \"stagedTransaction.signer\" to identify account\n        return AccountType.TREZOR === this.currentAccount.type;\n    }\n\n    /**\n     * Visibility state\n     * @type {boolean}\n     */\n    public get show(): boolean {\n        return this.visible;\n    }\n\n    /**\n     * Emits close event\n     */\n    public set show(val) {\n        if (!val) {\n            this.$emit('close');\n        }\n    }\n    /// end-region computed properties getter/setter\n\n    /**\n     * Hook called when child component FormProfileUnlock emits\n     * the 'success' event.\n     *\n     * This hook shall *sign transactions* with the \\a account\n     * that has been unlocked. Subsequently it will also announce\n     * the signed transaction.\n     *\n     */\n    public async onAccountUnlocked({ account }: { account: Account }): Promise<void> {\n        // - log about unlock success\n        this.$store.dispatch('diagnostic/ADD_INFO', `Account ${account.address.plain()} unlocked successfully.`);\n        // - get transaction stage config\n        return this.onSigner(new AccountTransactionSigner(account));\n    }\n\n    /**\n     * Hook called when child component FormProfileUnlock emits\n     * the 'success' event.\n     *\n     * This hook shall *sign transactions* with the \\a account\n     * that has been unlocked. Subsequently it will also announce\n     * the signed transaction.\n     *\n     */\n    public async onSigner(transactionSigner: TransactionSigner): Promise<void> {\n        // - log about unlock success\n        // - get transaction stage config\n        const announcements = await this.command.announce(new TransactionAnnouncerService(this.$store), transactionSigner).toPromise();\n        announcements.forEach((announcement) => {\n            announcement.subscribe((res) => {\n                if (!res.success) {\n                    this.$store.dispatch('notification/ADD_ERROR', res.error, { root: true });\n                }\n            });\n        });\n        // - notify about successful transaction announce\n        this.$store.dispatch('notification/ADD_SUCCESS', 'success_transactions_signed');\n        this.$emit('success');\n        this.show = false;\n    }\n\n    /**\n     * Hook called when child component FormProfileUnlock or\n     * HardwareConfirmationButton emit the 'error' event.\n     * @param {string} message\n     * @return {void}\n     */\n    public onError(error: string) {\n        this.$emit('error', error);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ModalTransactionConfirmationTs } from './ModalTransactionConfirmationTs';\nexport default class ModalTransactionConfirmation extends ModalTransactionConfirmationTs {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTransactionConfirmation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTransactionConfirmation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModalTransactionConfirmation.vue?vue&type=template&id=6f1aa994&scoped=true&\"\nimport script from \"./ModalTransactionConfirmation.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModalTransactionConfirmation.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModalTransactionConfirmation.vue?vue&type=style&index=0&id=6f1aa994&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f1aa994\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvestingPage.vue?vue&type=style&index=0&id=4e1e5de5&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0ef03db0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTransactionConfirmation.vue?vue&type=style&index=0&id=6f1aa994&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"49b8c2ce\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkNodeSelector.vue?vue&type=style&index=0&id=613c7559&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"185b681e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvestingPage.vue?vue&type=style&index=0&id=4e1e5de5&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvestingPage.vue?vue&type=style&index=0&id=4e1e5de5&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../resources/fonts/NotoSans-Bold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../resources/fonts/NotoSans-ExtraBold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../resources/fonts/NotoSans-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../resources/fonts/NotoSans-Medium.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../resources/fonts/NotoSans-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../resources/fonts/NotoSans-SemiBold.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\n// Module\nexports.push([module.id, \"@font-face{font-family:noto-sans-bold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-extrabold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-light;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-medium;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-regular;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-semibold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");font-weight:400;font-style:normal}[data-v-06e97a1c] .form-row .auto-complete-size{width:6rem;height:100%;margin-top:.125rem;color:#44004e}[data-v-06e97a1c] .ivu-icon{margin-top:.125rem}[data-v-06e97a1c] .form-row .form-row-inner-container{display:grid;width:100%;height:100%;min-height:.45rem;grid-template-columns:2rem 7rem}[data-v-06e97a1c] .form-row .form-row-inner-container /deep/ .signer-selector-single-signer-container{margin-top:.075rem}[data-v-06e97a1c] .form-row .auto-complete-size{width:100%}[data-v-06e97a1c] .ivu-input{color:#44004e}[data-v-06e97a1c] .ivu-select-dropdown{background:#f5f5f5}[data-v-06e97a1c] .ivu-select-dropdown .ivu-select-item:hover{background-color:#fff}.info-text[data-v-06e97a1c],[data-v-06e97a1c] .ivu-select-item-focus{color:#44004e}.info-text[data-v-06e97a1c]{font-size:.16rem;font-family:noto-sans-light;margin-left:.7rem;margin-top:5%;margin-right:1rem;text-align:justify}[data-v-06e97a1c] .ivu-icon{margin-top:0}[data-v-06e97a1c] .inputs-container{top:.075rem}.harvesting-buttons-container button[data-v-06e97a1c]{max-width:2rem;float:right;margin-left:.1rem}.warning-node-swap[data-v-06e97a1c]{color:#b98e0d;margin-bottom:.2rem}.warning-node-swap i[data-v-06e97a1c]{font-size:.18rem}.buttons-row[data-v-06e97a1c]{margin-top:.3rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../resources/fonts/NotoSans-Bold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../resources/fonts/NotoSans-ExtraBold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../resources/fonts/NotoSans-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../resources/fonts/NotoSans-Medium.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../resources/fonts/NotoSans-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../resources/fonts/NotoSans-SemiBold.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\n// Module\nexports.push([module.id, \"@font-face{font-family:noto-sans-bold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-extrabold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-light;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-medium;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-regular;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-semibold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");font-weight:400;font-style:normal}.float-right[data-v-6f1aa994]{float:right}.clear-staged-transactions[data-v-6f1aa994]{font-size:.14rem;cursor:pointer}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('FormPersistentDelegationRequestTransaction')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-persistent-delegation-request\"},[_c('FormWrapper',[_c('ValidationObserver',{ref:\"observer\",attrs:{\"slim\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{attrs:{\"onsubmit\":\"event.preventDefault()\"}},[_c('div',{staticClass:\"info-text\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('delegated_harvesting_info'))+\" \")])]),_c('SignerSelector',{attrs:{\"signers\":_vm.signers},on:{\"input\":_vm.onChangeSigner},model:{value:(_vm.formItems.signerAddress),callback:function ($$v) {_vm.$set(_vm.formItems, \"signerAddress\", $$v)},expression:\"formItems.signerAddress\"}}),_c('NetworkNodeSelector',{model:{value:(_vm.formItems.nodeModel),callback:function ($$v) {_vm.$set(_vm.formItems, \"nodeModel\", $$v)},expression:\"formItems.nodeModel\"}}),(_vm.harvestingStatus !== 'INACTIVE' && !_vm.swapDisabled)?_c('FormRow',{scopedSlots:_vm._u([{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"warning-node-swap\",attrs:{\"type\":\"warning\"}},[_c('Icon',{attrs:{\"type\":\"ios-warning-outline\"}}),_vm._v(\" \"+_vm._s(_vm.$t('harvesting_warning_node_swap'))+\" \")],1)]},proxy:true}],null,true)}):_vm._e(),_c('FormRow',{attrs:{\"class-name\":\"buttons-row\"},scopedSlots:_vm._u([{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"harvesting-buttons-container\"},[(_vm.harvestingStatus === 'INACTIVE')?_c('button',{staticClass:\"centered-button button-style submit-button inverted-button\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){handleSubmit(_vm.onStart())}}},[_vm._v(\" \"+_vm._s(_vm.$t('start'))+\" \")]):_vm._e(),(!_vm.isPersistentDelReqSent && _vm.harvestingStatus !== 'INACTIVE')?_c('button',{staticClass:\"centered-button button-style submit-button inverted-button\",attrs:{\"disabled\":_vm.activating},on:{\"click\":_vm.activateHarvesting}},[_vm._v(\" \"+_vm._s(_vm.activating ? _vm.$t('activating') : _vm.$t('activate'))+\" \")]):_vm._e(),(_vm.isPersistentDelReqSent && _vm.harvestingStatus !== 'INACTIVE')?_c('button',{staticClass:\"centered-button button-style submit-button inverted-button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.swapDisabled},on:{\"click\":function($event){handleSubmit(_vm.onSwap())}}},[_vm._v(\" \"+_vm._s(_vm.$t('swap'))+\" \")]):_vm._e(),(_vm.harvestingStatus !== 'INACTIVE')?_c('button',{staticClass:\"centered-button button-style submit-button danger-button\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){handleSubmit(_vm.onStop())}}},[_vm._v(\" \"+_vm._s(_vm.$t('stop_harvesting'))+\" \")]):_vm._e()])]},proxy:true}],null,true)})],1)]}}])})],1),(_vm.hasConfirmationModal)?_c('ModalTransactionConfirmation',{attrs:{\"command\":this,\"visible\":_vm.hasConfirmationModal},on:{\"success\":_vm.onConfirmationSuccess,\"error\":_vm.onConfirmationError,\"close\":_vm.onConfirmationCancel}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FormRow',{attrs:{\"class-name\":\"emphasis\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t('node_url'))+\": \")]},proxy:true},{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"inputs-container\"},[_c('AutoComplete',{ref:\"nodeUrlInput\",staticClass:\"auto-complete-size auto-complete-style\",attrs:{\"name\":\"endpoint\",\"data\":_vm.customNodeData,\"placeholder\":_vm.$t('form_label_network_node_url'),\"placement\":\"bottom\",\"clearable\":true,\"filter-method\":_vm.filterUrls},on:{\"on-select\":_vm.fetchNodePublicKey,\"on-clear\":_vm.onClear},model:{value:(_vm.formNodeUrl),callback:function ($$v) {_vm.formNodeUrl=$$v},expression:\"formNodeUrl\"}}),(_vm.isFetchingNodeInfo)?_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"18\"}}):_vm._e()],1),(_vm.showInputPublicKey)?_c('div',{staticClass:\"inputs-container publickey-input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formNodePublicKey),expression:\"formNodePublicKey\"}],staticClass:\"input-size input-style\",attrs:{\"placeholder\":_vm.$t('node_public_key_input'),\"type\":\"text\"},domProps:{\"value\":(_vm.formNodePublicKey)},on:{\"blur\":_vm.onChangeFormNodePublicKey,\"input\":function($event){if($event.target.composing){ return; }_vm.formNodePublicKey=$event.target.value}}})]):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// external dependencies\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\n\n// internal dependencies\nimport { ValidationRuleset } from '@/core/validation/ValidationRuleset';\nimport { URLHelpers } from '@/core/utils/URLHelpers';\n\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\nimport { NodeInfo, RepositoryFactoryHttp } from 'symbol-sdk';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\n\n@Component({\n    components: {\n        FormWrapper,\n        FormRow,\n    },\n    computed: {\n        ...mapGetters({\n            peerNodes: 'network/peerNodes',\n            repositoryFactory: 'network/repositoryFactory',\n        }),\n    },\n})\nexport class NetworkNodeSelectorTs extends Vue {\n    @Prop({ default: () => [] }) excludeRoles: number[];\n\n    @Prop()\n    value: NodeModel;\n\n    /**\n     * Validation rules\n     */\n    public validationRules = ValidationRuleset;\n\n    public peerNodes: NodeInfo[];\n\n    /**\n     * Form items\n     */\n    protected formNodeUrl = '';\n\n    protected formNodePublicKey = '';\n\n    public customNodeData = [];\n\n    public isFetchingNodeInfo = false;\n\n    public showInputPublicKey = false;\n\n    /**\n     * Checks if the given node is eligible for harvesting\n     * @protected\n     * @returns {Promise<void>}\n     */\n    protected async fetchNodePublicKey(value) {\n        if (!value) {\n            return '';\n        }\n\n        // first check it in peer nodes\n        const peerNode = this.peerNodes.find((p) => p.host === value);\n        if (peerNode && peerNode?.nodePublicKey) {\n            const nodeModel = new NodeModel(value, peerNode.friendlyName, false, peerNode.publicKey, peerNode.nodePublicKey);\n            Vue.set(this, 'showInputPublicKey', false);\n            this.$emit('input', nodeModel);\n            return;\n        }\n\n        this.isFetchingNodeInfo = true;\n        try {\n            const nodeUrl = URLHelpers.getNodeUrl(value);\n            const repositoryFactory = new RepositoryFactoryHttp(nodeUrl);\n            const nodeRepository = repositoryFactory.createNodeRepository();\n            const nodeInfo = await nodeRepository.getNodeInfo().toPromise();\n            this.formNodeUrl = value;\n            if (nodeInfo.nodePublicKey) {\n                const nodeModel = new NodeModel(value, nodeInfo.friendlyName, false, nodeInfo.publicKey, nodeInfo.nodePublicKey);\n                Vue.set(this, 'showInputPublicKey', false);\n                this.$emit('input', nodeModel);\n            } else {\n                Vue.set(this, 'showInputPublicKey', true);\n            }\n        } catch (error) {\n            console.log(error);\n            Vue.set(this, 'showInputPublicKey', true);\n            throw new Error('Node_connection_failed');\n        } finally {\n            this.isFetchingNodeInfo = false;\n        }\n    }\n\n    public async created() {\n        await this.$store.dispatch('network/LOAD_PEER_NODES');\n        this.customNodeData = this.peerNodes.map((n) => n.host);\n    }\n\n    @Watch('value', { immediate: true })\n    protected valueWatcher(newVal: NodeModel) {\n        if (newVal) {\n            this.formNodeUrl = newVal.url;\n            if (!this.formNodeUrl) {\n                this.formNodePublicKey = newVal.nodePublicKey;\n            }\n            if (this.formNodePublicKey) {\n                this.showInputPublicKey = !this.formNodeUrl;\n            }\n        } else {\n            this.formNodeUrl = '';\n        }\n    }\n\n    public filterUrls(value, option) {\n        return option.toUpperCase().indexOf(value.toUpperCase()) !== -1;\n    }\n\n    public onChangeFormNodePublicKey(event) {\n        const nodeModel = { nodePublicKey: event.target.value };\n        this.$emit('input', nodeModel);\n    }\n\n    public onClear() {\n        // @ts-ignore\n        this.$refs.nodeUrlInput.$el.focus();\n        this.$emit('input', { nodePublicKey: '' });\n    }\n}\n","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport {\n    UInt64,\n    AccountKeyLinkTransaction,\n    LinkAction,\n    Transaction,\n    VrfKeyLinkTransaction,\n    Account,\n    NodeKeyLinkTransaction,\n    PersistentDelegationRequestTransaction,\n    AccountInfo,\n    AggregateTransaction,\n    PublicAccount,\n    Deadline,\n    LockFundsTransaction,\n    Mosaic,\n    SignedTransaction,\n} from 'symbol-sdk';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport Vue from 'vue';\n\n// internal dependencies\nimport { Formatters } from '@/core/utils/Formatters';\nimport { FormTransactionBase } from '@/views/forms/FormTransactionBase/FormTransactionBase';\n\n// child components\nimport { ValidationObserver } from 'vee-validate';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport ModalTransactionConfirmation from '@/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue';\n// @ts-ignore\nimport SignerSelector from '@/components/SignerSelector/SignerSelector.vue';\n// @ts-ignore\nimport MaxFeeAndSubmit from '@/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue';\n// @ts-ignore\nimport NetworkNodeSelector from '@/components/NetworkNodeSelector/NetworkNodeSelector.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n// @ts-ignore\nimport ErrorTooltip from '@/components/ErrorTooltip/ErrorTooltip.vue';\nimport { ValidationProvider } from 'vee-validate';\n\nimport { feesConfig } from '@/config';\nimport { HarvestingStatus } from '@/store/Harvesting';\nimport { AccountTransactionSigner, TransactionAnnouncerService, TransactionSigner } from '@/services/TransactionAnnouncerService';\nimport { Observable, of } from 'rxjs';\nimport { concatMap, flatMap, map, mergeAll, switchMap, tap, toArray } from 'rxjs/operators';\nimport { BroadcastResult } from '@/core/transactions/BroadcastResult';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\nimport { MosaicModel } from '@/core/database/entities/MosaicModel';\n\nexport enum HarvestingAction {\n    START = 1,\n    STOP = 2,\n    SWAP = 3,\n    ACTIVATE = 4,\n}\n\n@Component({\n    components: {\n        FormWrapper,\n        ModalTransactionConfirmation,\n        SignerSelector,\n        ValidationObserver,\n        MaxFeeAndSubmit,\n        FormRow,\n        NetworkNodeSelector,\n        ErrorTooltip,\n        ValidationProvider,\n    },\n    computed: {\n        ...mapGetters({\n            currentHeight: 'network/currentHeight',\n            currentSignerAccountInfo: 'account/currentSignerAccountInfo',\n            harvestingStatus: 'harvesting/status',\n            currentSignerAccountModel: 'account/currentSignerAccountModel',\n            networkBalanceMosaics: 'mosaic/networkBalanceMosaics',\n        }),\n    },\n})\nexport class FormPersistentDelegationRequestTransactionTs extends FormTransactionBase {\n    @Prop({ default: null }) signerAddress: string;\n    //@Prop({ default: true }) withLink: boolean;\n\n    /**\n     * Formatters helpers\n     */\n    public formatters = Formatters;\n\n    /**\n     * Form items\n     */\n    public formItems = {\n        nodeModel: { nodePublicKey: '' } as NodeModel,\n        signerAddress: '',\n    };\n\n    private newVrfKeyAccount: Account;\n    private newRemoteAccount: Account;\n\n    /**\n     * Current signer account info\n     */\n    private currentSignerAccountInfo: AccountInfo;\n\n    private currentSignerAccountModel: AccountModel;\n\n    private action = HarvestingAction.START;\n\n    private harvestingStatus: HarvestingStatus;\n\n    private tempTransactionSigner: TransactionSigner;\n\n    private activating = false;\n\n    /**\n     * Current account owned mosaics\n     * @protected\n     * @type {MosaicModel[]}\n     */\n    private networkBalanceMosaics: MosaicModel;\n\n    /**\n     * Reset the form with properties\n     * @return {void}\n     */\n    protected resetForm() {\n        // - set default form values\n        this.action = HarvestingAction.START;\n        // - maxFee must be absolute\n        this.newVrfKeyAccount = Account.generateNewAccount(this.networkType);\n        this.newRemoteAccount = Account.generateNewAccount(this.networkType);\n        this.tempTransactionSigner = new AccountTransactionSigner(Account.generateNewAccount(this.networkType));\n    }\n\n    @Watch('currentSignerAccountInfo', { immediate: true })\n    private currentSignerWatch() {\n        this.formItems.signerAddress = this.signerAddress || this.currentSignerAccountInfo?.address.plain();\n\n        if (this.isNodeKeyLinked) {\n            this.formItems.nodeModel.nodePublicKey = this.currentSignerAccountInfo?.supplementalPublicKeys.node.publicKey;\n            if (this.currentSignerAccountModel?.selectedHarvestingNode) {\n                this.formItems.nodeModel = this.currentSignerAccountModel.selectedHarvestingNode;\n            } else {\n                this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n            }\n        } else {\n            this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n        }\n    }\n\n    /**\n     * To get all the key link transactions\n     */\n    protected getKeyLinkTransactions(transactionSigner = this.tempTransactionSigner): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest); // fixed to the Highest, txs must get confirmed\n        const txs: Transaction[] = [];\n\n        /*\n         LINK\n         START => link all (new keys)\n         STOP =>  unlink all (linked keys)\n         SWAP =>  unlink(linked) + link all (new keys)\n         */\n\n        if (this.isAccountKeyLinked) {\n            const accountKeyUnLinkTx = this.createAccountKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.linked.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(accountKeyUnLinkTx);\n        }\n\n        if (this.isVrfKeyLinked) {\n            const vrfKeyUnLinkTx = this.createVrfKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.vrf.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(vrfKeyUnLinkTx);\n        }\n\n        if (this.isNodeKeyLinked) {\n            const nodeUnLinkTx = this.createNodeKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.node.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n\n            txs.push(nodeUnLinkTx);\n        }\n\n        if (this.action !== HarvestingAction.STOP) {\n            const accountKeyLinkTx = this.createAccountKeyLinkTx(this.newRemoteAccount.publicKey, LinkAction.Link, maxFee);\n            const vrfKeyLinkTx = this.createVrfKeyLinkTx(this.newVrfKeyAccount.publicKey, LinkAction.Link, maxFee);\n            const nodeLinkTx = this.createNodeKeyLinkTx(this.formItems.nodeModel.nodePublicKey, LinkAction.Link, maxFee);\n            txs.push(accountKeyLinkTx, vrfKeyLinkTx, nodeLinkTx);\n        }\n\n        if (txs.length > 0) {\n            if (this.isMultisigMode()) {\n                return this.toMultiSigAggregate(txs, maxFee, transactionSigner);\n            } else {\n                const aggregate = this.calculateSuggestedMaxFee(\n                    AggregateTransaction.createComplete(\n                        Deadline.create(this.epochAdjustment),\n                        txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                        this.networkType,\n                        [],\n                        maxFee,\n                    ),\n                );\n                return of([aggregate]);\n            }\n        }\n        return of([]);\n    }\n\n    public toMultiSigAggregate(txs: Transaction[], maxFee, transactionSigner: TransactionSigner) {\n        const aggregate = this.calculateSuggestedMaxFee(\n            AggregateTransaction.createBonded(\n                Deadline.create(this.epochAdjustment),\n                txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                this.networkType,\n                [],\n                maxFee,\n            ),\n        );\n        return transactionSigner.signTransaction(aggregate, this.generationHash).pipe(\n            map((signedAggregateTransaction) => {\n                const hashLock = this.calculateSuggestedMaxFee(\n                    LockFundsTransaction.create(\n                        Deadline.create(this.epochAdjustment),\n                        new Mosaic(this.networkMosaic, UInt64.fromNumericString(this.networkConfiguration.lockedFundsPerAggregate)),\n                        UInt64.fromUint(1000),\n                        signedAggregateTransaction,\n                        this.networkType,\n                        maxFee,\n                    ),\n                );\n                return [hashLock, aggregate];\n            }),\n        );\n    }\n\n    public getPersistentDelegationRequestTransaction(\n        transactionSigner: TransactionSigner = this.tempTransactionSigner,\n    ): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest);\n        if (this.action !== HarvestingAction.STOP) {\n            const persistentDelegationReqTx = PersistentDelegationRequestTransaction.createPersistentDelegationRequestTransaction(\n                Deadline.create(this.epochAdjustment, this.isMultisigMode() ? 24 : 2),\n                this.newRemoteAccount.privateKey,\n                this.newVrfKeyAccount.privateKey,\n                this.formItems.nodeModel.nodePublicKey,\n                this.networkType,\n                maxFee,\n            );\n\n            return this.isMultisigMode()\n                ? this.toMultiSigAggregate([persistentDelegationReqTx], maxFee, transactionSigner)\n                : of([this.calculateSuggestedMaxFee(persistentDelegationReqTx)]);\n        }\n        return of([]);\n    }\n\n    public resolveTransactions(): Observable<Transaction[]> {\n        return this.getKeyLinkTransactions().pipe(\n            switchMap((txs) => this.getPersistentDelegationRequestTransaction().pipe(map((ptxs) => [...txs, ...ptxs]))),\n        );\n    }\n\n    public announce(service: TransactionAnnouncerService, transactionSigner: TransactionSigner): Observable<Observable<BroadcastResult>[]> {\n        // announce the keyLink txs and save the signed PersistentDelegationReqTx to the store\n        const accountId = this.currentSignerAccountModel.id;\n        const signedPersistentDelReqTx$ = this.getPersistentDelegationRequestTransaction(transactionSigner).pipe(\n            concatMap((txs) => txs.map((t) => transactionSigner.signTransaction(t, this.generationHash))),\n            mergeAll(),\n            toArray(),\n        );\n\n        return this.getKeyLinkTransactions(transactionSigner).pipe(\n            flatMap((transactions) => {\n                const signedTransactions = transactions.map((t) => transactionSigner.signTransaction(t, this.generationHash));\n                if (!signedTransactions.length) {\n                    return of([]) as Observable<Observable<BroadcastResult>[]>;\n                }\n                if (this.isMultisigMode()) {\n                    return of([this.announceHashAndAggregateBonded(service, signedTransactions)]);\n                } else {\n                    return of(this.announceSimple(service, signedTransactions));\n                }\n            }),\n            tap((resArr) =>\n                resArr[0].subscribe((res) => {\n                    if (res.success) {\n                        signedPersistentDelReqTx$.subscribe((signedTx) => this.saveSignedPersistentDelReqTxs(accountId, signedTx));\n                        this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', {\n                            accountId,\n                            isPersistentDelReqSent: false,\n                        });\n\n                        this.$store.dispatch('account/UPDATE_ACCOUNT_SELECTED_HARVESTING_NODE', {\n                            accountId,\n                            selectedHarvestingNode: this.formItems.nodeModel,\n                        });\n                    }\n                }),\n            ),\n        );\n    }\n\n    private announceHashAndAggregateBonded(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult> {\n        return signedTransactions[0].pipe(\n            flatMap((signedHashLockTransaction) => {\n                return signedTransactions[1].pipe(\n                    flatMap((signedAggregateTransaction) => {\n                        return service.announceHashAndAggregateBonded(signedHashLockTransaction, signedAggregateTransaction);\n                    }),\n                );\n            }),\n        );\n    }\n\n    private announceSimple(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult>[] {\n        return signedTransactions.map((o) => o.pipe(flatMap((s) => service.announce(s))));\n    }\n\n    private calculateSuggestedMaxFee(transaction: Transaction): Transaction {\n        const feeMultiplier = this.resolveFeeMultipler(transaction);\n        if (!feeMultiplier) {\n            return transaction;\n        }\n        if (transaction instanceof AggregateTransaction) {\n            return transaction.setMaxFeeForAggregate(feeMultiplier, this.requiredCosignatures);\n        } else {\n            return transaction.setMaxFee(feeMultiplier);\n        }\n    }\n\n    private resolveFeeMultipler(transaction: Transaction): number | undefined {\n        if (transaction.maxFee.compact() == 1) {\n            return this.transactionFees.medianFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n            // TODO uncomment the following line when https://github.com/nemtech/catapult-rest/issues/326 is resolved\n            // return this.transactionFees.averageFeeMultiplier * 1.2 || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        if (transaction.maxFee.compact() == 2) {\n            return this.transactionFees.highestFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        return undefined;\n    }\n    private saveSignedPersistentDelReqTxs(accountId: string, signedPersistentDelReqTxs: SignedTransaction[]) {\n        this.$store.dispatch('account/UPDATE_ACCOUNT_SIGNED_PERSISTENT_DEL_REQ_TXS', { accountId, signedPersistentDelReqTxs });\n        if (!signedPersistentDelReqTxs || signedPersistentDelReqTxs.length === 0) {\n            const isPersistentDelReqSent = false;\n            this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', { accountId, isPersistentDelReqSent });\n        }\n    }\n\n    protected activateHarvesting() {\n        Vue.set(this, 'activating', true);\n        const accountId = this.currentSignerAccountModel.id;\n        const transactionAnnoucer = new TransactionAnnouncerService(this.$store);\n        let announceResult: Observable<BroadcastResult>;\n\n        if (this.isMultisigMode()) {\n            announceResult = transactionAnnoucer.announceHashAndAggregateBonded(\n                this.signedPersistentDelReqTxs[0],\n                this.signedPersistentDelReqTxs[1],\n            );\n        } else {\n            announceResult = transactionAnnoucer.announce(this.signedPersistentDelReqTxs[0]);\n        }\n        announceResult.subscribe((res) => {\n            if (res.success) {\n                this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', { accountId, isPersistentDelReqSent: true });\n            }\n            Vue.set(this, 'activating', false);\n        });\n    }\n\n    private createAccountKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): AccountKeyLinkTransaction {\n        return AccountKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createVrfKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): VrfKeyLinkTransaction {\n        return VrfKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createNodeKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): NodeKeyLinkTransaction {\n        return NodeKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n\n    /**\n     * Whether all keys are linked\n     */\n    private get allKeysLinked(): boolean {\n        return this.isAccountKeyLinked && this.isVrfKeyLinked && this.isNodeKeyLinked;\n    }\n\n    /**\n     * Whether account key is linked\n     */\n    private get isAccountKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.linked;\n    }\n\n    /**\n     * Whether vrf key is linked\n     */\n    private get isVrfKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.vrf;\n    }\n\n    /**\n     * Whether node key is linked\n     */\n    private get isNodeKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.node;\n    }\n\n    /**\n     * Setter for TRANSFER transactions that will be staged\n     * @see {FormTransactionBase}\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected setTransactions() {\n        throw new Error('This transaction can not be staged');\n    }\n\n    public onStart() {\n        this.action = HarvestingAction.START;\n        if (this.networkBalanceMosaics.balance / Math.pow(10, this.networkBalanceMosaics.divisibility) < 10000) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('harvesting_account_insufficient_balance'));\n            return;\n        }\n        this.onSubmit();\n    }\n\n    public onStop() {\n        this.action = HarvestingAction.STOP;\n        this.onSubmit();\n    }\n\n    public onSwap() {\n        this.action = HarvestingAction.SWAP;\n        this.onSubmit();\n    }\n\n    public get swapDisabled(): boolean {\n        return (\n            this.formItems.nodeModel.nodePublicKey?.toLowerCase() ===\n            this.currentSignerAccountInfo.supplementalPublicKeys?.node?.publicKey?.toLowerCase()\n        );\n    }\n\n    public onSubmit() {\n        if (!this.allKeysLinked && !this.formItems.nodeModel.nodePublicKey.length) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('invalid_node'));\n            return;\n        }\n\n        // - open signature modal\n        this.onShowConfirmationModal();\n    }\n\n    public get currentSignerAccount() {\n        return PublicAccount.createFromPublicKey(this.currentSignerPublicKey, this.networkType);\n    }\n\n    private get requiredCosignatures() {\n        return this.currentSignerMultisigInfo ? this.currentSignerMultisigInfo.minApproval : this.selectedSigner.requiredCosignatures;\n    }\n\n    private get signedPersistentDelReqTxs() {\n        return this.currentSignerAccountModel.signedPersistentDelReqTxs?.map(\n            (st) => new SignedTransaction(st.payload, st.hash, st.signerPublicKey, st.type, st.networkType),\n        );\n    }\n\n    private get isPersistentDelReqSent() {\n        return this.currentSignerAccountModel.isPersistentDelReqSent;\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { NetworkNodeSelectorTs } from './NetworkNodeSelectorTs';\nexport default class NetworkNodeSelector extends NetworkNodeSelectorTs {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkNodeSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetworkNodeSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NetworkNodeSelector.vue?vue&type=template&id=613c7559&scoped=true&\"\nimport script from \"./NetworkNodeSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NetworkNodeSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NetworkNodeSelector.vue?vue&type=style&index=0&id=613c7559&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"613c7559\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { FormPersistentDelegationRequestTransactionTs } from './FormPersistentDelegationRequestTransactionTs';\nexport default class FormPersistentDelegationRequestTransaction extends FormPersistentDelegationRequestTransactionTs {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPersistentDelegationRequestTransaction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPersistentDelegationRequestTransaction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormPersistentDelegationRequestTransaction.vue?vue&type=template&id=06e97a1c&scoped=true&\"\nimport script from \"./FormPersistentDelegationRequestTransaction.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormPersistentDelegationRequestTransaction.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FormPersistentDelegationRequestTransaction.vue?vue&type=style&index=0&id=06e97a1c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06e97a1c\",\n  null\n  \n)\n\nexport default component.exports","import { Vue, Component } from 'vue-property-decorator';\n// @ts-ignore\nimport FormPersistentDelegationRequestTransaction from '@/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransaction.vue';\n\n@Component({\n    components: { FormPersistentDelegationRequestTransaction },\n})\nexport default class HarvestingPageTs extends Vue {}\n","\n\n\n\n\n\n\n// external dependencies\nimport HarvestingPageTs from './HarvestingPageTs';\n\nexport default class HarvestingPage extends HarvestingPageTs {}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvestingPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HarvestingPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HarvestingPage.vue?vue&type=template&id=4e1e5de5&scoped=true&\"\nimport script from \"./HarvestingPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./HarvestingPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HarvestingPage.vue?vue&type=style&index=0&id=4e1e5de5&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e1e5de5\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPersistentDelegationRequestTransaction.vue?vue&type=style&index=0&id=06e97a1c&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"14769c80\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../../resources/fonts/NotoSans-Bold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../../resources/fonts/NotoSans-ExtraBold.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../../resources/fonts/NotoSans-Light.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../../resources/fonts/NotoSans-Medium.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../../resources/fonts/NotoSans-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../../resources/fonts/NotoSans-SemiBold.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\n// Module\nexports.push([module.id, \"@font-face{font-family:noto-sans-bold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-extrabold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-light;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-medium;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-regular;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");font-weight:400;font-style:normal}@font-face{font-family:noto-sans-semibold;src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \");font-weight:400;font-style:normal}.main-delegated-container[data-v-4e1e5de5]{display:grid;grid-template-rows:1rem 2rem auto}.main-delegated-container .info-text[data-v-4e1e5de5]{color:#44004e;font-size:.16rem;font-family:noto-sans-light;margin-left:5%;margin-top:5%;margin-right:1rem;text-align:justify}.main-delegated-container .bottom-container[data-v-4e1e5de5]{margin-left:1rem;margin-top:.25rem;margin-right:1rem;text-align:justify}.main-delegated-container .padding-1[data-v-4e1e5de5]{padding:.1rem;border-radius:.05rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPersistentDelegationRequestTransaction.vue?vue&type=style&index=0&id=06e97a1c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormPersistentDelegationRequestTransaction.vue?vue&type=style&index=0&id=06e97a1c&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-613c7559] .ivu-select-dropdown-list{max-height:3rem}[data-v-613c7559] .ivu-auto-complete .ivu-icon-ios-close{font-size:.24rem}.publickey-input-container[data-v-613c7559]{background:#f2f2f2;margin-top:.04rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTransactionConfirmation.vue?vue&type=style&index=0&id=6f1aa994&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalTransactionConfirmation.vue?vue&type=style&index=0&id=6f1aa994&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FormRow',{scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.$t('fee'))+\": \")]},proxy:true},{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"row-75-25 inputs-container\"},[_c('MaxFeeSelector',{attrs:{\"calculated-recommended-fee\":_vm.calculatedRecommendedFee,\"calculated-highest-fee\":_vm.calculatedHighestFee},model:{value:(_vm.maxFee),callback:function ($$v) {_vm.maxFee=$$v},expression:\"maxFee\"}}),(!_vm.hideSubmit)?_c('div',{staticClass:\"ml-2\"},[_c('button',{class:'centered-button button-style submit-button ' + _vm.submitButtonClasses,attrs:{\"type\":\"submit\",\"disabled\":_vm.disableSubmit},on:{\"click\":function($event){return _vm.$emit('button-clicked')}}},[_vm._v(\" \"+_vm._s(_vm.$t(_vm.submitButtonText))+\" \")])]):_vm._e()],1),(_vm.showWarnings && _vm.anyWarnings)?_c('div',[(_vm.isFeeLowerThanRecommendedFee)?_c('div',{staticClass:\"warning-fee-low\",attrs:{\"type\":\"warning\"}},[_c('Icon',{attrs:{\"type\":\"ios-warning-outline\"}}),_vm._v(\" \"+_vm._s(_vm.$t('low_fee_warning_message'))+\" expire. \")],1):_vm._e()]):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// extenal dependencies\nimport { Component, Vue, Prop } from 'vue-property-decorator';\n\n// child components\nimport MaxFeeSelector from '@/components/MaxFeeSelector/MaxFeeSelector.vue';\nimport FormRow from '@/components/FormRow/FormRow.vue';\n\n@Component({ components: { MaxFeeSelector, FormRow } })\nexport default class MaxFeeAndSubmit extends Vue {\n    /**\n     * Max fee value, bound to parent v-model\n     * @type {number}\n     */\n    @Prop({ default: 0, required: true }) value: number;\n\n    /**\n     * Whether form submit button is hidden\n     * @type {boolean}\n     */\n    @Prop({ default: false }) hideSubmit: boolean;\n\n    /**\n     * Whether form submit button is disabled\n     * @type {boolean}\n     */\n    @Prop({ default: false }) disableSubmit: boolean;\n\n    /**\n     * Dynamically calculated recommended fee\n     */\n    @Prop({ default: 0 }) calculatedRecommendedFee: number;\n\n    /**\n     * Dynamically calculated highest fee\n     */\n    @Prop({ default: 0 }) calculatedHighestFee: number;\n\n    /**\n     * Whether warnings are visible\n     */\n    @Prop({ default: true }) showWarnings: boolean;\n\n    /**\n     * Submit button text\n     */\n    @Prop({ default: 'send' }) submitButtonText: string;\n\n    /**\n     * Submit button classes\n     */\n    @Prop({ default: 'inverted-button' }) submitButtonClasses: string;\n\n    /**\n     * Get max fee value from the value prop\n     * @readonly\n     * @protected\n     * @type {number}\n     */\n    protected get maxFee(): number {\n        return this.value;\n    }\n\n    /**\n     * Emit chosen max fee value to the parent component\n     * @protected\n     */\n    protected set maxFee(chosenMaxFee) {\n        this.$emit('input', chosenMaxFee);\n    }\n\n    /**\n     * Whether there are any warnings\n     */\n    protected get anyWarnings(): boolean {\n        return this.isFeeLowerThanRecommendedFee;\n    }\n\n    /**\n     * Whether selected fee is lower than recommended fee\n     */\n    protected get isFeeLowerThanRecommendedFee() {\n        if (this.calculatedRecommendedFee > 0 && this.maxFee !== 1 && this.maxFee !== 2) {\n            return this.maxFee < this.calculatedRecommendedFee;\n        }\n        return false;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeAndSubmit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaxFeeAndSubmit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaxFeeAndSubmit.vue?vue&type=template&id=d4a1c466&scoped=true&\"\nimport script from \"./MaxFeeAndSubmit.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaxFeeAndSubmit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaxFeeAndSubmit.vue?vue&type=style&index=0&id=d4a1c466&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4a1c466\",\n  null\n  \n)\n\nexport default component.exports","/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { MosaicId, MultisigAccountInfo, NetworkType, PublicAccount, Transaction, TransactionFees, Address, Deadline } from 'symbol-sdk';\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\n// internal dependencies\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { ValidationObserver } from 'vee-validate';\nimport { Signer } from '@/store/Account';\nimport { NetworkCurrencyModel } from '@/core/database/entities/NetworkCurrencyModel';\nimport { TransactionCommand, TransactionCommandMode } from '@/services/TransactionCommand';\nimport { NetworkConfigurationModel } from '@/core/database/entities/NetworkConfigurationModel';\n\n@Component({\n    computed: {\n        ...mapGetters({\n            generationHash: 'network/generationHash',\n            networkType: 'network/networkType',\n            epochAdjustment: 'network/epochAdjustment',\n            defaultFee: 'app/defaultFee',\n            currentAccount: 'account/currentAccount',\n            selectedSigner: 'account/currentSigner',\n            currentSignerPublicKey: 'account/currentSignerPublicKey',\n            currentSignerAddress: 'account/currentSignerAddress',\n            currentSignerMultisigInfo: 'account/currentSignerMultisigInfo',\n            currentAccountMultisigInfo: 'account/currentAccountMultisigInfo',\n            isCosignatoryMode: 'account/isCosignatoryMode',\n            networkMosaic: 'mosaic/networkMosaic',\n            networkCurrency: 'mosaic/networkCurrency',\n            signers: 'account/signers',\n            networkConfiguration: 'network/networkConfiguration',\n            transactionFees: 'network/transactionFees',\n        }),\n    },\n})\nexport class FormTransactionBase extends Vue {\n    /// region store getters\n    /**\n     * Network generation hash\n     */\n    public generationHash: string;\n\n    /**\n     * Network type\n     * @var {NetworkType}\n     */\n    public networkType: NetworkType;\n\n    /**\n     * The network configuration epochAdjustment.\n     */\n    public epochAdjustment: number;\n\n    /**\n     * Default fee setting\n     */\n    public defaultFee: number;\n\n    /**\n     * Currently active account\n     */\n    public currentAccount: AccountModel;\n\n    /**\n     * Currently active signer\n     */\n    public selectedSigner: Signer;\n\n    /**\n     * Currently active signer's public key\n     */\n    public currentSignerPublicKey: string;\n\n    /**\n     * Currently active signer's address\n     */\n    public currentSignerAddress: Address;\n\n    /**\n     * Current account multisig info\n     * @type {MultisigAccountInfo}\n     */\n    public currentAccountMultisigInfo: MultisigAccountInfo;\n\n    /**\n     * Current signer multisig info\n     * @var {MultisigAccountInfo}\n     */\n    public currentSignerMultisigInfo: MultisigAccountInfo;\n\n    /**\n     * Whether the form is in cosignatory mode (cosigner selected)\n     * @var {boolean}\n     */\n    public isCosignatoryMode: boolean;\n\n    /**\n     * Networks currency mosaic\n     * @var {MosaicId}\n     */\n    public networkMosaic: MosaicId;\n\n    /**\n     * Currently staged transactions\n     * @var {Transaction[]}\n     */\n    public stagedTransactions: Transaction[];\n\n    /**\n     * Public key of the current signer\n     * @var {any}\n     */\n    public currentSigner: PublicAccount;\n\n    public signers: Signer[];\n\n    public networkCurrency: NetworkCurrencyModel;\n\n    public networkConfiguration: NetworkConfigurationModel;\n\n    public command: TransactionCommand;\n\n    protected transactionFees: TransactionFees;\n\n    /**\n     * Type the ValidationObserver refs\n     * @type {{\n     *     observer: InstanceType<typeof ValidationObserver>\n     *   }}\n     */\n    public $refs!: {\n        observer: InstanceType<typeof ValidationObserver>;\n    };\n\n    /// end-region store getters\n\n    /// region property watches\n    @Watch('currentAccount')\n    onCurrentAccountChange() {\n        this.resetForm(); // @TODO: probably not the best way\n        this.resetFormValidation();\n    }\n\n    /// end-region property watches\n\n    /**\n     * Whether the form is currently awaiting a signature\n     * @var {boolean}\n     */\n    public isAwaitingSignature: boolean = false;\n\n    /**\n     * Hook called when the component is mounted\n     * @return {void}\n     */\n    public async created() {\n        this.$store.dispatch('network/LOAD_TRANSACTION_FEES');\n        this.resetForm();\n    }\n\n    /**\n     * it creates the deadlines for the transactions.\n     */\n    protected createDeadline(): Deadline {\n        return Deadline.create(this.epochAdjustment);\n    }\n\n    /**\n     * Hook called when the component is being destroyed (before)\n     * @return {void}\n     */\n    public beforeDestroy() {\n        // reset the selected signer if it is not the current account\n        if (!this.currentAccount) {\n            return;\n        }\n\n        if (!this.selectedSigner.address.equals(Address.createFromRawAddress(this.currentAccount.address))) {\n            this.$store.dispatch('account/SET_CURRENT_SIGNER', {\n                address: Address.createFromRawAddress(this.currentAccount.address),\n            });\n        }\n    }\n\n    /**\n     * Current signer's multisig accounts\n     * @readonly\n     * @type {{publicKey: string, label: string}[]}\n     */\n    get multisigAccounts(): Signer[] {\n        const signers = this.signers;\n        // if \"self\" is multisig, also return self\n        if (this.isMultisigAccount) {\n            return signers;\n        }\n\n        // all signers except current account\n        return [...signers].splice(1);\n    }\n\n    get hasConfirmationModal(): boolean {\n        return this.isAwaitingSignature;\n    }\n\n    set hasConfirmationModal(f: boolean) {\n        this.isAwaitingSignature = f;\n    }\n\n    get isMultisigAccount(): boolean {\n        return this.currentAccountMultisigInfo && this.currentAccountMultisigInfo.isMultisig();\n    }\n\n    /// end-region computed properties getter/setter\n\n    /**\n     * Reset the form with properties\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected resetForm() {\n        throw new Error(\"Method 'resetForm()' must be overloaded in derivate components.\");\n    }\n    /**\n     * Getter for whether forms should aggregate transactions in BONDED\n     * @return {boolean}\n     */\n    protected isMultisigMode(): boolean {\n        return this.isCosignatoryMode === true;\n    }\n\n    /**\n     * Getter for transactions that will be staged\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected getTransactions(): Transaction[] {\n        throw new Error(\"Getter method 'getTransactions()' must be overloaded in derivate components.\");\n    }\n\n    /**\n     * Setter for transactions that will be staged\n     * @param {Transaction[]} transactions\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected setTransactions(transactions: Transaction[]) {\n        //TODO do we need these methods?\n        const error = `setTransactions() must be overloaded. Call got ${transactions.length} transactions.`;\n        throw new Error(error);\n    }\n\n    /**\n     * Hook called when the confirmation modal must open\n     * @see {FormTransactionBase}\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected onShowConfirmationModal() {\n        this.hasConfirmationModal = true;\n    }\n\n    /**\n     * Hook called when a signer is selected.\n     * @param {string} publicKey\n     */\n    public async onChangeSigner(address: string) {\n        // this.currentSigner = PublicAccount.createFromPublicKey(publicKey, this.networkType)\n        await this.$store.dispatch('account/SET_CURRENT_SIGNER', { address: Address.createFromRawAddress(address) });\n    }\n\n    protected getTransactionCommandMode(transactions: Transaction[]): TransactionCommandMode {\n        if (this.isMultisigMode()) {\n            return TransactionCommandMode.MULTISIGN;\n        }\n        if (transactions.length > 1) {\n            return TransactionCommandMode.AGGREGATE;\n        } else {\n            return TransactionCommandMode.SIMPLE;\n        }\n    }\n\n    public createTransactionCommand(): TransactionCommand {\n        const transactions = this.getTransactions();\n        const mode = this.getTransactionCommandMode(transactions);\n        return new TransactionCommand(\n            mode,\n            this.selectedSigner,\n            this.currentSignerPublicKey,\n            transactions,\n            this.networkMosaic,\n            this.generationHash,\n            this.networkType,\n            this.epochAdjustment,\n            this.networkConfiguration,\n            this.transactionFees,\n            this.currentSignerMultisigInfo ? this.currentSignerMultisigInfo.minApproval : this.selectedSigner.requiredCosignatures,\n        );\n    }\n\n    /**\n     * Process form input\n     * @return {void}\n     */\n    public onSubmit() {\n        // - open signature modal\n        this.command = this.createTransactionCommand();\n        this.onShowConfirmationModal();\n    }\n\n    /**\n     * Hook called when the child component ModalTransactionConfirmation triggers\n     * the event 'success'\n     */\n    public onConfirmationSuccess() {\n        // if the form was in multisig, set the signer to be the main account\n        // this triggers resetForm in the @Watch('currentAccount') hook\n        if (this.isMultisigMode()) {\n            this.$store.dispatch('account/SET_CURRENT_ACCOUNT', this.currentAccount);\n        }\n        this.resetForm();\n        this.hasConfirmationModal = false;\n        this.$emit('on-confirmation-success');\n        // Reset form validation\n        this.resetFormValidation();\n    }\n\n    /**\n     * Reset form validation\n     * @private\n     */\n    private resetFormValidation(): void {\n        this.$refs && this.$refs.observer && this.$refs.observer.reset();\n    }\n\n    /**\n     * Hook called when the child component ModalTransactionConfirmation triggers\n     * the event 'error'\n     * @return {void}\n     */\n    public onConfirmationError(error: string) {\n        this.$store.dispatch('notification/ADD_ERROR', error);\n    }\n\n    /**\n     * Hook called when the child component ModalTransactionConfirmation triggers\n     * the event 'close'\n     * @return {void}\n     */\n    public onConfirmationCancel() {\n        this.hasConfirmationModal = false;\n    }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".warning-fee-low[data-v-d4a1c466]{color:#b98e0d}.warning-fee-low i[data-v-d4a1c466]{font-size:.18rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}