{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/store/Profile.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/store/Profile.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gInRzbGliIjsKLyoKICogQ29weXJpZ2h0IDIwMjAgTkVNIChodHRwczovL25lbS5pbykKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvLyBpbnRlcm5hbCBkZXBlbmRlbmNpZXMKCmltcG9ydCB7ICRldmVudEJ1cyB9IGZyb20gJy4uL2V2ZW50cyc7CmltcG9ydCB7IEF3YWl0TG9jayB9IGZyb20gJy4vQXdhaXRMb2NrJzsKaW1wb3J0IHsgU2V0dGluZ1NlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL1NldHRpbmdTZXJ2aWNlJzsKaW1wb3J0IHsgUHJvZmlsZVNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL1Byb2ZpbGVTZXJ2aWNlJzsgLy8vIHJlZ2lvbiBnbG9iYWxzCgp2YXIgTG9jayA9IEF3YWl0TG9jay5jcmVhdGUoKTsKdmFyIHByb2ZpbGVTdGF0ZSA9IHsKICBpbml0aWFsaXplZDogZmFsc2UsCiAgY3VycmVudFByb2ZpbGU6IG51bGwsCiAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICBpc1NldHRpbmdzVmlzaWJsZTogZmFsc2UKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHByb2ZpbGVTdGF0ZSwKICBnZXR0ZXJzOiB7CiAgICBnZXRJbml0aWFsaXplZDogZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmluaXRpYWxpemVkOwogICAgfSwKICAgIGN1cnJlbnRQcm9maWxlOiBmdW5jdGlvbiBjdXJyZW50UHJvZmlsZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFByb2ZpbGU7CiAgICB9LAogICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmlzQXV0aGVudGljYXRlZDsKICAgIH0sCiAgICBpc1NldHRpbmdzVmlzaWJsZTogZnVuY3Rpb24gaXNTZXR0aW5nc1Zpc2libGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmlzU2V0dGluZ3NWaXNpYmxlOwogICAgfSwKICAgIGlzUHJpdmF0ZUtleVByb2ZpbGU6IGZ1bmN0aW9uIGlzUHJpdmF0ZUtleVByb2ZpbGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRQcm9maWxlID8gIXN0YXRlLmN1cnJlbnRQcm9maWxlLnNlZWQgOiBmYWxzZTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0SW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uIHNldEluaXRpYWxpemVkKHN0YXRlLCBpbml0aWFsaXplZCkgewogICAgICBzdGF0ZS5pbml0aWFsaXplZCA9IGluaXRpYWxpemVkOwogICAgfSwKICAgIGN1cnJlbnRQcm9maWxlOiBmdW5jdGlvbiBjdXJyZW50UHJvZmlsZShzdGF0ZSwgX2N1cnJlbnRQcm9maWxlKSB7CiAgICAgIHJldHVybiBWdWUuc2V0KHN0YXRlLCAnY3VycmVudFByb2ZpbGUnLCBfY3VycmVudFByb2ZpbGUpOwogICAgfSwKICAgIHNldEF1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIHNldEF1dGhlbnRpY2F0ZWQoc3RhdGUsIGlzQXV0aGVudGljYXRlZCkgewogICAgICByZXR1cm4gVnVlLnNldChzdGF0ZSwgJ2lzQXV0aGVudGljYXRlZCcsIGlzQXV0aGVudGljYXRlZCk7CiAgICB9LAogICAgdG9nZ2xlU2V0dGluZ3M6IGZ1bmN0aW9uIHRvZ2dsZVNldHRpbmdzKHN0YXRlKSB7CiAgICAgIHN0YXRlLmlzU2V0dGluZ3NWaXNpYmxlID0gIXN0YXRlLmlzU2V0dGluZ3NWaXNpYmxlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmLmdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIGNhbGxiYWNrOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRJbml0aWFsaXplZCcsIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfTsgLy8gYXF1aXJlIGFzeW5jIGxvY2sgdW50aWwgaW5pdGlhbGl6ZWQKCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIExvY2suaW5pdGlhbGl6ZShjYWxsYmFjaywgewogICAgICAgICAgICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwogICAgfSwKICAgIHVuaW5pdGlhbGl6ZTogZnVuY3Rpb24gdW5pbml0aWFsaXplKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgICAgZ2V0dGVycyA9IF9yZWYyLmdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBjYWxsYmFjazsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnUkVTRVRfU1RBVEUnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRJbml0aWFsaXplZCcsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gTG9jay51bmluaXRpYWxpemUoY2FsbGJhY2ssIHsKICAgICAgICAgICAgICAgICAgZ2V0dGVyczogZ2V0dGVycwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKTsKICAgIH0sCiAgICAvLy8gcmVnaW9uIHNjb3BlZCBhY3Rpb25zCiAgICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KCdjdXJyZW50UHJvZmlsZScsIG51bGwpOwogICAgICBjb21taXQoJ3NldEF1dGhlbnRpY2F0ZWQnLCBmYWxzZSk7CiAgICB9LAogICAgTE9HX09VVDogZnVuY3Rpb24gTE9HX09VVChfcmVmNCkgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaCwKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQucm9vdEdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRBY2NvdW50OwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3VycmVudEFjY291bnQgPSByb290R2V0dGVyc1snYWNjb3VudC9jdXJyZW50QWNjb3VudCddOwoKICAgICAgICAgICAgICAgIGlmICghY3VycmVudEFjY291bnQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2FjY291bnQvdW5pbml0aWFsaXplJywgewogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBjdXJyZW50QWNjb3VudC5hZGRyZXNzCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2FjY291bnQvU0VUX0tOT1dOX0FDQ09VTlRTJywgW10sIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnYWNjb3VudC9SRVNFVF9DVVJSRU5UX0FDQ09VTlQnLCB1bmRlZmluZWQsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ1JFU0VUX1NUQVRFJyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CiAgICB9LAogICAgU0VUX0NVUlJFTlRfUFJPRklMRTogZnVuY3Rpb24gU0VUX0NVUlJFTlRfUFJPRklMRShfcmVmNSwgY3VycmVudFByb2ZpbGUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHNldHRpbmdzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gdXBkYXRlIHN0YXRlCiAgICAgICAgICAgICAgICBjb21taXQoJ2N1cnJlbnRQcm9maWxlJywgY3VycmVudFByb2ZpbGUpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBdXRoZW50aWNhdGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZGlhZ25vc3RpYy9BRERfREVCVUcnLCAnQ2hhbmdpbmcgY3VycmVudCBwcm9maWxlIHRvICcgKyBjdXJyZW50UHJvZmlsZS5wcm9maWxlTmFtZSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldHRpbmdzID0gbmV3IFNldHRpbmdTZXJ2aWNlKCkuZ2V0UHJvZmlsZVNldHRpbmdzKGN1cnJlbnRQcm9maWxlLnByb2ZpbGVOYW1lKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdhcHAvU0VUX1NFVFRJTkdTJywgc2V0dGluZ3MsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnYWRkcmVzc0Jvb2svTE9BRF9BRERSRVNTX0JPT0snLCBudWxsLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0RFQlVHJywgJ1VzaW5nIHByb2ZpbGUgc2V0dGluZ3MgJyArIE9iamVjdC52YWx1ZXMoc2V0dGluZ3MpLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOyAvLyByZXNldCBzdG9yZSArIHJlLWluaXRpYWxpemUKCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2luaXRpYWxpemUnKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgJGV2ZW50QnVzLiRlbWl0KCdvblByb2ZpbGVDaGFuZ2UnLCBjdXJyZW50UHJvZmlsZS5wcm9maWxlTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSk7CiAgICB9LAogICAgQUREX0FDQ09VTlQ6IGZ1bmN0aW9uIEFERF9BQ0NPVU5UKF9yZWY2LCBhY2NvdW50TW9kZWwpIHsKICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2gsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjYuZ2V0dGVyczsKICAgICAgdmFyIGN1cnJlbnRQcm9maWxlID0gZ2V0dGVyc1snY3VycmVudFByb2ZpbGUnXTsKCiAgICAgIGlmICghY3VycmVudFByb2ZpbGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGRpc3BhdGNoKCdkaWFnbm9zdGljL0FERF9ERUJVRycsICdBZGRpbmcgYWNjb3VudCB0byBwcm9maWxlOiAnICsgY3VycmVudFByb2ZpbGUucHJvZmlsZU5hbWUgKyAnIHdpdGg6ICcgKyBhY2NvdW50TW9kZWwuYWRkcmVzcywgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CgogICAgICBpZiAoIWN1cnJlbnRQcm9maWxlLmFjY291bnRzLmluY2x1ZGVzKGFjY291bnRNb2RlbC5pZCkpIHsKICAgICAgICBuZXcgUHJvZmlsZVNlcnZpY2UoKS51cGRhdGVBY2NvdW50cyhjdXJyZW50UHJvZmlsZSwgW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShjdXJyZW50UHJvZmlsZS5hY2NvdW50cyksIFthY2NvdW50TW9kZWwuaWRdKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkaXNwYXRjaCgnU0VUX0NVUlJFTlRfUFJPRklMRScsIGN1cnJlbnRQcm9maWxlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/hero/lared-wallet/src/store/Profile.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport Vue from 'vue';\n// internal dependencies\nimport { $eventBus } from '../events';\nimport { AwaitLock } from './AwaitLock';\nimport { SettingService } from '@/services/SettingService';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { ProfileService } from '@/services/ProfileService';\n\n/// region globals\nconst Lock = AwaitLock.create();\n\n/// end-region globals\n\ninterface ProfileState {\n    initialized: boolean;\n    currentProfile: ProfileModel;\n    isAuthenticated: boolean;\n    isSettingsVisible: boolean;\n}\n\nconst profileState: ProfileState = {\n    initialized: false,\n    currentProfile: null,\n    isAuthenticated: false,\n    isSettingsVisible: false,\n};\nexport default {\n    namespaced: true,\n    state: profileState,\n    getters: {\n        getInitialized: (state: ProfileState) => state.initialized,\n        currentProfile: (state: ProfileState) => state.currentProfile,\n        isAuthenticated: (state: ProfileState) => state.isAuthenticated,\n        isSettingsVisible: (state: ProfileState) => state.isSettingsVisible,\n        isPrivateKeyProfile: (state: ProfileState): boolean => {\n            return state.currentProfile ? !state.currentProfile.seed : false;\n        },\n    },\n    mutations: {\n        setInitialized: (state: ProfileState, initialized: boolean) => {\n            state.initialized = initialized;\n        },\n        currentProfile: (state: ProfileState, currentProfile: ProfileModel) => Vue.set(state, 'currentProfile', currentProfile),\n        setAuthenticated: (state: ProfileState, isAuthenticated: boolean) => Vue.set(state, 'isAuthenticated', isAuthenticated),\n        toggleSettings: (state: ProfileState) => {\n            state.isSettingsVisible = !state.isSettingsVisible;\n        },\n    },\n    actions: {\n        async initialize({ commit, getters }) {\n            const callback = async () => {\n                commit('setInitialized', true);\n            };\n            // aquire async lock until initialized\n            await Lock.initialize(callback, { getters });\n        },\n        async uninitialize({ commit, dispatch, getters }) {\n            const callback = async () => {\n                await dispatch('RESET_STATE');\n                commit('setInitialized', false);\n            };\n            await Lock.uninitialize(callback, { getters });\n        },\n        /// region scoped actions\n        RESET_STATE({ commit }) {\n            commit('currentProfile', null);\n            commit('setAuthenticated', false);\n        },\n        async LOG_OUT({ dispatch, rootGetters }): Promise<void> {\n            const currentAccount = rootGetters['account/currentAccount'];\n            if (currentAccount) {\n                await dispatch('account/uninitialize', { address: currentAccount.address }, { root: true });\n            }\n            await dispatch('account/SET_KNOWN_ACCOUNTS', [], { root: true });\n            await dispatch('account/RESET_CURRENT_ACCOUNT', undefined, {\n                root: true,\n            });\n            await dispatch('RESET_STATE');\n        },\n        async SET_CURRENT_PROFILE({ commit, dispatch }, currentProfile: ProfileModel) {\n            // update state\n            commit('currentProfile', currentProfile);\n            commit('setAuthenticated', true);\n\n            dispatch('diagnostic/ADD_DEBUG', 'Changing current profile to ' + currentProfile.profileName, { root: true });\n\n            const settings = new SettingService().getProfileSettings(currentProfile.profileName);\n            dispatch('app/SET_SETTINGS', settings, { root: true });\n            dispatch('addressBook/LOAD_ADDRESS_BOOK', null, { root: true });\n\n            dispatch('diagnostic/ADD_DEBUG', 'Using profile settings ' + Object.values(settings), { root: true });\n\n            // reset store + re-initialize\n            await dispatch('initialize');\n            $eventBus.$emit('onProfileChange', currentProfile.profileName);\n        },\n\n        ADD_ACCOUNT({ dispatch, getters }, accountModel: AccountModel) {\n            const currentProfile: ProfileModel = getters['currentProfile'];\n            if (!currentProfile) {\n                return;\n            }\n            dispatch(\n                'diagnostic/ADD_DEBUG',\n                'Adding account to profile: ' + currentProfile.profileName + ' with: ' + accountModel.address,\n                {\n                    root: true,\n                },\n            );\n            if (!currentProfile.accounts.includes(accountModel.id)) {\n                new ProfileService().updateAccounts(currentProfile, [...currentProfile.accounts, accountModel.id]);\n            }\n            return dispatch('SET_CURRENT_PROFILE', currentProfile);\n        },\n        /// end-region scoped actions\n    },\n};\n"],"sourceRoot":""}]}