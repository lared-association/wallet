{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/store/AddressBook.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/store/AddressBook.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCi8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KaW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBBd2FpdExvY2sgfSBmcm9tICcuL0F3YWl0TG9jayc7CmltcG9ydCB7IEFkZHJlc3NCb29rIH0gZnJvbSAnc3ltYm9sLWFkZHJlc3MtYm9vayc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgQWRkcmVzc0Jvb2tTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9BZGRyZXNzQm9va1NlcnZpY2UnOyAvLy8gcmVnaW9uIGdsb2JhbHMKCnZhciBMb2NrID0gQXdhaXRMb2NrLmNyZWF0ZSgpOwp2YXIgYWRkcmVzc0Jvb2tTdGF0ZSA9IHsKICBpbml0aWFsaXplZDogZmFsc2UsCiAgYWRkcmVzc0Jvb2s6IG51bGwsCiAgc2VsZWN0ZWRDb250YWN0OiBudWxsCn07Ci8qKgogKiBBZGRyZXNzQm9vayBTdG9yZQogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBhZGRyZXNzQm9va1N0YXRlLAogIGdldHRlcnM6IHsKICAgIGdldEluaXRpYWxpemVkOiBmdW5jdGlvbiBnZXRJbml0aWFsaXplZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaW5pdGlhbGl6ZWQ7CiAgICB9LAogICAgZ2V0QWRkcmVzc0Jvb2s6IGZ1bmN0aW9uIGdldEFkZHJlc3NCb29rKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hZGRyZXNzQm9vazsKICAgIH0sCiAgICBnZXRTZWxlY3RlZENvbnRhY3Q6IGZ1bmN0aW9uIGdldFNlbGVjdGVkQ29udGFjdChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc2VsZWN0ZWRDb250YWN0OwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRJbml0aWFsaXplZDogZnVuY3Rpb24gc2V0SW5pdGlhbGl6ZWQoc3RhdGUsIGluaXRpYWxpemVkKSB7CiAgICAgIHN0YXRlLmluaXRpYWxpemVkID0gaW5pdGlhbGl6ZWQ7CiAgICB9LAogICAgc2V0QWRkcmVzc0Jvb2s6IGZ1bmN0aW9uIHNldEFkZHJlc3NCb29rKHN0YXRlLCBhZGRyZXNzQm9vaykgewogICAgICAvLyBzdGF0ZS5hZGRyZXNzQm9vayA9IGFkZHJlc3NCb29rOwogICAgICBWdWUuc2V0KHN0YXRlLCAnYWRkcmVzc0Jvb2snLCBhZGRyZXNzQm9vayk7CiAgICB9LAogICAgc2V0U2VsZWN0ZWRDb250YWN0OiBmdW5jdGlvbiBzZXRTZWxlY3RlZENvbnRhY3Qoc3RhdGUsIHNlbGVjdGVkQ29udGFjdCkgewogICAgICBWdWUuc2V0KHN0YXRlLCAnc2VsZWN0ZWRDb250YWN0Jywgc2VsZWN0ZWRDb250YWN0KTsgLy8gc3RhdGUuc2VsZWN0ZWRDb250YWN0ID0gc2VsZWN0ZWRDb250YWN0OwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLyoqCiAgICAgKiBQb3NzaWJsZSBgb3B0aW9uc2AgdmFsdWVzIGluY2x1ZGU6CiAgICAgKiBAdHlwZSB7CiAgICAgKiAgICBza2lwVHJhbnNhY3Rpb25zOiBib29sZWFuLAogICAgICogfQogICAgICovCiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKF9yZWYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0LAogICAgICAgICAgZ2V0dGVycyA9IF9yZWYuZ2V0dGVyczsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB2YXIgY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoJ3NldEluaXRpYWxpemVkJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBMb2NrLmluaXRpYWxpemUoY2FsbGJhY2ssIHsKICAgICAgICAgICAgICAgICAgZ2V0dGVyczogZ2V0dGVycwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgIH0sCiAgICB1bmluaXRpYWxpemU6IGZ1bmN0aW9uIHVuaW5pdGlhbGl6ZShfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmMi5nZXR0ZXJzOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ1NBVkVfQUREUkVTU19CT09LJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SW5pdGlhbGl6ZWQnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIExvY2sudW5pbml0aWFsaXplKGNhbGxiYWNrLCB7CiAgICAgICAgICAgICAgICAgIGdldHRlcnM6IGdldHRlcnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSk7CiAgICB9LAogICAgU0FWRV9BRERSRVNTX0JPT0s6IGZ1bmN0aW9uIFNBVkVfQUREUkVTU19CT09LKF9yZWYzKSB7CiAgICAgIHZhciBnZXR0ZXJzID0gX3JlZjMuZ2V0dGVycywKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjMucm9vdEdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRQcm9maWxlLCBhZGRyZXNzQm9vazsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9maWxlID0gcm9vdEdldHRlcnNbJ3Byb2ZpbGUvY3VycmVudFByb2ZpbGUnXTsKICAgICAgICAgICAgICAgIGFkZHJlc3NCb29rID0gZ2V0dGVycy5nZXRBZGRyZXNzQm9vazsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWRkcmVzc0Jvb2tTZXJ2aWNlKCkuc2F2ZUFkZHJlc3NCb29rKGFkZHJlc3NCb29rLCBjdXJyZW50UHJvZmlsZS5wcm9maWxlTmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBMT0FEX0FERFJFU1NfQk9PSzogZnVuY3Rpb24gTE9BRF9BRERSRVNTX0JPT0soX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQucm9vdEdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRQcm9maWxlLCBhZGRyZXNzQm9vaywgYWxsQ29udGFjdHM7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjdXJyZW50UHJvZmlsZSA9IHJvb3RHZXR0ZXJzWydwcm9maWxlL2N1cnJlbnRQcm9maWxlJ107CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFkZHJlc3NCb29rU2VydmljZSgpLmdldEFkZHJlc3NCb29rKGN1cnJlbnRQcm9maWxlLnByb2ZpbGVOYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWRkcmVzc0Jvb2sgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWRkcmVzc0Jvb2snLCBhZGRyZXNzQm9vayk7CiAgICAgICAgICAgICAgICBhbGxDb250YWN0cyA9IGFkZHJlc3NCb29rLmdldEFsbENvbnRhY3RzKCk7CgogICAgICAgICAgICAgICAgaWYgKGFsbENvbnRhY3RzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTZWxlY3RlZENvbnRhY3QnLCBhbGxDb250YWN0c1swXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKTsKICAgIH0sCiAgICBBRERfQ09OVEFDVDogZnVuY3Rpb24gQUREX0NPTlRBQ1QoX3JlZjUsIGNvbnRhY3QpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2gsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjUuZ2V0dGVyczsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgYWRkcmVzc0Jvb2ssIG5ld0FkZHJlc3NCb29rLCBuZXdTZWxlY3RlZENvbnRhY3Q7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vayA9IGdldHRlcnMuZ2V0QWRkcmVzc0Jvb2s7CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vay5hZGRDb250YWN0KGNvbnRhY3QpOwogICAgICAgICAgICAgICAgbmV3QWRkcmVzc0Jvb2sgPSBBZGRyZXNzQm9vay5mcm9tSlNPTihhZGRyZXNzQm9vay50b0pTT04oKSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEFkZHJlc3NCb29rJywgbmV3QWRkcmVzc0Jvb2spOwogICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRDb250YWN0ID0gbmV3QWRkcmVzc0Jvb2suZ2V0Q29udGFjdEJ5SWQoY29udGFjdC5pZCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFNlbGVjdGVkQ29udGFjdCcsIG5ld1NlbGVjdGVkQ29udGFjdCk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnU0FWRV9BRERSRVNTX0JPT0snKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpOwogICAgfSwKICAgIFVQREFURV9DT05UQUNUOiBmdW5jdGlvbiBVUERBVEVfQ09OVEFDVChfcmVmNiwgX3JlZjcpIHsKICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2gsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjYuZ2V0dGVyczsKICAgICAgdmFyIGlkID0gX3JlZjcuaWQsCiAgICAgICAgICBjb250YWN0ID0gX3JlZjcuY29udGFjdDsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgYWRkcmVzc0Jvb2s7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vayA9IGdldHRlcnMuZ2V0QWRkcmVzc0Jvb2s7CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vay51cGRhdGVDb250YWN0KGlkLCBjb250YWN0KTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdTQVZFX0FERFJFU1NfQk9PSycpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSk7CiAgICB9LAogICAgUkVNT1ZFX0NPTlRBQ1Q6IGZ1bmN0aW9uIFJFTU9WRV9DT05UQUNUKF9yZWY4LCBpZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjguY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmOC5kaXNwYXRjaCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmOC5nZXR0ZXJzOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBhZGRyZXNzQm9vaywgbmV3QWRkcmVzc0Jvb2s7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vayA9IGdldHRlcnMuZ2V0QWRkcmVzc0Jvb2s7CiAgICAgICAgICAgICAgICBhZGRyZXNzQm9vay5yZW1vdmVDb250YWN0KGlkKTsKICAgICAgICAgICAgICAgIG5ld0FkZHJlc3NCb29rID0gQWRkcmVzc0Jvb2suZnJvbUpTT04oYWRkcmVzc0Jvb2sudG9KU09OKCkpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBZGRyZXNzQm9vaycsIG5ld0FkZHJlc3NCb29rKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0U2VsZWN0ZWRDb250YWN0JywgbnVsbCk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnU0FWRV9BRERSRVNTX0JPT0snKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgfSkpOwogICAgfSwKICAgIFJFU09MVkVfQUREUkVTUzogZnVuY3Rpb24gUkVTT0xWRV9BRERSRVNTKF9yZWY5LCBhZGRyZXNzKSB7CiAgICAgIHZhciBnZXR0ZXJzID0gX3JlZjkuZ2V0dGVyczsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAoKSB7CiAgICAgICAgdmFyIGFkZHJlc3NCb29rOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFkZHJlc3NCb29rID0gZ2V0dGVycy5nZXRBZGRyZXNzQm9vazsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgYWRkcmVzc0Jvb2suZ2V0Q29udGFjdEJ5QWRkcmVzcyhhZGRyZXNzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/hero/lared-wallet/src/store/AddressBook.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { AwaitLock } from './AwaitLock';\nimport { AddressBook, IContact } from 'symbol-address-book';\nimport Vue from 'vue';\nimport { AddressBookService } from '@/services/AddressBookService';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\n\n/// region globals\nconst Lock = AwaitLock.create();\n/// end-region globals\n\ntype AddressBookState = {\n    initialized: boolean;\n    addressBook: AddressBook;\n    selectedContact: IContact;\n};\n\nconst addressBookState: AddressBookState = {\n    initialized: false,\n    addressBook: null,\n    selectedContact: null,\n};\n\n/**\n * AddressBook Store\n */\nexport default {\n    namespaced: true,\n    state: addressBookState,\n    getters: {\n        getInitialized: (state: AddressBookState) => state.initialized,\n        getAddressBook: (state: AddressBookState) => state.addressBook,\n        getSelectedContact: (state: AddressBookState): IContact => state.selectedContact,\n    },\n    mutations: {\n        setInitialized: (state: AddressBookState, initialized: boolean) => {\n            state.initialized = initialized;\n        },\n        setAddressBook: (state: AddressBookState, addressBook: AddressBook) => {\n            // state.addressBook = addressBook;\n            Vue.set(state, 'addressBook', addressBook);\n        },\n        setSelectedContact: (state: AddressBookState, selectedContact: IContact) => {\n            Vue.set(state, 'selectedContact', selectedContact);\n            // state.selectedContact = selectedContact;\n        },\n    },\n    actions: {\n        /**\n         * Possible `options` values include:\n         * @type {\n         *    skipTransactions: boolean,\n         * }\n         */\n        async initialize({ commit, getters }) {\n            const callback = async () => {\n                commit('setInitialized', true);\n            };\n            await Lock.initialize(callback, { getters });\n        },\n        async uninitialize({ commit, dispatch, getters }) {\n            const callback = async () => {\n                await dispatch('SAVE_ADDRESS_BOOK');\n                commit('setInitialized', false);\n            };\n            await Lock.uninitialize(callback, { getters });\n        },\n\n        async SAVE_ADDRESS_BOOK({ getters, rootGetters }) {\n            const currentProfile: ProfileModel = rootGetters['profile/currentProfile'];\n            const addressBook: AddressBook = getters.getAddressBook;\n            await new AddressBookService().saveAddressBook(addressBook, currentProfile.profileName);\n        },\n\n        async LOAD_ADDRESS_BOOK({ commit, rootGetters }) {\n            const currentProfile: ProfileModel = rootGetters['profile/currentProfile'];\n            const addressBook = await new AddressBookService().getAddressBook(currentProfile.profileName);\n            commit('setAddressBook', addressBook);\n            const allContacts = addressBook.getAllContacts();\n            if (allContacts.length > 0) {\n                commit('setSelectedContact', allContacts[0]);\n            }\n        },\n\n        async ADD_CONTACT({ commit, dispatch, getters }, contact) {\n            const addressBook: AddressBook = getters.getAddressBook;\n            addressBook.addContact(contact);\n            const newAddressBook = AddressBook.fromJSON(addressBook.toJSON());\n            commit('setAddressBook', newAddressBook);\n            const newSelectedContact = newAddressBook.getContactById(contact.id);\n            commit('setSelectedContact', newSelectedContact);\n            dispatch('SAVE_ADDRESS_BOOK');\n        },\n\n        async UPDATE_CONTACT({ dispatch, getters }, { id, contact }) {\n            const addressBook: AddressBook = getters.getAddressBook;\n            addressBook.updateContact(id, contact);\n            dispatch('SAVE_ADDRESS_BOOK');\n        },\n\n        async REMOVE_CONTACT({ commit, dispatch, getters }, id) {\n            const addressBook: AddressBook = getters.getAddressBook;\n            addressBook.removeContact(id);\n            const newAddressBook = AddressBook.fromJSON(addressBook.toJSON());\n            commit('setAddressBook', newAddressBook);\n            commit('setSelectedContact', null);\n            dispatch('SAVE_ADDRESS_BOOK');\n        },\n\n        async RESOLVE_ADDRESS({ getters }, address) {\n            const addressBook: AddressBook = getters.getAddressBook;\n            return addressBook.getContactByAddress(address);\n        },\n    },\n};\n"],"sourceRoot":""}]}