{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-2!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/MultisigService.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/MultisigService.ts","mtime":1611927227383},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKLyoKICogQ29weXJpZ2h0IDIwMjAgTkVNIChodHRwczovL25lbS5pbykKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwppbXBvcnQgeyBBZGRyZXNzIH0gZnJvbSAnc3ltYm9sLXNkayc7CmV4cG9ydCB2YXIgTXVsdGlzaWdTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBNdWx0aXNpZ1NlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTXVsdGlzaWdTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhNdWx0aXNpZ1NlcnZpY2UsIFt7CiAgICBrZXk6ICJnZXRTaWduZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaWduZXJzKG5ldHdvcmtUeXBlLCBrbm93bkFjY291bnRzLCBjdXJyZW50QWNjb3VudCwgY3VycmVudEFjY291bnRNdWx0aXNpZ0luZm8sIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMKICAgIG11bHRpc2lnQWNjb3VudHNJbmZvKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIWN1cnJlbnRBY2NvdW50KSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICB2YXIgc2VsZiA9IFt7CiAgICAgICAgYWRkcmVzczogQWRkcmVzcy5jcmVhdGVGcm9tUmF3QWRkcmVzcyhjdXJyZW50QWNjb3VudC5hZGRyZXNzKSwKICAgICAgICBsYWJlbDogY3VycmVudEFjY291bnQubmFtZSwKICAgICAgICBtdWx0aXNpZzogY3VycmVudEFjY291bnRNdWx0aXNpZ0luZm8gJiYgY3VycmVudEFjY291bnRNdWx0aXNpZ0luZm8uaXNNdWx0aXNpZygpLAogICAgICAgIHJlcXVpcmVkQ29zaWduYXR1cmVzOiBjdXJyZW50QWNjb3VudE11bHRpc2lnSW5mbyAmJiBjdXJyZW50QWNjb3VudE11bHRpc2lnSW5mby5taW5BcHByb3ZhbCB8fCAwCiAgICAgIH1dOwoKICAgICAgaWYgKCFjdXJyZW50QWNjb3VudE11bHRpc2lnSW5mbykgewogICAgICAgIHJldHVybiBzZWxmOwogICAgICB9IC8vIGNoZWNrIGlmIG90aGVyIGNoaWxkIG11bHRpc2lnIGFjY291bnRzIGFyZSBhbHJlYWR5IGNvc2lnbmVycyBvZiBvdGhlciBhY2NvdW50cyBhbmQgYWRkIHRoZWlyIGNoaWxkcmVuIG11bHRpc2lnIGFzIHNpZ25lcnMgaWYgYW55IHRvIHRoZSBtYWluIGNvc2lnbmF0b3J5IGFjY291bnQKCgogICAgICB2YXIgYWRkZWRTaWduZXJGcm9tTXV0bGlzaWdBY2NvdW50cyA9IFtdLmNvbmNhdChzZWxmKTsKICAgICAgbXVsdGlzaWdBY2NvdW50c0luZm8ubWFwKGZ1bmN0aW9uIChlbnRyeSkgewogICAgICAgIGlmICgoZW50cnkubWluQXBwcm92YWwgPiAwIHx8IGVudHJ5Lm1pblJlbW92YWwgPiAwKSAmJiBlbnRyeS5tdWx0aXNpZ0FkZHJlc3Nlcy5sZW5ndGggPiAwICYmIGVudHJ5LmNvc2lnbmF0b3J5QWRkcmVzc2VzLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUuZXF1YWxzKEFkZHJlc3MuY3JlYXRlRnJvbVJhd0FkZHJlc3MoY3VycmVudEFjY291bnQuYWRkcmVzcykpOwogICAgICAgIH0pKSB7CiAgICAgICAgICBlbnRyeS5tdWx0aXNpZ0FkZHJlc3Nlcy5tYXAoZnVuY3Rpb24gKGFkZHJlc3MpIHsKICAgICAgICAgICAgaWYgKCFhZGRlZFNpZ25lckZyb21NdXRsaXNpZ0FjY291bnRzLnNvbWUoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgIHJldHVybiB2YWwuYWRkcmVzcy5lcXVhbHMoYWRkcmVzcyk7CiAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGFkZGVkU2lnbmVyRnJvbU11dGxpc2lnQWNjb3VudHMgPSBhZGRlZFNpZ25lckZyb21NdXRsaXNpZ0FjY291bnRzLmNvbmNhdChbewogICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcywKICAgICAgICAgICAgICAgIG11bHRpc2lnOiB0cnVlLAogICAgICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldEFjY291bnRMYWJlbChhZGRyZXNzLCBrbm93bkFjY291bnRzKSwKICAgICAgICAgICAgICAgIHJlcXVpcmVkQ29zaWduYXR1cmVzOiBjdXJyZW50QWNjb3VudE11bHRpc2lnSW5mbyAmJiBjdXJyZW50QWNjb3VudE11bHRpc2lnSW5mby5taW5BcHByb3ZhbCB8fCAwCiAgICAgICAgICAgICAgfV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOyAvLyBjaGVjayBmb3IgbmV4dCBsZXZlbCBzaWduZXJzIGFuZCBhZGQgdGhlbSB0byB0aGUgbWFpbiBjb3NpZ25hdG9yeSBhcyBzaWduZXJzIGlmIGFueQoKICAgICAgdmFyIGFkZHJlc3Nlc0Zyb21OZXh0TGV2ZWwgPSBbXS5jb25jYXQoYWRkZWRTaWduZXJGcm9tTXV0bGlzaWdBY2NvdW50cyk7CiAgICAgIG11bHRpc2lnQWNjb3VudHNJbmZvLm1hcChmdW5jdGlvbiAodGVybSkgewogICAgICAgIGlmICghdGVybS5hY2NvdW50QWRkcmVzcy5lcXVhbHMoQWRkcmVzcy5jcmVhdGVGcm9tUmF3QWRkcmVzcyhjdXJyZW50QWNjb3VudC5hZGRyZXNzKSkgJiYgIWFkZHJlc3Nlc0Zyb21OZXh0TGV2ZWwuZmluZChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICByZXR1cm4gdmFsLmFkZHJlc3MuZXF1YWxzKHRlcm0uYWNjb3VudEFkZHJlc3MpOwogICAgICAgIH0pKSB7CiAgICAgICAgICByZXR1cm4gYWRkcmVzc2VzRnJvbU5leHRMZXZlbCA9IGFkZHJlc3Nlc0Zyb21OZXh0TGV2ZWwuY29uY2F0KFt7CiAgICAgICAgICAgIGFkZHJlc3M6IHRlcm0uYWNjb3VudEFkZHJlc3MsCiAgICAgICAgICAgIG11bHRpc2lnOiAhIXRlcm0uY29zaWduYXRvcnlBZGRyZXNzZXMubGVuZ3RoLAogICAgICAgICAgICBsYWJlbDogX3RoaXMuZ2V0QWNjb3VudExhYmVsKHRlcm0uYWNjb3VudEFkZHJlc3MsIGtub3duQWNjb3VudHMpLAogICAgICAgICAgICByZXF1aXJlZENvc2lnbmF0dXJlczogY3VycmVudEFjY291bnRNdWx0aXNpZ0luZm8gJiYgdGVybS5taW5BcHByb3ZhbCB8fCAwCiAgICAgICAgICB9XSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGFkZHJlc3Nlc0Zyb21OZXh0TGV2ZWw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QWNjb3VudExhYmVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBY2NvdW50TGFiZWwoYWRkcmVzcywgYWNjb3VudHMpIHsKICAgICAgdmFyIGFjY291bnQgPSBhY2NvdW50cy5maW5kKGZ1bmN0aW9uICh3bHQpIHsKICAgICAgICByZXR1cm4gYWRkcmVzcy5wbGFpbigpID09PSB3bHQuYWRkcmVzczsKICAgICAgfSk7CiAgICAgIHJldHVybiBhY2NvdW50ICYmIGFjY291bnQubmFtZSB8fCBhZGRyZXNzLnBsYWluKCk7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJnZXRNdWx0aXNpZ0luZm9Gcm9tTXVsdGlzaWdHcmFwaEluZm8iLAoKICAgIC8qKgogICAgICogUmV0dXJucyBhbGwgYXZhaWxhYmxlIG11bHRpc2lnIGluZm8gZnJvbSBhIG11bHRpc2lnIGdyYXBoCiAgICAgKiBAc3RhdGljCiAgICAgKiBAcGFyYW0ge011bHRpc2lnQWNjb3VudEdyYXBoSW5mb30gbXVsdGlzaWcgZ3JhcGggaW5mbwogICAgICogQHJldHVybnMge011bHRpc2lnQWNjb3VudEluZm9bXX0gbXVsdGlzaWcgaW5mbwogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TXVsdGlzaWdJbmZvRnJvbU11bHRpc2lnR3JhcGhJbmZvKGdyYXBoSW5mbykgewogICAgICB2YXIgX3JlZjsKCiAgICAgIHZhciBtdWx0aXNpZ0VudHJpZXMgPSBncmFwaEluZm8ubXVsdGlzaWdFbnRyaWVzOwogICAgICByZXR1cm4gKF9yZWYgPSBbXSkuY29uY2F0LmFwcGx5KF9yZWYsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmdldE11bHRpc2lnR3JhcGhBcnJheVNvcnRlZChtdWx0aXNpZ0VudHJpZXMpKSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOyAvLyBmbGF0dGVuCiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0TXVsdGlzaWdHcmFwaEFycmF5U29ydGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNdWx0aXNpZ0dyYXBoQXJyYXlTb3J0ZWQobXVsdGlzaWdFbnRyaWVzKSB7CiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobXVsdGlzaWdFbnRyaWVzLmtleXMoKSkuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBiIC0gYTsKICAgICAgfSkgLy8gR2V0IGFkZHJlc3NlcyBmcm9tIHRvcCB0byBib3R0b20KICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIG11bHRpc2lnRW50cmllcy5nZXQoa2V5KSB8fCBbXTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubGVuZ3RoID4gMDsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTXVsdGlzaWdTZXJ2aWNlOwp9KCk7"},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/MultisigService.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Address, MultisigAccountGraphInfo, MultisigAccountInfo, NetworkType } from 'symbol-sdk';\n// internal dependencies\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { Signer } from '@/store/Account';\n\nexport class MultisigService {\n    /**\n     * Returns all available multisig info from a multisig graph\n     * @static\n     * @param {MultisigAccountGraphInfo} multisig graph info\n     * @returns {MultisigAccountInfo[]} multisig info\n     */\n    public static getMultisigInfoFromMultisigGraphInfo(graphInfo: MultisigAccountGraphInfo): MultisigAccountInfo[] {\n        const { multisigEntries } = graphInfo;\n        return [].concat(...this.getMultisigGraphArraySorted(multisigEntries)).map((item) => item); // flatten\n    }\n\n    public static getMultisigGraphArraySorted(multisigEntries: Map<number, MultisigAccountInfo[]>): MultisigAccountInfo[][] {\n        return [...multisigEntries.keys()]\n            .sort((a, b) => b - a) // Get addresses from top to bottom\n            .map((key) => multisigEntries.get(key) || [])\n            .filter((x) => x.length > 0);\n    }\n\n    public getSigners(\n        networkType: NetworkType,\n        knownAccounts: AccountModel[],\n        currentAccount: AccountModel,\n        currentAccountMultisigInfo: MultisigAccountInfo | undefined,\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        multisigAccountsInfo: MultisigAccountInfo[] | undefined,\n    ): Signer[] {\n        if (!currentAccount) {\n            return [];\n        }\n        const self: Signer[] = [\n            {\n                address: Address.createFromRawAddress(currentAccount.address),\n                label: currentAccount.name,\n                multisig: currentAccountMultisigInfo && currentAccountMultisigInfo.isMultisig(),\n                requiredCosignatures: (currentAccountMultisigInfo && currentAccountMultisigInfo.minApproval) || 0,\n            },\n        ];\n\n        if (!currentAccountMultisigInfo) {\n            return self;\n        }\n\n        // check if other child multisig accounts are already cosigners of other accounts and add their children multisig as signers if any to the main cosignatory account\n        let addedSignerFromMutlisigAccounts: Signer[] = [].concat(self);\n        multisigAccountsInfo.map((entry) => {\n            if (\n                (entry.minApproval > 0 || entry.minRemoval > 0) &&\n                entry.multisigAddresses.length > 0 &&\n                entry.cosignatoryAddresses.some((value) => value.equals(Address.createFromRawAddress(currentAccount.address)))\n            ) {\n                entry.multisigAddresses.map((address) => {\n                    if (!addedSignerFromMutlisigAccounts.some((val) => val.address.equals(address))) {\n                        return (addedSignerFromMutlisigAccounts = addedSignerFromMutlisigAccounts.concat([\n                            {\n                                address: address,\n                                multisig: true,\n                                label: this.getAccountLabel(address, knownAccounts),\n                                requiredCosignatures: (currentAccountMultisigInfo && currentAccountMultisigInfo.minApproval) || 0,\n                            },\n                        ]));\n                    }\n                });\n            }\n        });\n\n        // check for next level signers and add them to the main cosignatory as signers if any\n        let addressesFromNextLevel: Signer[] = [].concat(addedSignerFromMutlisigAccounts);\n        multisigAccountsInfo.map((term) => {\n            if (\n                !term.accountAddress.equals(Address.createFromRawAddress(currentAccount.address)) &&\n                !addressesFromNextLevel.find((val) => val.address.equals(term.accountAddress))\n            ) {\n                return (addressesFromNextLevel = addressesFromNextLevel.concat([\n                    {\n                        address: term.accountAddress,\n                        multisig: !!term.cosignatoryAddresses.length,\n                        label: this.getAccountLabel(term.accountAddress, knownAccounts),\n                        requiredCosignatures: (currentAccountMultisigInfo && term.minApproval) || 0,\n                    },\n                ]));\n            }\n        });\n        return addressesFromNextLevel;\n    }\n\n    private getAccountLabel(address: Address, accounts: AccountModel[]): string {\n        const account = accounts.find((wlt) => address.plain() === wlt.address);\n        return (account && account.name) || address.plain();\n    }\n}\n"],"sourceRoot":""}]}