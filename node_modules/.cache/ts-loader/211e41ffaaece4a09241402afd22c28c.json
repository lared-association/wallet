{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/forms/FormSubAccountCreation/FormSubAccountCreationTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/forms/FormSubAccountCreation/FormSubAccountCreationTs.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgewogIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7CiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7CgogICAgdHJ5IHsKICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksCiAgICAgICAgcmVzdWx0OwoKICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgewogICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOwoKICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7CiAgfTsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQ3J5cHRvIH0gZnJvbSAnc3ltYm9sLXNkayc7CmltcG9ydCB7IE1uZW1vbmljUGFzc1BocmFzZSB9IGZyb20gJ3N5bWJvbC1oZC13YWxsZXRzJzsgLy8gaW50ZXJuYWwgZGVwZW5kZW5jaWVzCgppbXBvcnQgeyBWYWxpZGF0aW9uUnVsZXNldCB9IGZyb20gJ0AvY29yZS92YWxpZGF0aW9uL1ZhbGlkYXRpb25SdWxlc2V0JzsKaW1wb3J0IHsgRGVyaXZhdGlvblNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL0Rlcml2YXRpb25TZXJ2aWNlJzsKaW1wb3J0IHsgTm90aWZpY2F0aW9uVHlwZSB9IGZyb20gJ0AvY29yZS91dGlscy9Ob3RpZmljYXRpb25UeXBlJzsKaW1wb3J0IHsgQWNjb3VudFNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL0FjY291bnRTZXJ2aWNlJzsgLy8gY2hpbGQgY29tcG9uZW50cwoKaW1wb3J0IHsgVmFsaWRhdGlvbk9ic2VydmVyLCBWYWxpZGF0aW9uUHJvdmlkZXIgfSBmcm9tICd2ZWUtdmFsaWRhdGUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRXJyb3JUb29sdGlwIGZyb20gJ0AvY29tcG9uZW50cy9FcnJvclRvb2x0aXAvRXJyb3JUb29sdGlwLnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBGb3JtV3JhcHBlciBmcm9tICdAL2NvbXBvbmVudHMvRm9ybVdyYXBwZXIvRm9ybVdyYXBwZXIudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1Sb3cgZnJvbSAnQC9jb21wb25lbnRzL0Zvcm1Sb3cvRm9ybVJvdy52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgTW9kYWxGb3JtUHJvZmlsZVVubG9jayBmcm9tICdAL3ZpZXdzL21vZGFscy9Nb2RhbEZvcm1Qcm9maWxlVW5sb2NrL01vZGFsRm9ybVByb2ZpbGVVbmxvY2sudnVlJzsgLy8gY29uZmlndXJhdGlvbgoKaW1wb3J0IHsgYXBwQ29uZmlnIH0gZnJvbSAnQC9jb25maWcnOwppbXBvcnQgeyBGaWx0ZXJIZWxwZXJzIH0gZnJvbSAnQC9jb3JlL3V0aWxzL0ZpbHRlckhlbHBlcnMnOwp2YXIgTUFYX1NFRURfQUNDT1VOVFNfTlVNQkVSID0gYXBwQ29uZmlnLmNvbnN0YW50cy5NQVhfU0VFRF9BQ0NPVU5UU19OVU1CRVI7Cgp2YXIgRm9ybVN1YkFjY291bnRDcmVhdGlvblRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEZvcm1TdWJBY2NvdW50Q3JlYXRpb25UcywgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRm9ybVN1YkFjY291bnRDcmVhdGlvblRzKTsKCiAgZnVuY3Rpb24gRm9ybVN1YkFjY291bnRDcmVhdGlvblRzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtU3ViQWNjb3VudENyZWF0aW9uVHMpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAvKioKICAgICAqIFZhbGlkYXRpb24gcnVsZXMKICAgICAqLwoKICAgIF90aGlzLnZhbGlkYXRpb25SdWxlcyA9IFZhbGlkYXRpb25SdWxlc2V0OwogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFjY291bnQgaXMgY3VycmVudGx5IGJlaW5nIHVubG9ja2VkCiAgICAgKi8KCiAgICBfdGhpcy5pc1VubG9ja2luZ0FjY291bnQgPSBmYWxzZTsKICAgIC8qKgogICAgICogRm9ybSBmaWVsZHMKICAgICAqIEB2YXIge09iamVjdH0KICAgICAqLwoKICAgIF90aGlzLmZvcm1JdGVtcyA9IHsKICAgICAgdHlwZTogJycsCiAgICAgIHByaXZhdGVLZXk6ICcnLAogICAgICBuYW1lOiAnJwogICAgfTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtU3ViQWNjb3VudENyZWF0aW9uVHMsIFt7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gbmV3IEFjY291bnRTZXJ2aWNlKCk7CiAgICAgIHRoaXMucGF0aHMgPSBuZXcgRGVyaXZhdGlvblNlcnZpY2UoKTsKICAgICAgdGhpcy5mb3JtSXRlbXMudHlwZSA9IHRoaXMuaXNQcml2YXRlS2V5UHJvZmlsZSA/ICdwcml2YXRla2V5X2FjY291bnQnIDogJ2NoaWxkX2FjY291bnQnOwogICAgfSAvLy8gcmVnaW9uIGNvbXB1dGVkIHByb3BlcnRpZXMgZ2V0dGVyL3NldHRlcgoKICB9LCB7CiAgICBrZXk6ICJvblN1Ym1pdCIsCiAgICAvLy8gZW5kLXJlZ2lvbiBjb21wdXRlZCBwcm9wZXJ0aWVzIGdldHRlci9zZXR0ZXIKCiAgICAvKioKICAgICAqIFN1Ym1pdCBhY3Rpb24gYXNrcyBmb3IgYWNjb3VudCB1bmxvY2sKICAgICAqIEByZXR1cm4ge3ZvaWR9CiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdGhpcy5oYXNBY2NvdW50VW5sb2NrTW9kYWwgPSB0cnVlOyAvLyAvLyByZXNldHMgZm9ybSB2YWxpZGF0aW9uCiAgICAgIC8vIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgLy8gICB0aGlzLiRyZWZzLm9ic2VydmVyLnJlc2V0KCkKICAgICAgLy8gfSkKICAgIH0KICAgIC8qKgogICAgICogV2hlbiBhY2NvdW50IGlzIHVubG9ja2VkLCB0aGUgc3ViIGFjY291bnQgY2FuIGJlIGNyZWF0ZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvbkFjY291bnRVbmxvY2tlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2NvdW50VW5sb2NrZWQoYWNjb3VudCwgcGFzc3dvcmQpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB2YWx1ZXMsIHR5cGUsIHN1YkFjY291bnQsIGhhc0FkZHJlc3NJbmZvOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXNzd29yZCA9IHBhc3N3b3JkOyAvLyAtIGludGVycHJldCBmb3JtIGl0ZW1zCgogICAgICAgICAgICAgICAgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5mb3JtSXRlbXMpOwogICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlcy50eXBlICYmIFsnY2hpbGRfYWNjb3VudCcsICdwcml2YXRla2V5X2FjY291bnQnXS5pbmNsdWRlcyh2YWx1ZXMudHlwZSkgPyB2YWx1ZXMudHlwZSA6ICdjaGlsZF9hY2NvdW50JzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSB0eXBlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IF9jb250ZXh0LnQwID09PSAnY2hpbGRfYWNjb3VudCcgPyA3IDogX2NvbnRleHQudDAgPT09ICdwcml2YXRla2V5X2FjY291bnQnID8gOSA6IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgc3ViQWNjb3VudCA9IHRoaXMuZGVyaXZlTmV4dENoaWxkQWNjb3VudCh2YWx1ZXMubmFtZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgc3ViQWNjb3VudCA9IHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0U3ViQWNjb3VudEJ5UHJpdmF0ZUtleSh0aGlzLmN1cnJlbnRQcm9maWxlLCB0aGlzLmN1cnJlbnRQYXNzd29yZCwgdGhpcy5mb3JtSXRlbXMubmFtZSwgdGhpcy5mb3JtSXRlbXMucHJpdmF0ZUtleSwgdGhpcy5uZXR3b3JrVHlwZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmIChzdWJBY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgaW1wb3J0IGlzIHJlcGVhdGVkCiAgICAgICAgICAgICAgICBoYXNBZGRyZXNzSW5mbyA9IHRoaXMua25vd25BY2NvdW50cy5maW5kKGZ1bmN0aW9uICh3KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB3LmFkZHJlc3MgPT09IHN1YkFjY291bnQuYWRkcmVzczsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmICghKGhhc0FkZHJlc3NJbmZvICE9PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCAiVGhpcyBwcml2YXRlIGtleSBhbHJlYWR5IGV4aXN0cy4gVGhlIGFjY291bnQgbmFtZSBpcyAiLmNvbmNhdChoYXNBZGRyZXNzSW5mby5uYW1lKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIC8vIC0gcmVtb3ZlIHBhc3N3b3JkIGJlZm9yZSBHQwogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFzc3dvcmQgPSBudWxsOyAvLyAtIHVzZSByZXBvc2l0b3JpZXMgZm9yIHN0b3JhZ2UKCiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlLnNhdmVBY2NvdW50KHN1YkFjY291bnQpOyAvLyAtIHVwZGF0ZSBhcHAgc3RhdGUKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3Byb2ZpbGUvQUREX0FDQ09VTlQnLCBzdWJBY2NvdW50KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC9TRVRfQ1VSUkVOVF9BQ0NPVU5UJywgc3ViQWNjb3VudCk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FjY291bnQvU0VUX0tOT1dOX0FDQ09VTlRTJywgdGhpcy5jdXJyZW50UHJvZmlsZS5hY2NvdW50cyk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9TVUNDRVNTJywgTm90aWZpY2F0aW9uVHlwZS5PUEVSQVRJT05fU1VDQ0VTUyk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWJtaXQnLCB0aGlzLmZvcm1JdGVtcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9FUlJPUicsICdBbiBlcnJvciBoYXBwZW5lZCwgcGxlYXNlIHRyeSBhZ2Fpbi4nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDEpOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1szLCAyOV1dKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBVc2UgSEQgYWNjb3VudCBkZXJpdmF0aW9uIHRvIGdldCBuZXh0IGNoaWxkIGFjY291bnQKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjaGlsZCBhY2NvdW50IG5hbWUKICAgICAqIEByZXR1cm4ge0FjY291bnRNb2RlbH0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkZXJpdmVOZXh0Q2hpbGRBY2NvdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXJpdmVOZXh0Q2hpbGRBY2NvdW50KGNoaWxkQWNjb3VudE5hbWUpIHsKICAgICAgLy8gLSBkb24ndCBhbGxvdyBjcmVhdGluZyBtb3JlIHRoYW4gMTAgYWNjb3VudHMKICAgICAgaWYgKHRoaXMua25vd25QYXRocy5sZW5ndGggPj0gTUFYX1NFRURfQUNDT1VOVFNfTlVNQkVSKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCB0aGlzLiR0KE5vdGlmaWNhdGlvblR5cGUuVE9PX01BTllfU0VFRF9BQ0NPVU5UU19FUlJPUiwgewogICAgICAgICAgbWF4U2VlZEFjY291bnRzTnVtYmVyOiBNQVhfU0VFRF9BQ0NPVU5UU19OVU1CRVIKICAgICAgICB9KSk7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0gLy8gLSBnZXQgbmV4dCBwYXRoCgoKICAgICAgdmFyIG5leHRQYXRoID0gdGhpcy5wYXRocy5nZXROZXh0QWNjb3VudFBhdGgodGhpcy5rbm93blBhdGhzKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0RFQlVHJywgJ0FkZGluZyBjaGlsZCBhY2NvdW50IHdpdGggZGVyaXZhdGlvbiBwYXRoOiAnICsgbmV4dFBhdGgpOyAvLyAtIGRlY3J5cHQgbW5lbW9uaWMKCiAgICAgIHZhciBlbmNTZWVkID0gdGhpcy5jdXJyZW50UHJvZmlsZS5zZWVkOwogICAgICB2YXIgcGFzc3BocmFzZSA9IENyeXB0by5kZWNyeXB0KGVuY1NlZWQsIHRoaXMuY3VycmVudFBhc3N3b3JkLnZhbHVlKTsKICAgICAgdmFyIG1uZW1vbmljID0gbmV3IE1uZW1vbmljUGFzc1BocmFzZShwYXNzcGhyYXNlKTsgLy8gY3JlYXRlIGFjY291bnQgYnkgbW5lbW9uaWMKCiAgICAgIHJldHVybiB0aGlzLmFjY291bnRTZXJ2aWNlLmdldENoaWxkQWNjb3VudEJ5UGF0aCh0aGlzLmN1cnJlbnRQcm9maWxlLCB0aGlzLmN1cnJlbnRQYXNzd29yZCwgbW5lbW9uaWMsIG5leHRQYXRoLCB0aGlzLm5ldHdvcmtUeXBlLCBjaGlsZEFjY291bnROYW1lKTsKICAgIH0KICAgIC8qKgogICAgICogZmlsdGVyIHRhZ3MKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzdHJpcFRhZ3NBY2NvdW50TmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RyaXBUYWdzQWNjb3VudE5hbWUoKSB7CiAgICAgIHRoaXMuZm9ybUl0ZW1zLm5hbWUgPSBGaWx0ZXJIZWxwZXJzLnN0cmlwRmlsdGVyKHRoaXMuZm9ybUl0ZW1zLm5hbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImhhc0FjY291bnRVbmxvY2tNb2RhbCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNVbmxvY2tpbmdBY2NvdW50OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KGYpIHsKICAgICAgdGhpcy5pc1VubG9ja2luZ0FjY291bnQgPSBmOwogICAgfQogIH0sIHsKICAgIGtleTogImtub3duUGF0aHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICghdGhpcy5rbm93bkFjY291bnRzIHx8ICF0aGlzLmtub3duQWNjb3VudHMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9IC8vIGZpbHRlciBhY2NvdW50cyB0byBvbmx5IGtub3duIGFjY291bnQgbmFtZXMKCgogICAgICByZXR1cm4gdGhpcy5rbm93bkFjY291bnRzLm1hcChmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiBhLnBhdGg7CiAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBwOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb3JtU3ViQWNjb3VudENyZWF0aW9uVHM7Cn0oVnVlKTsKCkZvcm1TdWJBY2NvdW50Q3JlYXRpb25UcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVmFsaWRhdGlvbk9ic2VydmVyOiBWYWxpZGF0aW9uT2JzZXJ2ZXIsCiAgICBWYWxpZGF0aW9uUHJvdmlkZXI6IFZhbGlkYXRpb25Qcm92aWRlciwKICAgIEVycm9yVG9vbHRpcDogRXJyb3JUb29sdGlwLAogICAgRm9ybVdyYXBwZXI6IEZvcm1XcmFwcGVyLAogICAgRm9ybVJvdzogRm9ybVJvdywKICAgIE1vZGFsRm9ybVByb2ZpbGVVbmxvY2s6IE1vZGFsRm9ybVByb2ZpbGVVbmxvY2sKICB9LAogIGNvbXB1dGVkOiBPYmplY3QuYXNzaWduKHt9LCBtYXBHZXR0ZXJzKHsKICAgIG5ldHdvcmtUeXBlOiAnbmV0d29yay9uZXR3b3JrVHlwZScsCiAgICBjdXJyZW50UHJvZmlsZTogJ3Byb2ZpbGUvY3VycmVudFByb2ZpbGUnLAogICAga25vd25BY2NvdW50czogJ2FjY291bnQva25vd25BY2NvdW50cycsCiAgICBpc1ByaXZhdGVLZXlQcm9maWxlOiAncHJvZmlsZS9pc1ByaXZhdGVLZXlQcm9maWxlJwogIH0pKQp9KV0sIEZvcm1TdWJBY2NvdW50Q3JlYXRpb25Ucyk7CmV4cG9ydCB7IEZvcm1TdWJBY2NvdW50Q3JlYXRpb25UcyB9Ow=="},{"version":3,"sources":["/home/hero/lared-wallet/src/views/forms/FormSubAccountCreation/FormSubAccountCreationTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { Account, NetworkType, Password, Crypto } from 'symbol-sdk';\nimport { MnemonicPassPhrase } from 'symbol-hd-wallets';\n// internal dependencies\nimport { ValidationRuleset } from '@/core/validation/ValidationRuleset';\nimport { DerivationService } from '@/services/DerivationService';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { AccountService } from '@/services/AccountService';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\n// child components\nimport { ValidationObserver, ValidationProvider } from 'vee-validate';\n// @ts-ignore\nimport ErrorTooltip from '@/components/ErrorTooltip/ErrorTooltip.vue';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n// @ts-ignore\nimport ModalFormProfileUnlock from '@/views/modals/ModalFormProfileUnlock/ModalFormProfileUnlock.vue';\n// configuration\nimport { appConfig } from '@/config';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { FilterHelpers } from '@/core/utils/FilterHelpers';\n\nconst { MAX_SEED_ACCOUNTS_NUMBER } = appConfig.constants;\n\n@Component({\n    components: {\n        ValidationObserver,\n        ValidationProvider,\n        ErrorTooltip,\n        FormWrapper,\n        FormRow,\n        ModalFormProfileUnlock,\n    },\n    computed: {\n        ...mapGetters({\n            networkType: 'network/networkType',\n            currentProfile: 'profile/currentProfile',\n            knownAccounts: 'account/knownAccounts',\n            isPrivateKeyProfile: 'profile/isPrivateKeyProfile',\n        }),\n    },\n})\nexport class FormSubAccountCreationTs extends Vue {\n    /**\n     * Currently active profile\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Known accounts identifiers\n     */\n    public knownAccounts: AccountModel[];\n\n    /**\n     * Currently active network type\n     */\n    public networkType: NetworkType;\n\n    /**\n     * Accounts repository\n     */\n    public accountService: AccountService;\n\n    /**\n     * Derivation paths service\n     */\n    public paths: DerivationService;\n\n    /**\n     * Validation rules\n     */\n    public validationRules = ValidationRuleset;\n\n    /**\n     * Whether account is currently being unlocked\n     */\n    public isUnlockingAccount: boolean = false;\n\n    /**\n     * Current unlocked password\n     * @var {Password}\n     */\n    public currentPassword: Password;\n\n    public isPrivateKeyProfile: boolean;\n\n    /**\n     * Form fields\n     * @var {Object}\n     */\n    public formItems = {\n        type: '',\n        privateKey: '',\n        name: '',\n    };\n\n    /**\n     * Type the ValidationObserver refs\n     * @type {{\n     *     observer: InstanceType<typeof ValidationObserver>\n     *   }}\n     */\n    public $refs!: {\n        observer: InstanceType<typeof ValidationObserver>;\n    };\n\n    public created() {\n        this.accountService = new AccountService();\n        this.paths = new DerivationService();\n        this.formItems.type = this.isPrivateKeyProfile ? 'privatekey_account' : 'child_account';\n    }\n\n    /// region computed properties getter/setter\n    public get hasAccountUnlockModal(): boolean {\n        return this.isUnlockingAccount;\n    }\n\n    public set hasAccountUnlockModal(f: boolean) {\n        this.isUnlockingAccount = f;\n    }\n\n    public get knownPaths(): string[] {\n        if (!this.knownAccounts || !this.knownAccounts.length) {\n            return [];\n        }\n        // filter accounts to only known account names\n        return this.knownAccounts.map((a) => a.path).filter((p) => p);\n    }\n\n    /// end-region computed properties getter/setter\n\n    /**\n     * Submit action asks for account unlock\n     * @return {void}\n     */\n    public onSubmit() {\n        this.hasAccountUnlockModal = true;\n\n        // // resets form validation\n        // this.$nextTick(() => {\n        //   this.$refs.observer.reset()\n        // })\n    }\n\n    /**\n     * When account is unlocked, the sub account can be created\n     */\n    public async onAccountUnlocked(account: Account, password: Password) {\n        this.currentPassword = password;\n\n        // - interpret form items\n        const values = { ...this.formItems };\n        const type = values.type && ['child_account', 'privatekey_account'].includes(values.type) ? values.type : 'child_account';\n\n        try {\n            // - create sub account (can be either derived or by private key)\n            let subAccount: AccountModel;\n            switch (type) {\n                default:\n                case 'child_account':\n                    subAccount = this.deriveNextChildAccount(values.name);\n                    break;\n\n                case 'privatekey_account':\n                    subAccount = this.accountService.getSubAccountByPrivateKey(\n                        this.currentProfile,\n                        this.currentPassword,\n                        this.formItems.name,\n                        this.formItems.privateKey,\n                        this.networkType,\n                    );\n                    break;\n            }\n\n            // - return if subAccount is undefined\n            if (!subAccount) {\n                return;\n            }\n\n            // Verify that the import is repeated\n            const hasAddressInfo = this.knownAccounts.find((w) => w.address === subAccount.address);\n            if (hasAddressInfo !== undefined) {\n                this.$store.dispatch(\n                    'notification/ADD_ERROR',\n                    `This private key already exists. The account name is ${hasAddressInfo.name}`,\n                );\n                return null;\n            }\n\n            // - remove password before GC\n            this.currentPassword = null;\n\n            // - use repositories for storage\n            this.accountService.saveAccount(subAccount);\n\n            // - update app state\n            await this.$store.dispatch('profile/ADD_ACCOUNT', subAccount);\n            await this.$store.dispatch('account/SET_CURRENT_ACCOUNT', subAccount);\n            await this.$store.dispatch('account/SET_KNOWN_ACCOUNTS', this.currentProfile.accounts);\n            this.$store.dispatch('notification/ADD_SUCCESS', NotificationType.OPERATION_SUCCESS);\n            this.$emit('submit', this.formItems);\n        } catch (e) {\n            this.$store.dispatch('notification/ADD_ERROR', 'An error happened, please try again.');\n            console.error(e);\n        }\n    }\n\n    /**\n     * Use HD account derivation to get next child account\n     * @param {string} child account name\n     * @return {AccountModel}\n     */\n    private deriveNextChildAccount(childAccountName: string): AccountModel | null {\n        // - don't allow creating more than 10 accounts\n        if (this.knownPaths.length >= MAX_SEED_ACCOUNTS_NUMBER) {\n            this.$store.dispatch(\n                'notification/ADD_ERROR',\n                this.$t(NotificationType.TOO_MANY_SEED_ACCOUNTS_ERROR, {\n                    maxSeedAccountsNumber: MAX_SEED_ACCOUNTS_NUMBER,\n                }),\n            );\n            return null;\n        }\n\n        // - get next path\n        const nextPath = this.paths.getNextAccountPath(this.knownPaths);\n\n        this.$store.dispatch('diagnostic/ADD_DEBUG', 'Adding child account with derivation path: ' + nextPath);\n\n        // - decrypt mnemonic\n        const encSeed = this.currentProfile.seed;\n        const passphrase = Crypto.decrypt(encSeed, this.currentPassword.value);\n        const mnemonic = new MnemonicPassPhrase(passphrase);\n\n        // create account by mnemonic\n        return this.accountService.getChildAccountByPath(\n            this.currentProfile,\n            this.currentPassword,\n            mnemonic,\n            nextPath,\n            this.networkType,\n            childAccountName,\n        );\n    }\n    /**\n     * filter tags\n     */\n    public stripTagsAccountName() {\n        this.formItems.name = FilterHelpers.stripFilter(this.formItems.name);\n    }\n}\n"],"sourceRoot":""}]}