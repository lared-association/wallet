{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/components/NetworkNodeSelector/NetworkNodeSelectorTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/components/NetworkNodeSelector/NetworkNodeSelectorTs.ts","mtime":1606213958957},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgewogIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7CiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7CgogICAgdHJ5IHsKICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksCiAgICAgICAgcmVzdWx0OwoKICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgewogICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOwoKICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7CiAgfTsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7IC8vIGV4dGVybmFsIGRlcGVuZGVuY2llcwoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFByb3AsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsgLy8gaW50ZXJuYWwgZGVwZW5kZW5jaWVzCgppbXBvcnQgeyBWYWxpZGF0aW9uUnVsZXNldCB9IGZyb20gJ0AvY29yZS92YWxpZGF0aW9uL1ZhbGlkYXRpb25SdWxlc2V0JzsKaW1wb3J0IHsgVVJMSGVscGVycyB9IGZyb20gJ0AvY29yZS91dGlscy9VUkxIZWxwZXJzJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1XcmFwcGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb3JtV3JhcHBlci9Gb3JtV3JhcHBlci52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybVJvdyBmcm9tICdAL2NvbXBvbmVudHMvRm9ybVJvdy9Gb3JtUm93LnZ1ZSc7CmltcG9ydCB7IFJlcG9zaXRvcnlGYWN0b3J5SHR0cCB9IGZyb20gJ3N5bWJvbC1zZGsnOwppbXBvcnQgeyBOb2RlTW9kZWwgfSBmcm9tICdAL2NvcmUvZGF0YWJhc2UvZW50aXRpZXMvTm9kZU1vZGVsJzsKCnZhciBOZXR3b3JrTm9kZVNlbGVjdG9yVHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoTmV0d29ya05vZGVTZWxlY3RvclRzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOZXR3b3JrTm9kZVNlbGVjdG9yVHMpOwoKICBmdW5jdGlvbiBOZXR3b3JrTm9kZVNlbGVjdG9yVHMoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtOb2RlU2VsZWN0b3JUcyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIC8qKgogICAgICogVmFsaWRhdGlvbiBydWxlcwogICAgICovCgogICAgX3RoaXMudmFsaWRhdGlvblJ1bGVzID0gVmFsaWRhdGlvblJ1bGVzZXQ7CiAgICAvKioKICAgICAqIEZvcm0gaXRlbXMKICAgICAqLwoKICAgIF90aGlzLmZvcm1Ob2RlVXJsID0gJyc7CiAgICBfdGhpcy5mb3JtTm9kZVB1YmxpY0tleSA9ICcnOwogICAgX3RoaXMuY3VzdG9tTm9kZURhdGEgPSBbXTsKICAgIF90aGlzLmlzRmV0Y2hpbmdOb2RlSW5mbyA9IGZhbHNlOwogICAgX3RoaXMuc2hvd0lucHV0UHVibGljS2V5ID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gbm9kZSBpcyBlbGlnaWJsZSBmb3IgaGFydmVzdGluZwogICAqIEBwcm90ZWN0ZWQKICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhOZXR3b3JrTm9kZVNlbGVjdG9yVHMsIFt7CiAgICBrZXk6ICJmZXRjaE5vZGVQdWJsaWNLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoTm9kZVB1YmxpY0tleSh2YWx1ZSkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBlZXJOb2RlLCBub2RlTW9kZWwsIG5vZGVVcmwsIHJlcG9zaXRvcnlGYWN0b3J5LCBub2RlUmVwb3NpdG9yeSwgbm9kZUluZm8sIF9ub2RlTW9kZWw7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsICcnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaXQgaW4gcGVlciBub2RlcwogICAgICAgICAgICAgICAgcGVlck5vZGUgPSB0aGlzLnBlZXJOb2Rlcy5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwLmhvc3QgPT09IHZhbHVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKCEocGVlck5vZGUgJiYgKHBlZXJOb2RlID09PSBudWxsIHx8IHBlZXJOb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwZWVyTm9kZS5ub2RlUHVibGljS2V5KSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5vZGVNb2RlbCA9IG5ldyBOb2RlTW9kZWwodmFsdWUsIHBlZXJOb2RlLmZyaWVuZGx5TmFtZSwgZmFsc2UsIHBlZXJOb2RlLnB1YmxpY0tleSwgcGVlck5vZGUubm9kZVB1YmxpY0tleSk7CiAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMsICdzaG93SW5wdXRQdWJsaWNLZXknLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG5vZGVNb2RlbCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgdGhpcy5pc0ZldGNoaW5nTm9kZUluZm8gPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBub2RlVXJsID0gVVJMSGVscGVycy5nZXROb2RlVXJsKHZhbHVlKTsKICAgICAgICAgICAgICAgIHJlcG9zaXRvcnlGYWN0b3J5ID0gbmV3IFJlcG9zaXRvcnlGYWN0b3J5SHR0cChub2RlVXJsKTsKICAgICAgICAgICAgICAgIG5vZGVSZXBvc2l0b3J5ID0gcmVwb3NpdG9yeUZhY3RvcnkuY3JlYXRlTm9kZVJlcG9zaXRvcnkoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBub2RlUmVwb3NpdG9yeS5nZXROb2RlSW5mbygpLnRvUHJvbWlzZSgpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgbm9kZUluZm8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5mb3JtTm9kZVVybCA9IHZhbHVlOwoKICAgICAgICAgICAgICAgIGlmIChub2RlSW5mby5ub2RlUHVibGljS2V5KSB7CiAgICAgICAgICAgICAgICAgIF9ub2RlTW9kZWwgPSBuZXcgTm9kZU1vZGVsKHZhbHVlLCBub2RlSW5mby5mcmllbmRseU5hbWUsIGZhbHNlLCBub2RlSW5mby5wdWJsaWNLZXksIG5vZGVJbmZvLm5vZGVQdWJsaWNLZXkpOwogICAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMsICdzaG93SW5wdXRQdWJsaWNLZXknLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgX25vZGVNb2RlbCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMsICdzaG93SW5wdXRQdWJsaWNLZXknLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oOSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMsICdzaG93SW5wdXRQdWJsaWNLZXknLCB0cnVlKTsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm9kZV9jb25uZWN0aW9uX2ZhaWxlZCcpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI1OwogICAgICAgICAgICAgICAgdGhpcy5pc0ZldGNoaW5nTm9kZUluZm8gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjUpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s5LCAyMCwgMjUsIDI4XV0pOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbmV0d29yay9MT0FEX1BFRVJfTk9ERVMnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdGhpcy5jdXN0b21Ob2RlRGF0YSA9IHRoaXMucGVlck5vZGVzLm1hcChmdW5jdGlvbiAobikgewogICAgICAgICAgICAgICAgICByZXR1cm4gbi5ob3N0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ2YWx1ZVdhdGNoZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlV2F0Y2hlcihuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgIHRoaXMuZm9ybU5vZGVVcmwgPSBuZXdWYWwudXJsOwoKICAgICAgICBpZiAoIXRoaXMuZm9ybU5vZGVVcmwpIHsKICAgICAgICAgIHRoaXMuZm9ybU5vZGVQdWJsaWNLZXkgPSBuZXdWYWwubm9kZVB1YmxpY0tleTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmZvcm1Ob2RlUHVibGljS2V5KSB7CiAgICAgICAgICB0aGlzLnNob3dJbnB1dFB1YmxpY0tleSA9ICF0aGlzLmZvcm1Ob2RlVXJsOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcm1Ob2RlVXJsID0gJyc7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJVcmxzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXJVcmxzKHZhbHVlLCBvcHRpb24pIHsKICAgICAgcmV0dXJuIG9wdGlvbi50b1VwcGVyQ2FzZSgpLmluZGV4T2YodmFsdWUudG9VcHBlckNhc2UoKSkgIT09IC0xOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uQ2hhbmdlRm9ybU5vZGVQdWJsaWNLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlRm9ybU5vZGVQdWJsaWNLZXkoZXZlbnQpIHsKICAgICAgdmFyIG5vZGVNb2RlbCA9IHsKICAgICAgICBub2RlUHVibGljS2V5OiBldmVudC50YXJnZXQudmFsdWUKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBub2RlTW9kZWwpOwogICAgfQogIH0sIHsKICAgIGtleTogIm9uQ2xlYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7CiAgICAgIC8vIEB0cy1pZ25vcmUKICAgICAgdGhpcy4kcmVmcy5ub2RlVXJsSW5wdXQuJGVsLmZvY3VzKCk7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgewogICAgICAgIG5vZGVQdWJsaWNLZXk6ICcnCiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE5ldHdvcmtOb2RlU2VsZWN0b3JUczsKfShWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgImRlZmF1bHQiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgIHJldHVybiBbXTsKICB9Cn0pXSwgTmV0d29ya05vZGVTZWxlY3RvclRzLnByb3RvdHlwZSwgImV4Y2x1ZGVSb2xlcyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKCldLCBOZXR3b3JrTm9kZVNlbGVjdG9yVHMucHJvdG90eXBlLCAidmFsdWUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3ZhbHVlJywgewogIGltbWVkaWF0ZTogdHJ1ZQp9KV0sIE5ldHdvcmtOb2RlU2VsZWN0b3JUcy5wcm90b3R5cGUsICJ2YWx1ZVdhdGNoZXIiLCBudWxsKTsKCk5ldHdvcmtOb2RlU2VsZWN0b3JUcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgRm9ybVdyYXBwZXI6IEZvcm1XcmFwcGVyLAogICAgRm9ybVJvdzogRm9ybVJvdwogIH0sCiAgY29tcHV0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIG1hcEdldHRlcnMoewogICAgcGVlck5vZGVzOiAnbmV0d29yay9wZWVyTm9kZXMnLAogICAgcmVwb3NpdG9yeUZhY3Rvcnk6ICduZXR3b3JrL3JlcG9zaXRvcnlGYWN0b3J5JwogIH0pKQp9KV0sIE5ldHdvcmtOb2RlU2VsZWN0b3JUcyk7CmV4cG9ydCB7IE5ldHdvcmtOb2RlU2VsZWN0b3JUcyB9Ow=="},{"version":3,"sources":["/home/hero/lared-wallet/src/components/NetworkNodeSelector/NetworkNodeSelectorTs.ts"],"names":[],"mappings":"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","sourcesContent":["// external dependencies\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\n\n// internal dependencies\nimport { ValidationRuleset } from '@/core/validation/ValidationRuleset';\nimport { URLHelpers } from '@/core/utils/URLHelpers';\n\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\nimport { NodeInfo, RepositoryFactoryHttp } from 'symbol-sdk';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\n\n@Component({\n    components: {\n        FormWrapper,\n        FormRow,\n    },\n    computed: {\n        ...mapGetters({\n            peerNodes: 'network/peerNodes',\n            repositoryFactory: 'network/repositoryFactory',\n        }),\n    },\n})\nexport class NetworkNodeSelectorTs extends Vue {\n    @Prop({ default: () => [] }) excludeRoles: number[];\n\n    @Prop()\n    value: NodeModel;\n\n    /**\n     * Validation rules\n     */\n    public validationRules = ValidationRuleset;\n\n    public peerNodes: NodeInfo[];\n\n    /**\n     * Form items\n     */\n    protected formNodeUrl = '';\n\n    protected formNodePublicKey = '';\n\n    public customNodeData = [];\n\n    public isFetchingNodeInfo = false;\n\n    public showInputPublicKey = false;\n\n    /**\n     * Checks if the given node is eligible for harvesting\n     * @protected\n     * @returns {Promise<void>}\n     */\n    protected async fetchNodePublicKey(value) {\n        if (!value) {\n            return '';\n        }\n\n        // first check it in peer nodes\n        const peerNode = this.peerNodes.find((p) => p.host === value);\n        if (peerNode && peerNode?.nodePublicKey) {\n            const nodeModel = new NodeModel(value, peerNode.friendlyName, false, peerNode.publicKey, peerNode.nodePublicKey);\n            Vue.set(this, 'showInputPublicKey', false);\n            this.$emit('input', nodeModel);\n            return;\n        }\n\n        this.isFetchingNodeInfo = true;\n        try {\n            const nodeUrl = URLHelpers.getNodeUrl(value);\n            const repositoryFactory = new RepositoryFactoryHttp(nodeUrl);\n            const nodeRepository = repositoryFactory.createNodeRepository();\n            const nodeInfo = await nodeRepository.getNodeInfo().toPromise();\n            this.formNodeUrl = value;\n            if (nodeInfo.nodePublicKey) {\n                const nodeModel = new NodeModel(value, nodeInfo.friendlyName, false, nodeInfo.publicKey, nodeInfo.nodePublicKey);\n                Vue.set(this, 'showInputPublicKey', false);\n                this.$emit('input', nodeModel);\n            } else {\n                Vue.set(this, 'showInputPublicKey', true);\n            }\n        } catch (error) {\n            console.log(error);\n            Vue.set(this, 'showInputPublicKey', true);\n            throw new Error('Node_connection_failed');\n        } finally {\n            this.isFetchingNodeInfo = false;\n        }\n    }\n\n    public async created() {\n        await this.$store.dispatch('network/LOAD_PEER_NODES');\n        this.customNodeData = this.peerNodes.map((n) => n.host);\n    }\n\n    @Watch('value', { immediate: true })\n    protected valueWatcher(newVal: NodeModel) {\n        if (newVal) {\n            this.formNodeUrl = newVal.url;\n            if (!this.formNodeUrl) {\n                this.formNodePublicKey = newVal.nodePublicKey;\n            }\n            if (this.formNodePublicKey) {\n                this.showInputPublicKey = !this.formNodeUrl;\n            }\n        } else {\n            this.formNodeUrl = '';\n        }\n    }\n\n    public filterUrls(value, option) {\n        return option.toUpperCase().indexOf(value.toUpperCase()) !== -1;\n    }\n\n    public onChangeFormNodePublicKey(event) {\n        const nodeModel = { nodePublicKey: event.target.value };\n        this.$emit('input', nodeModel);\n    }\n\n    public onClear() {\n        // @ts-ignore\n        this.$refs.nodeUrlInput.$el.focus();\n        this.$emit('input', { nodePublicKey: '' });\n    }\n}\n"],"sourceRoot":""}]}