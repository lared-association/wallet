{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-2!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/core/database/storage/NetworkCurrenciesModelStorage.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/core/database/storage/NetworkCurrenciesModelStorage.ts","mtime":1611927227240},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCi8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KaW1wb3J0IHsgTmV0d29ya0N1cnJlbmNpZXNNb2RlbCB9IGZyb20gJ0AvY29yZS9kYXRhYmFzZS9lbnRpdGllcy9OZXR3b3JrQ3VycmVuY2llc01vZGVsJzsKaW1wb3J0IHsgVmVyc2lvbmVkTmV0d29ya0Jhc2VkT2JqZWN0U3RvcmFnZSB9IGZyb20gJ0AvY29yZS9kYXRhYmFzZS9iYWNrZW5kcy9WZXJzaW9uZWROZXR3b3JrQmFzZWRPYmplY3RTdG9yYWdlJzsKaW1wb3J0IHsgTmV0d29ya0N1cnJlbmN5TW9kZWwgfSBmcm9tICcuLi9lbnRpdGllcy9OZXR3b3JrQ3VycmVuY3lNb2RlbCc7CmV4cG9ydCB2YXIgTmV0d29ya0N1cnJlbmNpZXNNb2RlbFN0b3JhZ2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WZXJzaW9uZWROZXR3b3JrQmFzZSkgewogIF9pbmhlcml0cyhOZXR3b3JrQ3VycmVuY2llc01vZGVsU3RvcmFnZSwgX1ZlcnNpb25lZE5ldHdvcmtCYXNlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihOZXR3b3JrQ3VycmVuY2llc01vZGVsU3RvcmFnZSk7CgogIGZ1bmN0aW9uIE5ldHdvcmtDdXJyZW5jaWVzTW9kZWxTdG9yYWdlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtDdXJyZW5jaWVzTW9kZWxTdG9yYWdlKTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgJ25ldHdvcmtDdXJyZW5jeUNhY2hlJywgW3sKICAgICAgZGVzY3JpcHRpb246ICdSZXNldCBuZXR3b3JrQ3VycmVuY3lDYWNoZSBmb3IgMC45LjYuMyBuZXR3b3JrIChpZCBjaGFuZ2VzKScsCiAgICAgIG1pZ3JhdGU6IGZ1bmN0aW9uIG1pZ3JhdGUoKSB7CiAgICAgICAgdmFyIHh5bU1vc2FpYzk2eCA9IG5ldyBOZXR3b3JrQ3VycmVuY3lNb2RlbCgnNUU2Mjk5MERDQUM1QkU4QScsICdFNzRCOTlCQTQxRjRBRkVFJywgJ3N5bWJvbC54eW0nLCA2LCB0cnVlLCBmYWxzZSwgZmFsc2UsICdYWU0nKTsgLy8gcmVzZXQgdGFibGUgZm9yIG5ldyBjYWNoZQoKICAgICAgICByZXR1cm4gbmV3IE5ldHdvcmtDdXJyZW5jaWVzTW9kZWwoeHltTW9zYWljOTZ4LCB4eW1Nb3NhaWM5NngpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGRlc2NyaXB0aW9uOiAnUmVzZXQgbmV0d29ya0N1cnJlbmN5Q2FjaGUgZm9yIDAuMTAueCBuZXR3b3JrIChpZCBjaGFuZ2VzKScsCiAgICAgIG1pZ3JhdGU6IGZ1bmN0aW9uIG1pZ3JhdGUoKSB7CiAgICAgICAgdmFyIHh5bU1vc2FpYzk2eCA9IG5ldyBOZXR3b3JrQ3VycmVuY3lNb2RlbCgnNUI2NkU3NkJFQ0FEMDg2MCcsICdFNzRCOTlCQTQxRjRBRkVFJywgJ3N5bWJvbC54eW0nLCA2LCB0cnVlLCBmYWxzZSwgZmFsc2UsICdYWU0nKTsgLy8gcmVzZXQgdGFibGUgZm9yIG5ldyBjYWNoZQoKICAgICAgICByZXR1cm4gbmV3IE5ldHdvcmtDdXJyZW5jaWVzTW9kZWwoeHltTW9zYWljOTZ4LCB4eW1Nb3NhaWM5NngpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGRlc2NyaXB0aW9uOiAnUmVzZXQgYWNjb3VudHMgZm9yIDAuMTAuMC41IG5ldHdvcmsgKG5vbiBiYWNrd2FyZHMgY29tcGF0aWJsZSknLAogICAgICBtaWdyYXRlOiBmdW5jdGlvbiBtaWdyYXRlKCkgewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0KICAgIH1dKTsKICB9CgogIHJldHVybiBOZXR3b3JrQ3VycmVuY2llc01vZGVsU3RvcmFnZTsKfShWZXJzaW9uZWROZXR3b3JrQmFzZWRPYmplY3RTdG9yYWdlKTsKLyoqCiAqIFNpbmdsZXRvbiBpbnN0YW5jZSBhcyB3ZSB3YW50IHRvIHJ1biB0aGUgbWlncmF0aW9uIGp1c3Qgb25jZQogKi8KCk5ldHdvcmtDdXJyZW5jaWVzTW9kZWxTdG9yYWdlLklOU1RBTkNFID0gbmV3IE5ldHdvcmtDdXJyZW5jaWVzTW9kZWxTdG9yYWdlKCk7"},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/core/database/storage/NetworkCurrenciesModelStorage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;AAcG;AAEH,SAAS,sBAAT,QAAuC,iDAAvC;AACA,SAAS,kCAAT,QAAmD,6DAAnD;AACA,SAAS,oBAAT,QAAqC,kCAArC;AAEA,WAAa,6BAAb;AAAA;;AAAA;;AAMI,2CAAA;AAAA;;AAAA,6BACU,sBADV,EACkC,CAC1B;AACI,MAAA,WAAW,EAAE,6DADjB;AAEI,MAAA,OAAO,EAAE,mBAAK;AACV,YAAM,YAAY,GAAG,IAAI,oBAAJ,CACjB,kBADiB,EAEjB,kBAFiB,EAGjB,YAHiB,EAIjB,CAJiB,EAKjB,IALiB,EAMjB,KANiB,EAOjB,KAPiB,EAQjB,KARiB,CAArB,CADU,CAWV;;AACA,eAAO,IAAI,sBAAJ,CAA2B,YAA3B,EAAyC,YAAzC,CAAP;AACH;AAfL,KAD0B,EAkB1B;AACI,MAAA,WAAW,EAAE,4DADjB;AAEI,MAAA,OAAO,EAAE,mBAAK;AACV,YAAM,YAAY,GAAG,IAAI,oBAAJ,CACjB,kBADiB,EAEjB,kBAFiB,EAGjB,YAHiB,EAIjB,CAJiB,EAKjB,IALiB,EAMjB,KANiB,EAOjB,KAPiB,EAQjB,KARiB,CAArB,CADU,CAWV;;AACA,eAAO,IAAI,sBAAJ,CAA2B,YAA3B,EAAyC,YAAzC,CAAP;AACH;AAfL,KAlB0B,EAmC1B;AACI,MAAA,WAAW,EAAE,gEADjB;AAEI,MAAA,OAAO,EAAE;AAAA,eAAM,SAAN;AAAA;AAFb,KAnC0B,CADlC;AAyCC;;AA/CL;AAAA,EAAmD,kCAAnD;AACI;;AAEG;;AACW,6BAAA,CAAA,QAAA,GAAW,IAAI,6BAAJ,EAAX","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { NetworkCurrenciesModel } from '@/core/database/entities/NetworkCurrenciesModel';\nimport { VersionedNetworkBasedObjectStorage } from '@/core/database/backends/VersionedNetworkBasedObjectStorage';\nimport { NetworkCurrencyModel } from '../entities/NetworkCurrencyModel';\n\nexport class NetworkCurrenciesModelStorage extends VersionedNetworkBasedObjectStorage<NetworkCurrenciesModel> {\n    /**\n     * Singleton instance as we want to run the migration just once\n     */\n    public static INSTANCE = new NetworkCurrenciesModelStorage();\n\n    private constructor() {\n        super('networkCurrencyCache', [\n            {\n                description: 'Reset networkCurrencyCache for 0.9.6.3 network (id changes)',\n                migrate: () => {\n                    const xymMosaic96x = new NetworkCurrencyModel(\n                        '5E62990DCAC5BE8A',\n                        'E74B99BA41F4AFEE',\n                        'symbol.xym',\n                        6,\n                        true,\n                        false,\n                        false,\n                        'XYM',\n                    );\n                    // reset table for new cache\n                    return new NetworkCurrenciesModel(xymMosaic96x, xymMosaic96x);\n                },\n            },\n            {\n                description: 'Reset networkCurrencyCache for 0.10.x network (id changes)',\n                migrate: () => {\n                    const xymMosaic96x = new NetworkCurrencyModel(\n                        '5B66E76BECAD0860',\n                        'E74B99BA41F4AFEE',\n                        'symbol.xym',\n                        6,\n                        true,\n                        false,\n                        false,\n                        'XYM',\n                    );\n                    // reset table for new cache\n                    return new NetworkCurrenciesModel(xymMosaic96x, xymMosaic96x);\n                },\n            },\n            {\n                description: 'Reset accounts for 0.10.0.5 network (non backwards compatible)',\n                migrate: () => undefined,\n            },\n        ]);\n    }\n}\n"],"sourceRoot":""}]}