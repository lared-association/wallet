{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts","mtime":1611927227625},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgppbXBvcnQgeyBVSW50NjQsIEFjY291bnRLZXlMaW5rVHJhbnNhY3Rpb24sIExpbmtBY3Rpb24sIFZyZktleUxpbmtUcmFuc2FjdGlvbiwgQWNjb3VudCwgTm9kZUtleUxpbmtUcmFuc2FjdGlvbiwgUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb24sIEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uLCBQdWJsaWNBY2NvdW50LCBEZWFkbGluZSwgTG9ja0Z1bmRzVHJhbnNhY3Rpb24sIE1vc2FpYywgU2lnbmVkVHJhbnNhY3Rpb24gfSBmcm9tICdzeW1ib2wtc2RrJzsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsgLy8gaW50ZXJuYWwgZGVwZW5kZW5jaWVzCgppbXBvcnQgeyBGb3JtYXR0ZXJzIH0gZnJvbSAnQC9jb3JlL3V0aWxzL0Zvcm1hdHRlcnMnOwppbXBvcnQgeyBGb3JtVHJhbnNhY3Rpb25CYXNlIH0gZnJvbSAnQC92aWV3cy9mb3Jtcy9Gb3JtVHJhbnNhY3Rpb25CYXNlL0Zvcm1UcmFuc2FjdGlvbkJhc2UnOyAvLyBjaGlsZCBjb21wb25lbnRzCgppbXBvcnQgeyBWYWxpZGF0aW9uT2JzZXJ2ZXIgfSBmcm9tICd2ZWUtdmFsaWRhdGUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybVdyYXBwZXIgZnJvbSAnQC9jb21wb25lbnRzL0Zvcm1XcmFwcGVyL0Zvcm1XcmFwcGVyLnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBNb2RhbFRyYW5zYWN0aW9uQ29uZmlybWF0aW9uIGZyb20gJ0Avdmlld3MvbW9kYWxzL01vZGFsVHJhbnNhY3Rpb25Db25maXJtYXRpb24vTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbi52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgU2lnbmVyU2VsZWN0b3IgZnJvbSAnQC9jb21wb25lbnRzL1NpZ25lclNlbGVjdG9yL1NpZ25lclNlbGVjdG9yLnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBNYXhGZWVBbmRTdWJtaXQgZnJvbSAnQC9jb21wb25lbnRzL01heEZlZUFuZFN1Ym1pdC9NYXhGZWVBbmRTdWJtaXQudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE5ldHdvcmtOb2RlU2VsZWN0b3IgZnJvbSAnQC9jb21wb25lbnRzL05ldHdvcmtOb2RlU2VsZWN0b3IvTmV0d29ya05vZGVTZWxlY3Rvci52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybVJvdyBmcm9tICdAL2NvbXBvbmVudHMvRm9ybVJvdy9Gb3JtUm93LnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBFcnJvclRvb2x0aXAgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yVG9vbHRpcC9FcnJvclRvb2x0aXAudnVlJzsKaW1wb3J0IHsgVmFsaWRhdGlvblByb3ZpZGVyIH0gZnJvbSAndmVlLXZhbGlkYXRlJzsKaW1wb3J0IHsgZmVlc0NvbmZpZyB9IGZyb20gJ0AvY29uZmlnJzsKaW1wb3J0IHsgQWNjb3VudFRyYW5zYWN0aW9uU2lnbmVyLCBUcmFuc2FjdGlvbkFubm91bmNlclNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL1RyYW5zYWN0aW9uQW5ub3VuY2VyU2VydmljZSc7CmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IGNvbmNhdE1hcCwgZmxhdE1hcCwgbWFwLCBtZXJnZUFsbCwgc3dpdGNoTWFwLCB0YXAsIHRvQXJyYXkgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CmV4cG9ydCB2YXIgSGFydmVzdGluZ0FjdGlvbjsKCihmdW5jdGlvbiAoSGFydmVzdGluZ0FjdGlvbikgewogIEhhcnZlc3RpbmdBY3Rpb25bSGFydmVzdGluZ0FjdGlvblsiU1RBUlQiXSA9IDFdID0gIlNUQVJUIjsKICBIYXJ2ZXN0aW5nQWN0aW9uW0hhcnZlc3RpbmdBY3Rpb25bIlNUT1AiXSA9IDJdID0gIlNUT1AiOwogIEhhcnZlc3RpbmdBY3Rpb25bSGFydmVzdGluZ0FjdGlvblsiU1dBUCJdID0gM10gPSAiU1dBUCI7CiAgSGFydmVzdGluZ0FjdGlvbltIYXJ2ZXN0aW5nQWN0aW9uWyJBQ1RJVkFURSJdID0gNF0gPSAiQUNUSVZBVEUiOwp9KShIYXJ2ZXN0aW5nQWN0aW9uIHx8IChIYXJ2ZXN0aW5nQWN0aW9uID0ge30pKTsKCnZhciBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Zvcm1UcmFuc2FjdGlvbkJhc2UpIHsKICBfaW5oZXJpdHMoRm9ybVBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uVHMsIF9Gb3JtVHJhbnNhY3Rpb25CYXNlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25Ucyk7CgogIGZ1bmN0aW9uIEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25Ucyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy9AUHJvcCh7IGRlZmF1bHQ6IHRydWUgfSkgd2l0aExpbms6IGJvb2xlYW47CgogICAgLyoqCiAgICAgKiBGb3JtYXR0ZXJzIGhlbHBlcnMKICAgICAqLwoKICAgIF90aGlzLmZvcm1hdHRlcnMgPSBGb3JtYXR0ZXJzOwogICAgLyoqCiAgICAgKiBGb3JtIGl0ZW1zCiAgICAgKi8KCiAgICBfdGhpcy5mb3JtSXRlbXMgPSB7CiAgICAgIG5vZGVNb2RlbDogewogICAgICAgIG5vZGVQdWJsaWNLZXk6ICcnCiAgICAgIH0sCiAgICAgIHNpZ25lckFkZHJlc3M6ICcnCiAgICB9OwogICAgX3RoaXMuYWN0aW9uID0gSGFydmVzdGluZ0FjdGlvbi5TVEFSVDsKICAgIF90aGlzLmFjdGl2YXRpbmcgPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqCiAgICogUmVzZXQgdGhlIGZvcm0gd2l0aCBwcm9wZXJ0aWVzCiAgICogQHJldHVybiB7dm9pZH0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UcywgW3sKICAgIGtleTogInJlc2V0Rm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRGb3JtKCkgewogICAgICAvLyAtIHNldCBkZWZhdWx0IGZvcm0gdmFsdWVzCiAgICAgIHRoaXMuYWN0aW9uID0gSGFydmVzdGluZ0FjdGlvbi5TVEFSVDsgLy8gLSBtYXhGZWUgbXVzdCBiZSBhYnNvbHV0ZQoKICAgICAgdGhpcy5uZXdWcmZLZXlBY2NvdW50ID0gQWNjb3VudC5nZW5lcmF0ZU5ld0FjY291bnQodGhpcy5uZXR3b3JrVHlwZSk7CiAgICAgIHRoaXMubmV3UmVtb3RlQWNjb3VudCA9IEFjY291bnQuZ2VuZXJhdGVOZXdBY2NvdW50KHRoaXMubmV0d29ya1R5cGUpOwogICAgICB0aGlzLnRlbXBUcmFuc2FjdGlvblNpZ25lciA9IG5ldyBBY2NvdW50VHJhbnNhY3Rpb25TaWduZXIoQWNjb3VudC5nZW5lcmF0ZU5ld0FjY291bnQodGhpcy5uZXR3b3JrVHlwZSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImN1cnJlbnRTaWduZXJXYXRjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3VycmVudFNpZ25lcldhdGNoKCkgewogICAgICB2YXIgX2EsIF9iLCBfYzsKCiAgICAgIHRoaXMuZm9ybUl0ZW1zLnNpZ25lckFkZHJlc3MgPSB0aGlzLnNpZ25lckFkZHJlc3MgfHwgKChfYSA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRJbmZvKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkcmVzcy5wbGFpbigpKTsKCiAgICAgIGlmICh0aGlzLmlzTm9kZUtleUxpbmtlZCkgewogICAgICAgIHRoaXMuZm9ybUl0ZW1zLm5vZGVNb2RlbC5ub2RlUHVibGljS2V5ID0gKF9iID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLm5vZGUucHVibGljS2V5OwoKICAgICAgICBpZiAoKF9jID0gdGhpcy5jdXJyZW50U2lnbmVySGFydmVzdGluZ01vZGVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2VsZWN0ZWRIYXJ2ZXN0aW5nTm9kZSkgewogICAgICAgICAgdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsID0gdGhpcy5jdXJyZW50U2lnbmVySGFydmVzdGluZ01vZGVsLnNlbGVjdGVkSGFydmVzdGluZ05vZGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZm9ybUl0ZW1zLm5vZGVNb2RlbCA9IHsKICAgICAgICAgICAgbm9kZVB1YmxpY0tleTogJycKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZm9ybUl0ZW1zLm5vZGVNb2RlbCA9IHsKICAgICAgICAgIG5vZGVQdWJsaWNLZXk6ICcnCiAgICAgICAgfTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBUbyBnZXQgYWxsIHRoZSBrZXkgbGluayB0cmFuc2FjdGlvbnMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRLZXlMaW5rVHJhbnNhY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRLZXlMaW5rVHJhbnNhY3Rpb25zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0cmFuc2FjdGlvblNpZ25lciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy50ZW1wVHJhbnNhY3Rpb25TaWduZXI7CiAgICAgIHZhciBtYXhGZWUgPSBVSW50NjQuZnJvbVVpbnQoZmVlc0NvbmZpZy5oaWdoZXN0KTsgLy8gZml4ZWQgdG8gdGhlIEhpZ2hlc3QsIHR4cyBtdXN0IGdldCBjb25maXJtZWQKCiAgICAgIHZhciB0eHMgPSBbXTsKICAgICAgLyoKICAgICAgIExJTksKICAgICAgIFNUQVJUID0+IGxpbmsgYWxsIChuZXcga2V5cykKICAgICAgIFNUT1AgPT4gIHVubGluayBhbGwgKGxpbmtlZCBrZXlzKQogICAgICAgU1dBUCA9PiAgdW5saW5rKGxpbmtlZCkgKyBsaW5rIGFsbCAobmV3IGtleXMpCiAgICAgICAqLwoKICAgICAgaWYgKHRoaXMuaXNBY2NvdW50S2V5TGlua2VkKSB7CiAgICAgICAgdmFyIGFjY291bnRLZXlVbkxpbmtUeCA9IHRoaXMuY3JlYXRlQWNjb3VudEtleUxpbmtUeCh0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50SW5mby5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLmxpbmtlZC5wdWJsaWNLZXksIExpbmtBY3Rpb24uVW5saW5rLCBtYXhGZWUpOwogICAgICAgIHR4cy5wdXNoKGFjY291bnRLZXlVbkxpbmtUeCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzVnJmS2V5TGlua2VkKSB7CiAgICAgICAgdmFyIHZyZktleVVuTGlua1R4ID0gdGhpcy5jcmVhdGVWcmZLZXlMaW5rVHgodGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8uc3VwcGxlbWVudGFsUHVibGljS2V5cy52cmYucHVibGljS2V5LCBMaW5rQWN0aW9uLlVubGluaywgbWF4RmVlKTsKICAgICAgICB0eHMucHVzaCh2cmZLZXlVbkxpbmtUeCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzTm9kZUtleUxpbmtlZCkgewogICAgICAgIHZhciBub2RlVW5MaW5rVHggPSB0aGlzLmNyZWF0ZU5vZGVLZXlMaW5rVHgodGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8uc3VwcGxlbWVudGFsUHVibGljS2V5cy5ub2RlLnB1YmxpY0tleSwgTGlua0FjdGlvbi5VbmxpbmssIG1heEZlZSk7CiAgICAgICAgdHhzLnB1c2gobm9kZVVuTGlua1R4KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYWN0aW9uICE9PSBIYXJ2ZXN0aW5nQWN0aW9uLlNUT1ApIHsKICAgICAgICB2YXIgYWNjb3VudEtleUxpbmtUeCA9IHRoaXMuY3JlYXRlQWNjb3VudEtleUxpbmtUeCh0aGlzLm5ld1JlbW90ZUFjY291bnQucHVibGljS2V5LCBMaW5rQWN0aW9uLkxpbmssIG1heEZlZSk7CiAgICAgICAgdmFyIHZyZktleUxpbmtUeCA9IHRoaXMuY3JlYXRlVnJmS2V5TGlua1R4KHRoaXMubmV3VnJmS2V5QWNjb3VudC5wdWJsaWNLZXksIExpbmtBY3Rpb24uTGluaywgbWF4RmVlKTsKICAgICAgICB2YXIgbm9kZUxpbmtUeCA9IHRoaXMuY3JlYXRlTm9kZUtleUxpbmtUeCh0aGlzLmZvcm1JdGVtcy5ub2RlTW9kZWwubm9kZVB1YmxpY0tleSwgTGlua0FjdGlvbi5MaW5rLCBtYXhGZWUpOwogICAgICAgIHR4cy5wdXNoKGFjY291bnRLZXlMaW5rVHgsIHZyZktleUxpbmtUeCwgbm9kZUxpbmtUeCk7CiAgICAgIH0KCiAgICAgIGlmICh0eHMubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0aGlzLmlzTXVsdGlzaWdNb2RlKCkpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRvTXVsdGlTaWdBZ2dyZWdhdGUodHhzLCBtYXhGZWUsIHRyYW5zYWN0aW9uU2lnbmVyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGFnZ3JlZ2F0ZSA9IHRoaXMuY2FsY3VsYXRlU3VnZ2VzdGVkTWF4RmVlKEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uLmNyZWF0ZUNvbXBsZXRlKERlYWRsaW5lLmNyZWF0ZSh0aGlzLmVwb2NoQWRqdXN0bWVudCksIHR4cy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQudG9BZ2dyZWdhdGUoX3RoaXMyLmN1cnJlbnRTaWduZXJBY2NvdW50KTsKICAgICAgICAgIH0pLCB0aGlzLm5ldHdvcmtUeXBlLCBbXSwgbWF4RmVlKSk7CiAgICAgICAgICByZXR1cm4gb2YoW2FnZ3JlZ2F0ZV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG9mKFtdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b011bHRpU2lnQWdncmVnYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b011bHRpU2lnQWdncmVnYXRlKHR4cywgbWF4RmVlLCB0cmFuc2FjdGlvblNpZ25lcikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBhZ2dyZWdhdGUgPSB0aGlzLmNhbGN1bGF0ZVN1Z2dlc3RlZE1heEZlZShBZ2dyZWdhdGVUcmFuc2FjdGlvbi5jcmVhdGVCb25kZWQoRGVhZGxpbmUuY3JlYXRlKHRoaXMuZXBvY2hBZGp1c3RtZW50KSwgdHhzLm1hcChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LnRvQWdncmVnYXRlKF90aGlzMy5jdXJyZW50U2lnbmVyQWNjb3VudCk7CiAgICAgIH0pLCB0aGlzLm5ldHdvcmtUeXBlLCBbXSwgbWF4RmVlKSk7CiAgICAgIHJldHVybiB0cmFuc2FjdGlvblNpZ25lci5zaWduVHJhbnNhY3Rpb24oYWdncmVnYXRlLCB0aGlzLmdlbmVyYXRpb25IYXNoKS5waXBlKG1hcChmdW5jdGlvbiAoc2lnbmVkQWdncmVnYXRlVHJhbnNhY3Rpb24pIHsKICAgICAgICB2YXIgaGFzaExvY2sgPSBfdGhpczMuY2FsY3VsYXRlU3VnZ2VzdGVkTWF4RmVlKExvY2tGdW5kc1RyYW5zYWN0aW9uLmNyZWF0ZShEZWFkbGluZS5jcmVhdGUoX3RoaXMzLmVwb2NoQWRqdXN0bWVudCksIG5ldyBNb3NhaWMoX3RoaXMzLm5ldHdvcmtNb3NhaWMsIFVJbnQ2NC5mcm9tTnVtZXJpY1N0cmluZyhfdGhpczMubmV0d29ya0NvbmZpZ3VyYXRpb24ubG9ja2VkRnVuZHNQZXJBZ2dyZWdhdGUpKSwgVUludDY0LmZyb21VaW50KDEwMDApLCBzaWduZWRBZ2dyZWdhdGVUcmFuc2FjdGlvbiwgX3RoaXMzLm5ldHdvcmtUeXBlLCBtYXhGZWUpKTsKCiAgICAgICAgcmV0dXJuIFtoYXNoTG9jaywgYWdncmVnYXRlXTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvbigpIHsKICAgICAgdmFyIHRyYW5zYWN0aW9uU2lnbmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRlbXBUcmFuc2FjdGlvblNpZ25lcjsKICAgICAgdmFyIG1heEZlZSA9IFVJbnQ2NC5mcm9tVWludChmZWVzQ29uZmlnLmhpZ2hlc3QpOwoKICAgICAgaWYgKHRoaXMuYWN0aW9uICE9PSBIYXJ2ZXN0aW5nQWN0aW9uLlNUT1ApIHsKICAgICAgICB2YXIgcGVyc2lzdGVudERlbGVnYXRpb25SZXFUeCA9IFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uLmNyZWF0ZVBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uKERlYWRsaW5lLmNyZWF0ZSh0aGlzLmVwb2NoQWRqdXN0bWVudCwgdGhpcy5pc011bHRpc2lnTW9kZSgpID8gMjQgOiAyKSwgdGhpcy5uZXdSZW1vdGVBY2NvdW50LnByaXZhdGVLZXksIHRoaXMubmV3VnJmS2V5QWNjb3VudC5wcml2YXRlS2V5LCB0aGlzLmZvcm1JdGVtcy5ub2RlTW9kZWwubm9kZVB1YmxpY0tleSwgdGhpcy5uZXR3b3JrVHlwZSwgbWF4RmVlKTsKICAgICAgICByZXR1cm4gdGhpcy5pc011bHRpc2lnTW9kZSgpID8gdGhpcy50b011bHRpU2lnQWdncmVnYXRlKFtwZXJzaXN0ZW50RGVsZWdhdGlvblJlcVR4XSwgbWF4RmVlLCB0cmFuc2FjdGlvblNpZ25lcikgOiBvZihbdGhpcy5jYWxjdWxhdGVTdWdnZXN0ZWRNYXhGZWUocGVyc2lzdGVudERlbGVnYXRpb25SZXFUeCldKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9mKFtdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNvbHZlVHJhbnNhY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlVHJhbnNhY3Rpb25zKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmdldEtleUxpbmtUcmFuc2FjdGlvbnMoKS5waXBlKHN3aXRjaE1hcChmdW5jdGlvbiAodHhzKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRQZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvbigpLnBpcGUobWFwKGZ1bmN0aW9uIChwdHhzKSB7CiAgICAgICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0eHMpLCBfdG9Db25zdW1hYmxlQXJyYXkocHR4cykpOwogICAgICAgIH0pKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImFubm91bmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbm5vdW5jZShzZXJ2aWNlLCB0cmFuc2FjdGlvblNpZ25lcikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIGFubm91bmNlIHRoZSBrZXlMaW5rIHR4cyBhbmQgc2F2ZSB0aGUgc2lnbmVkIFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxVHggdG8gdGhlIHN0b3JlCiAgICAgIHZhciBhY2NvdW50QWRkcmVzcyA9IHRoaXMuY3VycmVudFNpZ25lckhhcnZlc3RpbmdNb2RlbC5hY2NvdW50QWRkcmVzczsKICAgICAgdmFyIHNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeCQgPSB0aGlzLmdldFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uU2lnbmVyKS5waXBlKGNvbmNhdE1hcChmdW5jdGlvbiAodHhzKSB7CiAgICAgICAgcmV0dXJuIHR4cy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblNpZ25lci5zaWduVHJhbnNhY3Rpb24odCwgX3RoaXM1LmdlbmVyYXRpb25IYXNoKTsKICAgICAgICB9KTsKICAgICAgfSksIG1lcmdlQWxsKCksIHRvQXJyYXkoKSk7CiAgICAgIHJldHVybiB0aGlzLmdldEtleUxpbmtUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25TaWduZXIpLnBpcGUoZmxhdE1hcChmdW5jdGlvbiAodHJhbnNhY3Rpb25zKSB7CiAgICAgICAgdmFyIHNpZ25lZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblNpZ25lci5zaWduVHJhbnNhY3Rpb24odCwgX3RoaXM1LmdlbmVyYXRpb25IYXNoKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFzaWduZWRUcmFuc2FjdGlvbnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gb2YoW10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzNS5pc011bHRpc2lnTW9kZSgpKSB7CiAgICAgICAgICByZXR1cm4gb2YoW190aGlzNS5hbm5vdW5jZUhhc2hBbmRBZ2dyZWdhdGVCb25kZWQoc2VydmljZSwgc2lnbmVkVHJhbnNhY3Rpb25zKV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gb2YoX3RoaXM1LmFubm91bmNlU2ltcGxlKHNlcnZpY2UsIHNpZ25lZFRyYW5zYWN0aW9ucykpOwogICAgICAgIH0KICAgICAgfSksIHRhcChmdW5jdGlvbiAocmVzQXJyKSB7CiAgICAgICAgcmV0dXJuIHJlc0FyclswXS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeCQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzaWduZWRUeCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuc2F2ZVNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHMoYWNjb3VudEFkZHJlc3MsIHNpZ25lZFR4KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczUuJHN0b3JlLmRpc3BhdGNoKCdoYXJ2ZXN0aW5nL1VQREFURV9BQ0NPVU5UX0lTX1BFUlNJU1RFTlRfREVMX1JFUV9TRU5UJywgewogICAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiBhY2NvdW50QWRkcmVzcywKICAgICAgICAgICAgICBpc1BlcnNpc3RlbnREZWxSZXFTZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNS4kc3RvcmUuZGlzcGF0Y2goJ2hhcnZlc3RpbmcvVVBEQVRFX0FDQ09VTlRfU0VMRUNURURfSEFSVkVTVElOR19OT0RFJywgewogICAgICAgICAgICAgIGFjY291bnRBZGRyZXNzOiBhY2NvdW50QWRkcmVzcywKICAgICAgICAgICAgICBzZWxlY3RlZEhhcnZlc3RpbmdOb2RlOiBfdGhpczUuZm9ybUl0ZW1zLm5vZGVNb2RlbAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImFubm91bmNlSGFzaEFuZEFnZ3JlZ2F0ZUJvbmRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYW5ub3VuY2VIYXNoQW5kQWdncmVnYXRlQm9uZGVkKHNlcnZpY2UsIHNpZ25lZFRyYW5zYWN0aW9ucykgewogICAgICByZXR1cm4gc2lnbmVkVHJhbnNhY3Rpb25zWzBdLnBpcGUoZmxhdE1hcChmdW5jdGlvbiAoc2lnbmVkSGFzaExvY2tUcmFuc2FjdGlvbikgewogICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnNbMV0ucGlwZShmbGF0TWFwKGZ1bmN0aW9uIChzaWduZWRBZ2dyZWdhdGVUcmFuc2FjdGlvbikgewogICAgICAgICAgcmV0dXJuIHNlcnZpY2UuYW5ub3VuY2VIYXNoQW5kQWdncmVnYXRlQm9uZGVkKHNpZ25lZEhhc2hMb2NrVHJhbnNhY3Rpb24sIHNpZ25lZEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uKTsKICAgICAgICB9KSk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbm5vdW5jZVNpbXBsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYW5ub3VuY2VTaW1wbGUoc2VydmljZSwgc2lnbmVkVHJhbnNhY3Rpb25zKSB7CiAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnMubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG8ucGlwZShmbGF0TWFwKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gc2VydmljZS5hbm5vdW5jZShzKTsKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbGN1bGF0ZVN1Z2dlc3RlZE1heEZlZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlU3VnZ2VzdGVkTWF4RmVlKHRyYW5zYWN0aW9uKSB7CiAgICAgIHZhciBmZWVNdWx0aXBsaWVyID0gdGhpcy5yZXNvbHZlRmVlTXVsdGlwbGVyKHRyYW5zYWN0aW9uKTsKCiAgICAgIGlmICghZmVlTXVsdGlwbGllcikgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjsKICAgICAgfQoKICAgICAgaWYgKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgQWdncmVnYXRlVHJhbnNhY3Rpb24pIHsKICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb24uc2V0TWF4RmVlRm9yQWdncmVnYXRlKGZlZU11bHRpcGxpZXIsIHRoaXMucmVxdWlyZWRDb3NpZ25hdHVyZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5zZXRNYXhGZWUoZmVlTXVsdGlwbGllcik7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNvbHZlRmVlTXVsdGlwbGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlRmVlTXVsdGlwbGVyKHRyYW5zYWN0aW9uKSB7CiAgICAgIGlmICh0cmFuc2FjdGlvbi5tYXhGZWUuY29tcGFjdCgpID09IDEpIHsKICAgICAgICB2YXIgZmVlcyA9IHRoaXMudHJhbnNhY3Rpb25GZWVzLmF2ZXJhZ2VGZWVNdWx0aXBsaWVyICogMS4yIDwgdGhpcy50cmFuc2FjdGlvbkZlZXMubWluRmVlTXVsdGlwbGllciA/IHRoaXMudHJhbnNhY3Rpb25GZWVzLm1pbkZlZU11bHRpcGxpZXIgOiB0aGlzLnRyYW5zYWN0aW9uRmVlcy5hdmVyYWdlRmVlTXVsdGlwbGllciAqIDEuMjsKICAgICAgICByZXR1cm4gZmVlcyB8fCB0aGlzLm5ldHdvcmtDb25maWd1cmF0aW9uLmRlZmF1bHREeW5hbWljRmVlTXVsdGlwbGllcjsKICAgICAgfQoKICAgICAgaWYgKHRyYW5zYWN0aW9uLm1heEZlZS5jb21wYWN0KCkgPT0gMikgewogICAgICAgIHZhciBfZmVlcyA9IHRoaXMudHJhbnNhY3Rpb25GZWVzLmhpZ2hlc3RGZWVNdWx0aXBsaWVyIDwgdGhpcy50cmFuc2FjdGlvbkZlZXMubWluRmVlTXVsdGlwbGllciA/IHRoaXMudHJhbnNhY3Rpb25GZWVzLm1pbkZlZU11bHRpcGxpZXIgOiB0aGlzLnRyYW5zYWN0aW9uRmVlcy5oaWdoZXN0RmVlTXVsdGlwbGllcjsKCiAgICAgICAgcmV0dXJuIF9mZWVzIHx8IHRoaXMubmV0d29ya0NvbmZpZ3VyYXRpb24uZGVmYXVsdER5bmFtaWNGZWVNdWx0aXBsaWVyOwogICAgICB9CgogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQogIH0sIHsKICAgIGtleTogInNhdmVTaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlU2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cyhhY2NvdW50QWRkcmVzcywgc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnaGFydmVzdGluZy9VUERBVEVfQUNDT1VOVF9TSUdORURfUEVSU0lTVEVOVF9ERUxfUkVRX1RYUycsIHsKICAgICAgICBhY2NvdW50QWRkcmVzczogYWNjb3VudEFkZHJlc3MsCiAgICAgICAgc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4czogc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cwogICAgICB9KTsKCiAgICAgIGlmICghc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cyB8fCBzaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHZhciBpc1BlcnNpc3RlbnREZWxSZXFTZW50ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2hhcnZlc3RpbmcvVVBEQVRFX0FDQ09VTlRfSVNfUEVSU0lTVEVOVF9ERUxfUkVRX1NFTlQnLCB7CiAgICAgICAgICBhY2NvdW50QWRkcmVzczogYWNjb3VudEFkZHJlc3MsCiAgICAgICAgICBpc1BlcnNpc3RlbnREZWxSZXFTZW50OiBpc1BlcnNpc3RlbnREZWxSZXFTZW50CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY3RpdmF0ZUhhcnZlc3RpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFjdGl2YXRlSGFydmVzdGluZygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBWdWUuc2V0KHRoaXMsICdhY3RpdmF0aW5nJywgdHJ1ZSk7CiAgICAgIHZhciBhY2NvdW50QWRkcmVzcyA9IHRoaXMuY3VycmVudFNpZ25lckhhcnZlc3RpbmdNb2RlbC5hY2NvdW50QWRkcmVzczsKICAgICAgdmFyIHRyYW5zYWN0aW9uQW5ub3VjZXIgPSBuZXcgVHJhbnNhY3Rpb25Bbm5vdW5jZXJTZXJ2aWNlKHRoaXMuJHN0b3JlKTsKICAgICAgdmFyIGFubm91bmNlUmVzdWx0OwoKICAgICAgaWYgKHRoaXMuaXNNdWx0aXNpZ01vZGUoKSkgewogICAgICAgIGFubm91bmNlUmVzdWx0ID0gdHJhbnNhY3Rpb25Bbm5vdWNlci5hbm5vdW5jZUhhc2hBbmRBZ2dyZWdhdGVCb25kZWQodGhpcy5zaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzWzBdLCB0aGlzLnNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHNbMV0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFubm91bmNlUmVzdWx0ID0gdHJhbnNhY3Rpb25Bbm5vdWNlci5hbm5vdW5jZSh0aGlzLnNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHNbMF0pOwogICAgICB9CgogICAgICBhbm5vdW5jZVJlc3VsdC5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgX3RoaXM2LiRzdG9yZS5kaXNwYXRjaCgnaGFydmVzdGluZy9VUERBVEVfQUNDT1VOVF9JU19QRVJTSVNURU5UX0RFTF9SRVFfU0VOVCcsIHsKICAgICAgICAgICAgYWNjb3VudEFkZHJlc3M6IGFjY291bnRBZGRyZXNzLAogICAgICAgICAgICBpc1BlcnNpc3RlbnREZWxSZXFTZW50OiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIFZ1ZS5zZXQoX3RoaXM2LCAnYWN0aXZhdGluZycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlQWNjb3VudEtleUxpbmtUeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQWNjb3VudEtleUxpbmtUeChwdWJsaWNLZXksIGxpbmtBY3Rpb24sIG1heEZlZSkgewogICAgICByZXR1cm4gQWNjb3VudEtleUxpbmtUcmFuc2FjdGlvbi5jcmVhdGUodGhpcy5jcmVhdGVEZWFkbGluZSgpLCBwdWJsaWNLZXksIGxpbmtBY3Rpb24sIHRoaXMubmV0d29ya1R5cGUsIG1heEZlZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlVnJmS2V5TGlua1R4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVWcmZLZXlMaW5rVHgocHVibGljS2V5LCBsaW5rQWN0aW9uLCBtYXhGZWUpIHsKICAgICAgcmV0dXJuIFZyZktleUxpbmtUcmFuc2FjdGlvbi5jcmVhdGUodGhpcy5jcmVhdGVEZWFkbGluZSgpLCBwdWJsaWNLZXksIGxpbmtBY3Rpb24sIHRoaXMubmV0d29ya1R5cGUsIG1heEZlZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlTm9kZUtleUxpbmtUeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTm9kZUtleUxpbmtUeChwdWJsaWNLZXksIGxpbmtBY3Rpb24sIG1heEZlZSkgewogICAgICByZXR1cm4gTm9kZUtleUxpbmtUcmFuc2FjdGlvbi5jcmVhdGUodGhpcy5jcmVhdGVEZWFkbGluZSgpLCBwdWJsaWNLZXksIGxpbmtBY3Rpb24sIHRoaXMubmV0d29ya1R5cGUsIG1heEZlZSk7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgYWxsIGtleXMgYXJlIGxpbmtlZAogICAgICovCgogIH0sIHsKICAgIGtleTogInNldFRyYW5zYWN0aW9ucyIsCgogICAgLyoqCiAgICAgKiBTZXR0ZXIgZm9yIFRSQU5TRkVSIHRyYW5zYWN0aW9ucyB0aGF0IHdpbGwgYmUgc3RhZ2VkCiAgICAgKiBAc2VlIHtGb3JtVHJhbnNhY3Rpb25CYXNlfQogICAgICogQHRocm93cyB7RXJyb3J9IElmIG5vdCBvdmVybG9hZGVkIGluIGRlcml2YXRlIGNvbXBvbmVudAogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhbnNhY3Rpb25zKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgdHJhbnNhY3Rpb24gY2FuIG5vdCBiZSBzdGFnZWQnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblN0YXJ0KCkgewogICAgICB0aGlzLmFjdGlvbiA9IEhhcnZlc3RpbmdBY3Rpb24uU1RBUlQ7CgogICAgICBpZiAodGhpcy5uZXR3b3JrQmFsYW5jZU1vc2FpY3MuYmFsYW5jZSAvIE1hdGgucG93KDEwLCB0aGlzLm5ldHdvcmtCYWxhbmNlTW9zYWljcy5kaXZpc2liaWxpdHkpIDwgMTAwMDApIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9FUlJPUicsIHRoaXMuJHQoJ2hhcnZlc3RpbmdfYWNjb3VudF9pbnN1ZmZpY2llbnRfYmFsYW5jZScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMub25TdWJtaXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RvcCgpIHsKICAgICAgdGhpcy5hY3Rpb24gPSBIYXJ2ZXN0aW5nQWN0aW9uLlNUT1A7CiAgICAgIHRoaXMub25TdWJtaXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN3YXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3dhcCgpIHsKICAgICAgdGhpcy5hY3Rpb24gPSBIYXJ2ZXN0aW5nQWN0aW9uLlNXQVA7CiAgICAgIHRoaXMub25TdWJtaXQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN1Ym1pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy5hbGxLZXlzTGlua2VkICYmICF0aGlzLmZvcm1JdGVtcy5ub2RlTW9kZWwubm9kZVB1YmxpY0tleS5sZW5ndGgpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9FUlJPUicsIHRoaXMuJHQoJ2ludmFsaWRfbm9kZScpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gLSBvcGVuIHNpZ25hdHVyZSBtb2RhbAoKCiAgICAgIHRoaXMub25TaG93Q29uZmlybWF0aW9uTW9kYWwoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhbGxLZXlzTGlua2VkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pc0FjY291bnRLZXlMaW5rZWQgJiYgdGhpcy5pc1ZyZktleUxpbmtlZCAmJiB0aGlzLmlzTm9kZUtleUxpbmtlZDsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciBhY2NvdW50IGtleSBpcyBsaW5rZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc0FjY291bnRLZXlMaW5rZWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfYTsKCiAgICAgIHJldHVybiAhISgoX2EgPSB0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50SW5mbykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1cHBsZW1lbnRhbFB1YmxpY0tleXMubGlua2VkKTsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB2cmYga2V5IGlzIGxpbmtlZAogICAgICovCgogIH0sIHsKICAgIGtleTogImlzVnJmS2V5TGlua2VkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX2E7CgogICAgICByZXR1cm4gISEoKF9hID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLnZyZik7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgbm9kZSBrZXkgaXMgbGlua2VkCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaXNOb2RlS2V5TGlua2VkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX2E7CgogICAgICByZXR1cm4gISEoKF9hID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLm5vZGUpOwogICAgfQogIH0sIHsKICAgIGtleTogInN3YXBEaXNhYmxlZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kOwoKICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLmZvcm1JdGVtcy5ub2RlTW9kZWwubm9kZVB1YmxpY0tleSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpID09PSAoKF9kID0gKF9jID0gKF9iID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8uc3VwcGxlbWVudGFsUHVibGljS2V5cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5vZGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wdWJsaWNLZXkpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50b0xvd2VyQ2FzZSgpKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXJyZW50U2lnbmVyQWNjb3VudCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIFB1YmxpY0FjY291bnQuY3JlYXRlRnJvbVB1YmxpY0tleSh0aGlzLmN1cnJlbnRTaWduZXJQdWJsaWNLZXksIHRoaXMubmV0d29ya1R5cGUpOwogICAgfQogIH0sIHsKICAgIGtleTogInNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfYSwgX2I7CgogICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jdXJyZW50U2lnbmVySGFydmVzdGluZ01vZGVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm1hcChmdW5jdGlvbiAoc3QpIHsKICAgICAgICByZXR1cm4gbmV3IFNpZ25lZFRyYW5zYWN0aW9uKHN0LnBheWxvYWQsIHN0Lmhhc2gsIHN0LnNpZ25lclB1YmxpY0tleSwgc3QudHlwZSwgc3QubmV0d29ya1R5cGUpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1BlcnNpc3RlbnREZWxSZXFTZW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX2E7CgogICAgICByZXR1cm4gKF9hID0gdGhpcy5jdXJyZW50U2lnbmVySGFydmVzdGluZ01vZGVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNQZXJzaXN0ZW50RGVsUmVxU2VudDsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UczsKfShGb3JtVHJhbnNhY3Rpb25CYXNlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogIGRlZmF1bHQ6IG51bGwKfSldLCBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25Ucy5wcm90b3R5cGUsICJzaWduZXJBZGRyZXNzIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdjdXJyZW50U2lnbmVyQWNjb3VudEluZm8nLCB7CiAgaW1tZWRpYXRlOiB0cnVlCn0pXSwgRm9ybVBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uVHMucHJvdG90eXBlLCAiY3VycmVudFNpZ25lcldhdGNoIiwgbnVsbCk7CgpGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgRm9ybVdyYXBwZXI6IEZvcm1XcmFwcGVyLAogICAgTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbjogTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbiwKICAgIFNpZ25lclNlbGVjdG9yOiBTaWduZXJTZWxlY3RvciwKICAgIFZhbGlkYXRpb25PYnNlcnZlcjogVmFsaWRhdGlvbk9ic2VydmVyLAogICAgTWF4RmVlQW5kU3VibWl0OiBNYXhGZWVBbmRTdWJtaXQsCiAgICBGb3JtUm93OiBGb3JtUm93LAogICAgTmV0d29ya05vZGVTZWxlY3RvcjogTmV0d29ya05vZGVTZWxlY3RvciwKICAgIEVycm9yVG9vbHRpcDogRXJyb3JUb29sdGlwLAogICAgVmFsaWRhdGlvblByb3ZpZGVyOiBWYWxpZGF0aW9uUHJvdmlkZXIKICB9LAogIGNvbXB1dGVkOiBPYmplY3QuYXNzaWduKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGN1cnJlbnRIZWlnaHQ6ICduZXR3b3JrL2N1cnJlbnRIZWlnaHQnLAogICAgY3VycmVudFNpZ25lckFjY291bnRJbmZvOiAnYWNjb3VudC9jdXJyZW50U2lnbmVyQWNjb3VudEluZm8nLAogICAgaGFydmVzdGluZ1N0YXR1czogJ2hhcnZlc3Rpbmcvc3RhdHVzJywKICAgIGN1cnJlbnRTaWduZXJIYXJ2ZXN0aW5nTW9kZWw6ICdoYXJ2ZXN0aW5nL2N1cnJlbnRTaWduZXJIYXJ2ZXN0aW5nTW9kZWwnLAogICAgbmV0d29ya0JhbGFuY2VNb3NhaWNzOiAnbW9zYWljL25ldHdvcmtCYWxhbmNlTW9zYWljcycKICB9KSkKfSldLCBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25Ucyk7CmV4cG9ydCB7IEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzIH07"},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;AAcG;;AACH,SACI,MADJ,EAEI,yBAFJ,EAGI,UAHJ,EAKI,qBALJ,EAMI,OANJ,EAOI,sBAPJ,EAQI,sCARJ,EAUI,oBAVJ,EAWI,aAXJ,EAYI,QAZJ,EAaI,oBAbJ,EAcI,MAdJ,EAeI,iBAfJ,QAgBO,YAhBP;AAiBA,SAAS,SAAT,EAAoB,IAApB,EAA0B,KAA1B,QAAuC,wBAAvC;AACA,SAAS,UAAT,QAA2B,MAA3B;AACA,OAAO,GAAP,MAAgB,KAAhB,C,CAEA;;AACA,SAAS,UAAT,QAA2B,yBAA3B;AACA,SAAS,mBAAT,QAAoC,uDAApC,C,CAEA;;AACA,SAAS,kBAAT,QAAmC,cAAnC,C,CACA;;AACA,OAAO,WAAP,MAAwB,0CAAxB,C,CACA;;AACA,OAAO,4BAAP,MAAyC,8EAAzC,C,CACA;;AACA,OAAO,cAAP,MAA2B,gDAA3B,C,CACA;;AACA,OAAO,eAAP,MAA4B,kDAA5B,C,CACA;;AACA,OAAO,mBAAP,MAAgC,0DAAhC,C,CACA;;AACA,OAAO,OAAP,MAAoB,kCAApB,C,CACA;;AACA,OAAO,YAAP,MAAyB,4CAAzB;AACA,SAAS,kBAAT,QAAmC,cAAnC;AAEA,SAAS,UAAT,QAA2B,UAA3B;AAEA,SAAS,wBAAT,EAAmC,2BAAnC,QAAyF,wCAAzF;AACA,SAAqB,EAArB,QAA+B,MAA/B;AACA,SAAS,SAAT,EAAoB,OAApB,EAA6B,GAA7B,EAAkC,QAAlC,EAA4C,SAA5C,EAAuD,GAAvD,EAA4D,OAA5D,QAA2E,gBAA3E;AAMA,OAAA,IAAY,gBAAZ;;AAAA,CAAA,UAAY,gBAAZ,EAA4B;AACxB,EAAA,gBAAA,CAAA,gBAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA,GAAA,OAAA;AACA,EAAA,gBAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAA;AACA,EAAA,gBAAA,CAAA,gBAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAA;AACA,EAAA,gBAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAA;AACH,CALD,EAAY,gBAAgB,KAAhB,gBAAgB,GAAA,EAAA,CAA5B;;AA6BA,IAAa,4CAAb;AAAA;;AAAA;;AAAA,0DAAA;AAAA;;AAAA;;0CAAA,CAEI;;AAEA;;AAEG;;AACI,UAAA,UAAA,GAAa,UAAb;AAEP;;AAEG;;AACI,UAAA,SAAA,GAAY;AACf,MAAA,SAAS,EAAE;AAAE,QAAA,aAAa,EAAE;AAAjB,OADI;AAEf,MAAA,aAAa,EAAE;AAFA,KAAZ;AAeC,UAAA,MAAA,GAAS,gBAAgB,CAAC,KAA1B;AAMA,UAAA,UAAA,GAAa,KAAb;AAjCZ;AA6ZC;AAnXG;;;AAGG;;;AA7CP;AAAA;AAAA,gCA8CuB;AACf;AACA,WAAK,MAAL,GAAc,gBAAgB,CAAC,KAA/B,CAFe,CAGf;;AACA,WAAK,gBAAL,GAAwB,OAAO,CAAC,kBAAR,CAA2B,KAAK,WAAhC,CAAxB;AACA,WAAK,gBAAL,GAAwB,OAAO,CAAC,kBAAR,CAA2B,KAAK,WAAhC,CAAxB;AACA,WAAK,qBAAL,GAA6B,IAAI,wBAAJ,CAA6B,OAAO,CAAC,kBAAR,CAA2B,KAAK,WAAhC,CAA7B,CAA7B;AACH;AArDL;AAAA;AAAA,yCAwD8B;;;AACtB,WAAK,SAAL,CAAe,aAAf,GAA+B,KAAK,aAAL,KAAkB,CAAA,EAAA,GAAI,KAAK,wBAAT,MAAiC,IAAjC,IAAiC,EAAA,KAAA,KAAA,CAAjC,GAAiC,KAAA,CAAjC,GAAiC,EAAA,CAAE,OAAF,CAAU,KAAV,EAAnD,CAA/B;;AAEA,UAAI,KAAK,eAAT,EAA0B;AACtB,aAAK,SAAL,CAAe,SAAf,CAAyB,aAAzB,GAAsC,CAAA,EAAA,GAAG,KAAK,wBAAR,MAAgC,IAAhC,IAAgC,EAAA,KAAA,KAAA,CAAhC,GAAgC,KAAA,CAAhC,GAAgC,EAAA,CAAE,sBAAF,CAAyB,IAAzB,CAA8B,SAApG;;AACA,YAAA,CAAA,EAAA,GAAI,KAAK,4BAAT,MAAqC,IAArC,IAAqC,EAAA,KAAA,KAAA,CAArC,GAAqC,KAAA,CAArC,GAAqC,EAAA,CAAE,sBAAvC,EAA+D;AAC3D,eAAK,SAAL,CAAe,SAAf,GAA2B,KAAK,4BAAL,CAAkC,sBAA7D;AACH,SAFD,MAEO;AACH,eAAK,SAAL,CAAe,SAAf,GAA2B;AAAE,YAAA,aAAa,EAAE;AAAjB,WAA3B;AACH;AACJ,OAPD,MAOO;AACH,aAAK,SAAL,CAAe,SAAf,GAA2B;AAAE,UAAA,aAAa,EAAE;AAAjB,SAA3B;AACH;AACJ;AAED;;AAEG;;AAzEP;AAAA;AAAA,6CA0EmF;AAAA;;AAAA,UAA9C,iBAA8C,uEAA1B,KAAK,qBAAqB;AAC3E,UAAM,MAAM,GAAG,MAAM,CAAC,QAAP,CAAgB,UAAU,CAAC,OAA3B,CAAf,CAD2E,CACvB;;AACpD,UAAM,GAAG,GAAkB,EAA3B;AAEA;;;;;AAKG;;AAEH,UAAI,KAAK,kBAAT,EAA6B;AACzB,YAAM,kBAAkB,GAAG,KAAK,sBAAL,CACvB,KAAK,wBAAL,CAA8B,sBAA9B,CAAqD,MAArD,CAA4D,SADrC,EAEvB,UAAU,CAAC,MAFY,EAGvB,MAHuB,CAA3B;AAKA,QAAA,GAAG,CAAC,IAAJ,CAAS,kBAAT;AACH;;AAED,UAAI,KAAK,cAAT,EAAyB;AACrB,YAAM,cAAc,GAAG,KAAK,kBAAL,CACnB,KAAK,wBAAL,CAA8B,sBAA9B,CAAqD,GAArD,CAAyD,SADtC,EAEnB,UAAU,CAAC,MAFQ,EAGnB,MAHmB,CAAvB;AAKA,QAAA,GAAG,CAAC,IAAJ,CAAS,cAAT;AACH;;AAED,UAAI,KAAK,eAAT,EAA0B;AACtB,YAAM,YAAY,GAAG,KAAK,mBAAL,CACjB,KAAK,wBAAL,CAA8B,sBAA9B,CAAqD,IAArD,CAA0D,SADzC,EAEjB,UAAU,CAAC,MAFM,EAGjB,MAHiB,CAArB;AAMA,QAAA,GAAG,CAAC,IAAJ,CAAS,YAAT;AACH;;AAED,UAAI,KAAK,MAAL,KAAgB,gBAAgB,CAAC,IAArC,EAA2C;AACvC,YAAM,gBAAgB,GAAG,KAAK,sBAAL,CAA4B,KAAK,gBAAL,CAAsB,SAAlD,EAA6D,UAAU,CAAC,IAAxE,EAA8E,MAA9E,CAAzB;AACA,YAAM,YAAY,GAAG,KAAK,kBAAL,CAAwB,KAAK,gBAAL,CAAsB,SAA9C,EAAyD,UAAU,CAAC,IAApE,EAA0E,MAA1E,CAArB;AACA,YAAM,UAAU,GAAG,KAAK,mBAAL,CAAyB,KAAK,SAAL,CAAe,SAAf,CAAyB,aAAlD,EAAiE,UAAU,CAAC,IAA5E,EAAkF,MAAlF,CAAnB;AACA,QAAA,GAAG,CAAC,IAAJ,CAAS,gBAAT,EAA2B,YAA3B,EAAyC,UAAzC;AACH;;AAED,UAAI,GAAG,CAAC,MAAJ,GAAa,CAAjB,EAAoB;AAChB,YAAI,KAAK,cAAL,EAAJ,EAA2B;AACvB,iBAAO,KAAK,mBAAL,CAAyB,GAAzB,EAA8B,MAA9B,EAAsC,iBAAtC,CAAP;AACH,SAFD,MAEO;AACH,cAAM,SAAS,GAAG,KAAK,wBAAL,CACd,oBAAoB,CAAC,cAArB,CACI,QAAQ,CAAC,MAAT,CAAgB,KAAK,eAArB,CADJ,EAEI,GAAG,CAAC,GAAJ,CAAQ,UAAC,CAAD;AAAA,mBAAO,CAAC,CAAC,WAAF,CAAc,MAAI,CAAC,oBAAnB,CAAP;AAAA,WAAR,CAFJ,EAGI,KAAK,WAHT,EAII,EAJJ,EAKI,MALJ,CADc,CAAlB;AASA,iBAAO,EAAE,CAAC,CAAC,SAAD,CAAD,CAAT;AACH;AACJ;;AACD,aAAO,EAAE,CAAC,EAAD,CAAT;AACH;AAzIL;AAAA;AAAA,wCA2I+B,GA3I/B,EA2ImD,MA3InD,EA2I2D,iBA3I3D,EA2I+F;AAAA;;AACvF,UAAM,SAAS,GAAG,KAAK,wBAAL,CACd,oBAAoB,CAAC,YAArB,CACI,QAAQ,CAAC,MAAT,CAAgB,KAAK,eAArB,CADJ,EAEI,GAAG,CAAC,GAAJ,CAAQ,UAAC,CAAD;AAAA,eAAO,CAAC,CAAC,WAAF,CAAc,MAAI,CAAC,oBAAnB,CAAP;AAAA,OAAR,CAFJ,EAGI,KAAK,WAHT,EAII,EAJJ,EAKI,MALJ,CADc,CAAlB;AASA,aAAO,iBAAiB,CAAC,eAAlB,CAAkC,SAAlC,EAA6C,KAAK,cAAlD,EAAkE,IAAlE,CACH,GAAG,CAAC,UAAC,0BAAD,EAA+B;AAC/B,YAAM,QAAQ,GAAG,MAAI,CAAC,wBAAL,CACb,oBAAoB,CAAC,MAArB,CACI,QAAQ,CAAC,MAAT,CAAgB,MAAI,CAAC,eAArB,CADJ,EAEI,IAAI,MAAJ,CAAW,MAAI,CAAC,aAAhB,EAA+B,MAAM,CAAC,iBAAP,CAAyB,MAAI,CAAC,oBAAL,CAA0B,uBAAnD,CAA/B,CAFJ,EAGI,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAHJ,EAII,0BAJJ,EAKI,MAAI,CAAC,WALT,EAMI,MANJ,CADa,CAAjB;;AAUA,eAAO,CAAC,QAAD,EAAW,SAAX,CAAP;AACH,OAZE,CADA,CAAP;AAeH;AApKL;AAAA;AAAA,gEAuKyE;AAAA,UAAjE,iBAAiE,uEAA1B,KAAK,qBAAqB;AAEjE,UAAM,MAAM,GAAG,MAAM,CAAC,QAAP,CAAgB,UAAU,CAAC,OAA3B,CAAf;;AACA,UAAI,KAAK,MAAL,KAAgB,gBAAgB,CAAC,IAArC,EAA2C;AACvC,YAAM,yBAAyB,GAAG,sCAAsC,CAAC,4CAAvC,CAC9B,QAAQ,CAAC,MAAT,CAAgB,KAAK,eAArB,EAAsC,KAAK,cAAL,KAAwB,EAAxB,GAA6B,CAAnE,CAD8B,EAE9B,KAAK,gBAAL,CAAsB,UAFQ,EAG9B,KAAK,gBAAL,CAAsB,UAHQ,EAI9B,KAAK,SAAL,CAAe,SAAf,CAAyB,aAJK,EAK9B,KAAK,WALyB,EAM9B,MAN8B,CAAlC;AASA,eAAO,KAAK,cAAL,KACD,KAAK,mBAAL,CAAyB,CAAC,yBAAD,CAAzB,EAAsD,MAAtD,EAA8D,iBAA9D,CADC,GAED,EAAE,CAAC,CAAC,KAAK,wBAAL,CAA8B,yBAA9B,CAAD,CAAD,CAFR;AAGH;;AACD,aAAO,EAAE,CAAC,EAAD,CAAT;AACH;AAzLL;AAAA;AAAA,0CA2L8B;AAAA;;AACtB,aAAO,KAAK,sBAAL,GAA8B,IAA9B,CACH,SAAS,CAAC,UAAC,GAAD;AAAA,eAAS,MAAI,CAAC,yCAAL,GAAiD,IAAjD,CAAsD,GAAG,CAAC,UAAC,IAAD;AAAA,8CAAc,GAAd,sBAAsB,IAAtB;AAAA,SAAD,CAAzD,CAAT;AAAA,OAAD,CADN,CAAP;AAGH;AA/LL;AAAA;AAAA,6BAiMoB,OAjMpB,EAiM0D,iBAjM1D,EAiM8F;AAAA;;AACtF;AACA,UAAM,cAAc,GAAG,KAAK,4BAAL,CAAkC,cAAzD;AACA,UAAM,yBAAyB,GAAG,KAAK,yCAAL,CAA+C,iBAA/C,EAAkE,IAAlE,CAC9B,SAAS,CAAC,UAAC,GAAD;AAAA,eAAS,GAAG,CAAC,GAAJ,CAAQ,UAAC,CAAD;AAAA,iBAAO,iBAAiB,CAAC,eAAlB,CAAkC,CAAlC,EAAqC,MAAI,CAAC,cAA1C,CAAP;AAAA,SAAR,CAAT;AAAA,OAAD,CADqB,EAE9B,QAAQ,EAFsB,EAG9B,OAAO,EAHuB,CAAlC;AAMA,aAAO,KAAK,sBAAL,CAA4B,iBAA5B,EAA+C,IAA/C,CACH,OAAO,CAAC,UAAC,YAAD,EAAiB;AACrB,YAAM,kBAAkB,GAAG,YAAY,CAAC,GAAb,CAAiB,UAAC,CAAD;AAAA,iBAAO,iBAAiB,CAAC,eAAlB,CAAkC,CAAlC,EAAqC,MAAI,CAAC,cAA1C,CAAP;AAAA,SAAjB,CAA3B;;AACA,YAAI,CAAC,kBAAkB,CAAC,MAAxB,EAAgC;AAC5B,iBAAO,EAAE,CAAC,EAAD,CAAT;AACH;;AACD,YAAI,MAAI,CAAC,cAAL,EAAJ,EAA2B;AACvB,iBAAO,EAAE,CAAC,CAAC,MAAI,CAAC,8BAAL,CAAoC,OAApC,EAA6C,kBAA7C,CAAD,CAAD,CAAT;AACH,SAFD,MAEO;AACH,iBAAO,EAAE,CAAC,MAAI,CAAC,cAAL,CAAoB,OAApB,EAA6B,kBAA7B,CAAD,CAAT;AACH;AACJ,OAVM,CADJ,EAYH,GAAG,CAAC,UAAC,MAAD;AAAA,eACA,MAAM,CAAC,CAAD,CAAN,CAAU,SAAV,CAAoB,UAAC,GAAD,EAAQ;AACxB,cAAI,GAAG,CAAC,OAAR,EAAiB;AACb,YAAA,yBAAyB,CAAC,SAA1B,CAAoC,UAAC,QAAD;AAAA,qBAAc,MAAI,CAAC,6BAAL,CAAmC,cAAnC,EAAmD,QAAnD,CAAd;AAAA,aAApC;;AACA,YAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,sDAArB,EAA6E;AACzE,cAAA,cAAc,EAAd,cADyE;AAEzE,cAAA,sBAAsB,EAAE;AAFiD,aAA7E;;AAKA,YAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,oDAArB,EAA2E;AACvE,cAAA,cAAc,EAAd,cADuE;AAEvE,cAAA,sBAAsB,EAAE,MAAI,CAAC,SAAL,CAAe;AAFgC,aAA3E;AAIH;AACJ,SAbD,CADA;AAAA,OAAD,CAZA,CAAP;AA6BH;AAvOL;AAAA;AAAA,mDA0OQ,OA1OR,EA2OQ,kBA3OR,EA2O2D;AAEnD,aAAO,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,IAAtB,CACH,OAAO,CAAC,UAAC,yBAAD,EAA8B;AAClC,eAAO,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,IAAtB,CACH,OAAO,CAAC,UAAC,0BAAD,EAA+B;AACnC,iBAAO,OAAO,CAAC,8BAAR,CAAuC,yBAAvC,EAAkE,0BAAlE,CAAP;AACH,SAFM,CADJ,CAAP;AAKH,OANM,CADJ,CAAP;AASH;AAtPL;AAAA;AAAA,mCAyPQ,OAzPR,EA0PQ,kBA1PR,EA0P2D;AAEnD,aAAO,kBAAkB,CAAC,GAAnB,CAAuB,UAAC,CAAD;AAAA,eAAO,CAAC,CAAC,IAAF,CAAO,OAAO,CAAC,UAAC,CAAD;AAAA,iBAAO,OAAO,CAAC,QAAR,CAAiB,CAAjB,CAAP;AAAA,SAAD,CAAd,CAAP;AAAA,OAAvB,CAAP;AACH;AA7PL;AAAA;AAAA,6CA+PqC,WA/PrC,EA+P6D;AACrD,UAAM,aAAa,GAAG,KAAK,mBAAL,CAAyB,WAAzB,CAAtB;;AACA,UAAI,CAAC,aAAL,EAAoB;AAChB,eAAO,WAAP;AACH;;AACD,UAAI,WAAW,YAAY,oBAA3B,EAAiD;AAC7C,eAAO,WAAW,CAAC,qBAAZ,CAAkC,aAAlC,EAAiD,KAAK,oBAAtD,CAAP;AACH,OAFD,MAEO;AACH,eAAO,WAAW,CAAC,SAAZ,CAAsB,aAAtB,CAAP;AACH;AACJ;AAzQL;AAAA;AAAA,wCA2QgC,WA3QhC,EA2QwD;AAChD,UAAI,WAAW,CAAC,MAAZ,CAAmB,OAAnB,MAAgC,CAApC,EAAuC;AACnC,YAAM,IAAI,GACN,KAAK,eAAL,CAAqB,oBAArB,GAA4C,GAA5C,GAAkD,KAAK,eAAL,CAAqB,gBAAvE,GACM,KAAK,eAAL,CAAqB,gBAD3B,GAEM,KAAK,eAAL,CAAqB,oBAArB,GAA4C,GAHtD;AAIA,eAAO,IAAI,IAAI,KAAK,oBAAL,CAA0B,2BAAzC;AACH;;AACD,UAAI,WAAW,CAAC,MAAZ,CAAmB,OAAnB,MAAgC,CAApC,EAAuC;AACnC,YAAM,KAAI,GACN,KAAK,eAAL,CAAqB,oBAArB,GAA4C,KAAK,eAAL,CAAqB,gBAAjE,GACM,KAAK,eAAL,CAAqB,gBAD3B,GAEM,KAAK,eAAL,CAAqB,oBAH/B;;AAIA,eAAO,KAAI,IAAI,KAAK,oBAAL,CAA0B,2BAAzC;AACH;;AACD,aAAO,SAAP;AACH;AA3RL;AAAA;AAAA,kDA4R0C,cA5R1C,EA4RkE,yBA5RlE,EA4RgH;AACxG,WAAK,MAAL,CAAY,QAAZ,CAAqB,yDAArB,EAAgF;AAAE,QAAA,cAAc,EAAd,cAAF;AAAkB,QAAA,yBAAyB,EAAzB;AAAlB,OAAhF;;AACA,UAAI,CAAC,yBAAD,IAA8B,yBAAyB,CAAC,MAA1B,KAAqC,CAAvE,EAA0E;AACtE,YAAM,sBAAsB,GAAG,KAA/B;AACA,aAAK,MAAL,CAAY,QAAZ,CAAqB,sDAArB,EAA6E;AAAE,UAAA,cAAc,EAAd,cAAF;AAAkB,UAAA,sBAAsB,EAAtB;AAAlB,SAA7E;AACH;AACJ;AAlSL;AAAA;AAAA,yCAoSgC;AAAA;;AACxB,MAAA,GAAG,CAAC,GAAJ,CAAQ,IAAR,EAAc,YAAd,EAA4B,IAA5B;AACA,UAAM,cAAc,GAAG,KAAK,4BAAL,CAAkC,cAAzD;AACA,UAAM,mBAAmB,GAAG,IAAI,2BAAJ,CAAgC,KAAK,MAArC,CAA5B;AACA,UAAI,cAAJ;;AAEA,UAAI,KAAK,cAAL,EAAJ,EAA2B;AACvB,QAAA,cAAc,GAAG,mBAAmB,CAAC,8BAApB,CACb,KAAK,yBAAL,CAA+B,CAA/B,CADa,EAEb,KAAK,yBAAL,CAA+B,CAA/B,CAFa,CAAjB;AAIH,OALD,MAKO;AACH,QAAA,cAAc,GAAG,mBAAmB,CAAC,QAApB,CAA6B,KAAK,yBAAL,CAA+B,CAA/B,CAA7B,CAAjB;AACH;;AACD,MAAA,cAAc,CAAC,SAAf,CAAyB,UAAC,GAAD,EAAQ;AAC7B,YAAI,GAAG,CAAC,OAAR,EAAiB;AACb,UAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,sDAArB,EAA6E;AACzE,YAAA,cAAc,EAAd,cADyE;AAEzE,YAAA,sBAAsB,EAAE;AAFiD,WAA7E;AAIH;;AACD,QAAA,GAAG,CAAC,GAAJ,CAAQ,MAAR,EAAc,YAAd,EAA4B,KAA5B;AACH,OARD;AASH;AA3TL;AAAA;AAAA,2CA6TmC,SA7TnC,EA6TsD,UA7TtD,EA6T8E,MA7T9E,EA6T4F;AACpF,aAAO,yBAAyB,CAAC,MAA1B,CAAiC,KAAK,cAAL,EAAjC,EAAwD,SAAxD,EAAmE,UAAnE,EAA+E,KAAK,WAApF,EAAiG,MAAjG,CAAP;AACH;AA/TL;AAAA;AAAA,uCAgU+B,SAhU/B,EAgUkD,UAhUlD,EAgU0E,MAhU1E,EAgUwF;AAChF,aAAO,qBAAqB,CAAC,MAAtB,CAA6B,KAAK,cAAL,EAA7B,EAAoD,SAApD,EAA+D,UAA/D,EAA2E,KAAK,WAAhF,EAA6F,MAA7F,CAAP;AACH;AAlUL;AAAA;AAAA,wCAmUgC,SAnUhC,EAmUmD,UAnUnD,EAmU2E,MAnU3E,EAmUyF;AACjF,aAAO,sBAAsB,CAAC,MAAvB,CAA8B,KAAK,cAAL,EAA9B,EAAqD,SAArD,EAAgE,UAAhE,EAA4E,KAAK,WAAjF,EAA8F,MAA9F,CAAP;AACH;AAED;;AAEG;;AAzUP;AAAA;;AAmWI;;;;AAIG;AAvWP,sCAwW6B;AACrB,YAAM,IAAI,KAAJ,CAAU,oCAAV,CAAN;AACH;AA1WL;AAAA;AAAA,8BA4WkB;AACV,WAAK,MAAL,GAAc,gBAAgB,CAAC,KAA/B;;AACA,UAAI,KAAK,qBAAL,CAA2B,OAA3B,GAAqC,IAAI,CAAC,GAAL,CAAS,EAAT,EAAa,KAAK,qBAAL,CAA2B,YAAxC,CAArC,GAA6F,KAAjG,EAAwG;AACpG,aAAK,MAAL,CAAY,QAAZ,CAAqB,wBAArB,EAA+C,KAAK,EAAL,CAAQ,yCAAR,CAA/C;AACA;AACH;;AACD,WAAK,QAAL;AACH;AAnXL;AAAA;AAAA,6BAqXiB;AACT,WAAK,MAAL,GAAc,gBAAgB,CAAC,IAA/B;AACA,WAAK,QAAL;AACH;AAxXL;AAAA;AAAA,6BA0XiB;AACT,WAAK,MAAL,GAAc,gBAAgB,CAAC,IAA/B;AACA,WAAK,QAAL;AACH;AA7XL;AAAA;AAAA,+BAsYmB;AACX,UAAI,CAAC,KAAK,aAAN,IAAuB,CAAC,KAAK,SAAL,CAAe,SAAf,CAAyB,aAAzB,CAAuC,MAAnE,EAA2E;AACvE,aAAK,MAAL,CAAY,QAAZ,CAAqB,wBAArB,EAA+C,KAAK,EAAL,CAAQ,cAAR,CAA/C;AACA;AACH,OAJU,CAMX;;;AACA,WAAK,uBAAL;AACH;AA9YL;AAAA;AAAA,wBA0U6B;AACrB,aAAO,KAAK,kBAAL,IAA2B,KAAK,cAAhC,IAAkD,KAAK,eAA9D;AACH;AAED;;AAEG;;AAhVP;AAAA;AAAA,wBAiVkC;;;AAC1B,aAAO,CAAC,EAAA,CAAA,EAAA,GAAC,KAAK,wBAAN,MAA8B,IAA9B,IAA8B,EAAA,KAAA,KAAA,CAA9B,GAA8B,KAAA,CAA9B,GAA8B,EAAA,CAAE,sBAAF,CAAyB,MAAvD,CAAR;AACH;AAED;;AAEG;;AAvVP;AAAA;AAAA,wBAwV8B;;;AACtB,aAAO,CAAC,EAAA,CAAA,EAAA,GAAC,KAAK,wBAAN,MAA8B,IAA9B,IAA8B,EAAA,KAAA,KAAA,CAA9B,GAA8B,KAAA,CAA9B,GAA8B,EAAA,CAAE,sBAAF,CAAyB,GAAvD,CAAR;AACH;AAED;;AAEG;;AA9VP;AAAA;AAAA,wBA+V+B;;;AACvB,aAAO,CAAC,EAAA,CAAA,EAAA,GAAC,KAAK,wBAAN,MAA8B,IAA9B,IAA8B,EAAA,KAAA,KAAA,CAA9B,GAA8B,KAAA,CAA9B,GAA8B,EAAA,CAAE,sBAAF,CAAyB,IAAvD,CAAR;AACH;AAjWL;AAAA;AAAA,wBA+X2B;;;AACnB,aACI,CAAA,CAAA,EAAA,GAAA,KAAK,SAAL,CAAe,SAAf,CAAyB,aAAzB,MAAsC,IAAtC,IAAsC,EAAA,KAAA,KAAA,CAAtC,GAAsC,KAAA,CAAtC,GAAsC,EAAA,CAAE,WAAF,EAAtC,OAAmD,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GACnD,KAAK,wBAAL,CAA8B,sBADqB,MACC,IADD,IACC,EAAA,KAAA,KAAA,CADD,GACC,KAAA,CADD,GACC,EAAA,CAAE,IADH,MACO,IADP,IACO,EAAA,KAAA,KAAA,CADP,GACO,KAAA,CADP,GACO,EAAA,CAAE,SADT,MACkB,IADlB,IACkB,EAAA,KAAA,KAAA,CADlB,GACkB,KAAA,CADlB,GACkB,EAAA,CAAE,WAAF,EADrE,CADJ;AAIH;AApYL;AAAA;AAAA,wBAgZmC;AAC3B,aAAO,aAAa,CAAC,mBAAd,CAAkC,KAAK,sBAAvC,EAA+D,KAAK,WAApE,CAAP;AACH;AAlZL;AAAA;AAAA,wBAoZyC;;;AACjC,aAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAO,KAAK,4BAAZ,MAAwC,IAAxC,IAAwC,EAAA,KAAA,KAAA,CAAxC,GAAwC,KAAA,CAAxC,GAAwC,EAAA,CAAE,yBAA1C,MAAmE,IAAnE,IAAmE,EAAA,KAAA,KAAA,CAAnE,GAAmE,KAAA,CAAnE,GAAmE,EAAA,CAAE,GAAF,CAC/D,UAAC,EAAD;AAAA,eAAQ,IAAI,iBAAJ,CAAsB,EAAE,CAAC,OAAzB,EAAkC,EAAE,CAAC,IAArC,EAA2C,EAAE,CAAC,eAA9C,EAA+D,EAAE,CAAC,IAAlE,EAAwE,EAAE,CAAC,WAA3E,CAAR;AAAA,OAD+D,CAAnE;AAGH;AAxZL;AAAA;AAAA,wBA0ZsC;;;AAC9B,aAAA,CAAA,EAAA,GAAO,KAAK,4BAAZ,MAAwC,IAAxC,IAAwC,EAAA,KAAA,KAAA,CAAxC,GAAwC,KAAA,CAAxC,GAAwC,EAAA,CAAE,sBAA1C;AACH;AA5ZL;;AAAA;AAAA,EAAkE,mBAAlE,CAAA;;AAC6B,UAAA,CAAA,CAAxB,IAAI,CAAC;AAAE,EAAA,OAAO,EAAE;AAAX,CAAD,CAAoB,CAAA,E,sDAAA,E,eAAA,E,KAAsB,CAAtB,CAAA;;AAuDzB,UAAA,CAAA,CADC,KAAK,CAAC,0BAAD,EAA6B;AAAE,EAAA,SAAS,EAAE;AAAb,CAA7B,CACN,CAAA,E,sDAAA,E,oBAAA,EAaC,IAbD,CAAA;;AAxDS,4CAA4C,GAAA,UAAA,CAAA,CAtBxD,SAAS,CAAC;AACP,EAAA,UAAU,EAAE;AACR,IAAA,WAAW,EAAX,WADQ;AAER,IAAA,4BAA4B,EAA5B,4BAFQ;AAGR,IAAA,cAAc,EAAd,cAHQ;AAIR,IAAA,kBAAkB,EAAlB,kBAJQ;AAKR,IAAA,eAAe,EAAf,eALQ;AAMR,IAAA,OAAO,EAAP,OANQ;AAOR,IAAA,mBAAmB,EAAnB,mBAPQ;AAQR,IAAA,YAAY,EAAZ,YARQ;AASR,IAAA,kBAAkB,EAAlB;AATQ,GADL;AAYP,EAAA,QAAQ,EAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACD,UAAU,CAAC;AACV,IAAA,aAAa,EAAE,uBADL;AAEV,IAAA,wBAAwB,EAAE,kCAFhB;AAGV,IAAA,gBAAgB,EAAE,mBAHR;AAIV,IAAA,4BAA4B,EAAE,yCAJpB;AAKV,IAAA,qBAAqB,EAAE;AALb,GAAD,CADT;AAZD,CAAD,CAsB+C,CAAA,EAA5C,4CAA4C,CAA5C;SAAA,4C","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport {\n    UInt64,\n    AccountKeyLinkTransaction,\n    LinkAction,\n    Transaction,\n    VrfKeyLinkTransaction,\n    Account,\n    NodeKeyLinkTransaction,\n    PersistentDelegationRequestTransaction,\n    AccountInfo,\n    AggregateTransaction,\n    PublicAccount,\n    Deadline,\n    LockFundsTransaction,\n    Mosaic,\n    SignedTransaction,\n} from 'symbol-sdk';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport Vue from 'vue';\n\n// internal dependencies\nimport { Formatters } from '@/core/utils/Formatters';\nimport { FormTransactionBase } from '@/views/forms/FormTransactionBase/FormTransactionBase';\n\n// child components\nimport { ValidationObserver } from 'vee-validate';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport ModalTransactionConfirmation from '@/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue';\n// @ts-ignore\nimport SignerSelector from '@/components/SignerSelector/SignerSelector.vue';\n// @ts-ignore\nimport MaxFeeAndSubmit from '@/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue';\n// @ts-ignore\nimport NetworkNodeSelector from '@/components/NetworkNodeSelector/NetworkNodeSelector.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n// @ts-ignore\nimport ErrorTooltip from '@/components/ErrorTooltip/ErrorTooltip.vue';\nimport { ValidationProvider } from 'vee-validate';\n\nimport { feesConfig } from '@/config';\nimport { HarvestingStatus } from '@/store/Harvesting';\nimport { AccountTransactionSigner, TransactionAnnouncerService, TransactionSigner } from '@/services/TransactionAnnouncerService';\nimport { Observable, of } from 'rxjs';\nimport { concatMap, flatMap, map, mergeAll, switchMap, tap, toArray } from 'rxjs/operators';\nimport { BroadcastResult } from '@/core/transactions/BroadcastResult';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\nimport { MosaicModel } from '@/core/database/entities/MosaicModel';\nimport { HarvestingModel } from '@/core/database/entities/HarvestingModel';\n\nexport enum HarvestingAction {\n    START = 1,\n    STOP = 2,\n    SWAP = 3,\n    ACTIVATE = 4,\n}\n\n@Component({\n    components: {\n        FormWrapper,\n        ModalTransactionConfirmation,\n        SignerSelector,\n        ValidationObserver,\n        MaxFeeAndSubmit,\n        FormRow,\n        NetworkNodeSelector,\n        ErrorTooltip,\n        ValidationProvider,\n    },\n    computed: {\n        ...mapGetters({\n            currentHeight: 'network/currentHeight',\n            currentSignerAccountInfo: 'account/currentSignerAccountInfo',\n            harvestingStatus: 'harvesting/status',\n            currentSignerHarvestingModel: 'harvesting/currentSignerHarvestingModel',\n            networkBalanceMosaics: 'mosaic/networkBalanceMosaics',\n        }),\n    },\n})\nexport class FormPersistentDelegationRequestTransactionTs extends FormTransactionBase {\n    @Prop({ default: null }) signerAddress: string;\n    //@Prop({ default: true }) withLink: boolean;\n\n    /**\n     * Formatters helpers\n     */\n    public formatters = Formatters;\n\n    /**\n     * Form items\n     */\n    public formItems = {\n        nodeModel: { nodePublicKey: '' } as NodeModel,\n        signerAddress: '',\n    };\n\n    private newVrfKeyAccount: Account;\n    private newRemoteAccount: Account;\n\n    /**\n     * Current signer account info\n     */\n    private currentSignerAccountInfo: AccountInfo;\n\n    private currentSignerHarvestingModel: HarvestingModel;\n\n    private action = HarvestingAction.START;\n\n    private harvestingStatus: HarvestingStatus;\n\n    private tempTransactionSigner: TransactionSigner;\n\n    private activating = false;\n\n    /**\n     * Current account owned mosaics\n     * @protected\n     * @type {MosaicModel[]}\n     */\n    private networkBalanceMosaics: MosaicModel;\n\n    /**\n     * Reset the form with properties\n     * @return {void}\n     */\n    protected resetForm() {\n        // - set default form values\n        this.action = HarvestingAction.START;\n        // - maxFee must be absolute\n        this.newVrfKeyAccount = Account.generateNewAccount(this.networkType);\n        this.newRemoteAccount = Account.generateNewAccount(this.networkType);\n        this.tempTransactionSigner = new AccountTransactionSigner(Account.generateNewAccount(this.networkType));\n    }\n\n    @Watch('currentSignerAccountInfo', { immediate: true })\n    private currentSignerWatch() {\n        this.formItems.signerAddress = this.signerAddress || this.currentSignerAccountInfo?.address.plain();\n\n        if (this.isNodeKeyLinked) {\n            this.formItems.nodeModel.nodePublicKey = this.currentSignerAccountInfo?.supplementalPublicKeys.node.publicKey;\n            if (this.currentSignerHarvestingModel?.selectedHarvestingNode) {\n                this.formItems.nodeModel = this.currentSignerHarvestingModel.selectedHarvestingNode;\n            } else {\n                this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n            }\n        } else {\n            this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n        }\n    }\n\n    /**\n     * To get all the key link transactions\n     */\n    protected getKeyLinkTransactions(transactionSigner = this.tempTransactionSigner): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest); // fixed to the Highest, txs must get confirmed\n        const txs: Transaction[] = [];\n\n        /*\n         LINK\n         START => link all (new keys)\n         STOP =>  unlink all (linked keys)\n         SWAP =>  unlink(linked) + link all (new keys)\n         */\n\n        if (this.isAccountKeyLinked) {\n            const accountKeyUnLinkTx = this.createAccountKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.linked.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(accountKeyUnLinkTx);\n        }\n\n        if (this.isVrfKeyLinked) {\n            const vrfKeyUnLinkTx = this.createVrfKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.vrf.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(vrfKeyUnLinkTx);\n        }\n\n        if (this.isNodeKeyLinked) {\n            const nodeUnLinkTx = this.createNodeKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.node.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n\n            txs.push(nodeUnLinkTx);\n        }\n\n        if (this.action !== HarvestingAction.STOP) {\n            const accountKeyLinkTx = this.createAccountKeyLinkTx(this.newRemoteAccount.publicKey, LinkAction.Link, maxFee);\n            const vrfKeyLinkTx = this.createVrfKeyLinkTx(this.newVrfKeyAccount.publicKey, LinkAction.Link, maxFee);\n            const nodeLinkTx = this.createNodeKeyLinkTx(this.formItems.nodeModel.nodePublicKey, LinkAction.Link, maxFee);\n            txs.push(accountKeyLinkTx, vrfKeyLinkTx, nodeLinkTx);\n        }\n\n        if (txs.length > 0) {\n            if (this.isMultisigMode()) {\n                return this.toMultiSigAggregate(txs, maxFee, transactionSigner);\n            } else {\n                const aggregate = this.calculateSuggestedMaxFee(\n                    AggregateTransaction.createComplete(\n                        Deadline.create(this.epochAdjustment),\n                        txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                        this.networkType,\n                        [],\n                        maxFee,\n                    ),\n                );\n                return of([aggregate]);\n            }\n        }\n        return of([]);\n    }\n\n    public toMultiSigAggregate(txs: Transaction[], maxFee, transactionSigner: TransactionSigner) {\n        const aggregate = this.calculateSuggestedMaxFee(\n            AggregateTransaction.createBonded(\n                Deadline.create(this.epochAdjustment),\n                txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                this.networkType,\n                [],\n                maxFee,\n            ),\n        );\n        return transactionSigner.signTransaction(aggregate, this.generationHash).pipe(\n            map((signedAggregateTransaction) => {\n                const hashLock = this.calculateSuggestedMaxFee(\n                    LockFundsTransaction.create(\n                        Deadline.create(this.epochAdjustment),\n                        new Mosaic(this.networkMosaic, UInt64.fromNumericString(this.networkConfiguration.lockedFundsPerAggregate)),\n                        UInt64.fromUint(1000),\n                        signedAggregateTransaction,\n                        this.networkType,\n                        maxFee,\n                    ),\n                );\n                return [hashLock, aggregate];\n            }),\n        );\n    }\n\n    public getPersistentDelegationRequestTransaction(\n        transactionSigner: TransactionSigner = this.tempTransactionSigner,\n    ): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest);\n        if (this.action !== HarvestingAction.STOP) {\n            const persistentDelegationReqTx = PersistentDelegationRequestTransaction.createPersistentDelegationRequestTransaction(\n                Deadline.create(this.epochAdjustment, this.isMultisigMode() ? 24 : 2),\n                this.newRemoteAccount.privateKey,\n                this.newVrfKeyAccount.privateKey,\n                this.formItems.nodeModel.nodePublicKey,\n                this.networkType,\n                maxFee,\n            );\n\n            return this.isMultisigMode()\n                ? this.toMultiSigAggregate([persistentDelegationReqTx], maxFee, transactionSigner)\n                : of([this.calculateSuggestedMaxFee(persistentDelegationReqTx)]);\n        }\n        return of([]);\n    }\n\n    public resolveTransactions(): Observable<Transaction[]> {\n        return this.getKeyLinkTransactions().pipe(\n            switchMap((txs) => this.getPersistentDelegationRequestTransaction().pipe(map((ptxs) => [...txs, ...ptxs]))),\n        );\n    }\n\n    public announce(service: TransactionAnnouncerService, transactionSigner: TransactionSigner): Observable<Observable<BroadcastResult>[]> {\n        // announce the keyLink txs and save the signed PersistentDelegationReqTx to the store\n        const accountAddress = this.currentSignerHarvestingModel.accountAddress;\n        const signedPersistentDelReqTx$ = this.getPersistentDelegationRequestTransaction(transactionSigner).pipe(\n            concatMap((txs) => txs.map((t) => transactionSigner.signTransaction(t, this.generationHash))),\n            mergeAll(),\n            toArray(),\n        );\n\n        return this.getKeyLinkTransactions(transactionSigner).pipe(\n            flatMap((transactions) => {\n                const signedTransactions = transactions.map((t) => transactionSigner.signTransaction(t, this.generationHash));\n                if (!signedTransactions.length) {\n                    return of([]) as Observable<Observable<BroadcastResult>[]>;\n                }\n                if (this.isMultisigMode()) {\n                    return of([this.announceHashAndAggregateBonded(service, signedTransactions)]);\n                } else {\n                    return of(this.announceSimple(service, signedTransactions));\n                }\n            }),\n            tap((resArr) =>\n                resArr[0].subscribe((res) => {\n                    if (res.success) {\n                        signedPersistentDelReqTx$.subscribe((signedTx) => this.saveSignedPersistentDelReqTxs(accountAddress, signedTx));\n                        this.$store.dispatch('harvesting/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', {\n                            accountAddress,\n                            isPersistentDelReqSent: false,\n                        });\n\n                        this.$store.dispatch('harvesting/UPDATE_ACCOUNT_SELECTED_HARVESTING_NODE', {\n                            accountAddress,\n                            selectedHarvestingNode: this.formItems.nodeModel,\n                        });\n                    }\n                }),\n            ),\n        );\n    }\n\n    private announceHashAndAggregateBonded(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult> {\n        return signedTransactions[0].pipe(\n            flatMap((signedHashLockTransaction) => {\n                return signedTransactions[1].pipe(\n                    flatMap((signedAggregateTransaction) => {\n                        return service.announceHashAndAggregateBonded(signedHashLockTransaction, signedAggregateTransaction);\n                    }),\n                );\n            }),\n        );\n    }\n\n    private announceSimple(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult>[] {\n        return signedTransactions.map((o) => o.pipe(flatMap((s) => service.announce(s))));\n    }\n\n    private calculateSuggestedMaxFee(transaction: Transaction): Transaction {\n        const feeMultiplier = this.resolveFeeMultipler(transaction);\n        if (!feeMultiplier) {\n            return transaction;\n        }\n        if (transaction instanceof AggregateTransaction) {\n            return transaction.setMaxFeeForAggregate(feeMultiplier, this.requiredCosignatures);\n        } else {\n            return transaction.setMaxFee(feeMultiplier);\n        }\n    }\n\n    private resolveFeeMultipler(transaction: Transaction): number | undefined {\n        if (transaction.maxFee.compact() == 1) {\n            const fees =\n                this.transactionFees.averageFeeMultiplier * 1.2 < this.transactionFees.minFeeMultiplier\n                    ? this.transactionFees.minFeeMultiplier\n                    : this.transactionFees.averageFeeMultiplier * 1.2;\n            return fees || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        if (transaction.maxFee.compact() == 2) {\n            const fees =\n                this.transactionFees.highestFeeMultiplier < this.transactionFees.minFeeMultiplier\n                    ? this.transactionFees.minFeeMultiplier\n                    : this.transactionFees.highestFeeMultiplier;\n            return fees || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        return undefined;\n    }\n    private saveSignedPersistentDelReqTxs(accountAddress: string, signedPersistentDelReqTxs: SignedTransaction[]) {\n        this.$store.dispatch('harvesting/UPDATE_ACCOUNT_SIGNED_PERSISTENT_DEL_REQ_TXS', { accountAddress, signedPersistentDelReqTxs });\n        if (!signedPersistentDelReqTxs || signedPersistentDelReqTxs.length === 0) {\n            const isPersistentDelReqSent = false;\n            this.$store.dispatch('harvesting/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', { accountAddress, isPersistentDelReqSent });\n        }\n    }\n\n    protected activateHarvesting() {\n        Vue.set(this, 'activating', true);\n        const accountAddress = this.currentSignerHarvestingModel.accountAddress;\n        const transactionAnnoucer = new TransactionAnnouncerService(this.$store);\n        let announceResult: Observable<BroadcastResult>;\n\n        if (this.isMultisigMode()) {\n            announceResult = transactionAnnoucer.announceHashAndAggregateBonded(\n                this.signedPersistentDelReqTxs[0],\n                this.signedPersistentDelReqTxs[1],\n            );\n        } else {\n            announceResult = transactionAnnoucer.announce(this.signedPersistentDelReqTxs[0]);\n        }\n        announceResult.subscribe((res) => {\n            if (res.success) {\n                this.$store.dispatch('harvesting/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', {\n                    accountAddress,\n                    isPersistentDelReqSent: true,\n                });\n            }\n            Vue.set(this, 'activating', false);\n        });\n    }\n\n    private createAccountKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): AccountKeyLinkTransaction {\n        return AccountKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createVrfKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): VrfKeyLinkTransaction {\n        return VrfKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createNodeKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): NodeKeyLinkTransaction {\n        return NodeKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n\n    /**\n     * Whether all keys are linked\n     */\n    private get allKeysLinked(): boolean {\n        return this.isAccountKeyLinked && this.isVrfKeyLinked && this.isNodeKeyLinked;\n    }\n\n    /**\n     * Whether account key is linked\n     */\n    private get isAccountKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.linked;\n    }\n\n    /**\n     * Whether vrf key is linked\n     */\n    private get isVrfKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.vrf;\n    }\n\n    /**\n     * Whether node key is linked\n     */\n    private get isNodeKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.node;\n    }\n\n    /**\n     * Setter for TRANSFER transactions that will be staged\n     * @see {FormTransactionBase}\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected setTransactions() {\n        throw new Error('This transaction can not be staged');\n    }\n\n    public onStart() {\n        this.action = HarvestingAction.START;\n        if (this.networkBalanceMosaics.balance / Math.pow(10, this.networkBalanceMosaics.divisibility) < 10000) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('harvesting_account_insufficient_balance'));\n            return;\n        }\n        this.onSubmit();\n    }\n\n    public onStop() {\n        this.action = HarvestingAction.STOP;\n        this.onSubmit();\n    }\n\n    public onSwap() {\n        this.action = HarvestingAction.SWAP;\n        this.onSubmit();\n    }\n\n    public get swapDisabled(): boolean {\n        return (\n            this.formItems.nodeModel.nodePublicKey?.toLowerCase() ===\n            this.currentSignerAccountInfo.supplementalPublicKeys?.node?.publicKey?.toLowerCase()\n        );\n    }\n\n    public onSubmit() {\n        if (!this.allKeysLinked && !this.formItems.nodeModel.nodePublicKey.length) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('invalid_node'));\n            return;\n        }\n\n        // - open signature modal\n        this.onShowConfirmationModal();\n    }\n\n    public get currentSignerAccount() {\n        return PublicAccount.createFromPublicKey(this.currentSignerPublicKey, this.networkType);\n    }\n\n    private get signedPersistentDelReqTxs() {\n        return this.currentSignerHarvestingModel?.signedPersistentDelReqTxs?.map(\n            (st) => new SignedTransaction(st.payload, st.hash, st.signerPublicKey, st.type, st.networkType),\n        );\n    }\n\n    private get isPersistentDelReqSent() {\n        return this.currentSignerHarvestingModel?.isPersistentDelReqSent;\n    }\n}\n"],"sourceRoot":""}]}