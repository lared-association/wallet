{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-2!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/store/AwaitLock.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/store/AwaitLock.ts","mtime":1611927204391},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL21udC9jL1VzZXJzL2p1c3RpL0Rlc2t0b3AvU1VQRVJIT1cvU3ltYm9sV2FsbGV0L2xhcmVkLXdhbGxldC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gInRzbGliIjsKLyoKICogQ29weXJpZ2h0IDIwMjAgTkVNIChodHRwczovL25lbS5pbykKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1wb3J0IEF3YWl0TG9ja0ltcGwgZnJvbSAnYXdhaXQtbG9jayc7CmV4cG9ydCB2YXIgQXdhaXRMb2NrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAvKioKICAgKiBDcmVhdGUgYSBsb2NrIGluc3RhbmNlCiAgICogQGFjY2VzcyBwcml2YXRlCiAgICogQHBhcmFtIGxvY2sKICAgKi8KICBmdW5jdGlvbiBBd2FpdExvY2soCiAgLyoqCiAgICogVGhlIGxvY2sgc3BlY2lhbGl6YXRpb24KICAgKiBAdmFyIHtBd2FpdExvY2tJbXBsfQogICAqLwogIGxvY2spIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBd2FpdExvY2spOwoKICAgIHRoaXMubG9jayA9IGxvY2s7CiAgfQogIC8qKgogICAqIENyZWF0ZSBhIGxvY2sKICAgKiBAcmV0dXJuIHtBd2FpdExvY2t9CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoQXdhaXRMb2NrLCBbewogICAga2V5OiAiaW5pdGlhbGl6ZSIsCgogICAgLyoqCiAgICAgKiBIZWxwZXIgbWV0aG9kIGZvciB0aGUgaW5pdGlhbGl6ZSBjYWxsYmFjay4KICAgICAqIEBwYXJhbSBjYWxsYmFjawogICAgICogQHBhcmFtIHN0b3JlCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplKGNhbGxiYWNrLCBfcmVmKSB7CiAgICAgIHZhciBnZXR0ZXJzID0gX3JlZi5nZXR0ZXJzOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jay5hY3F1aXJlQXN5bmMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKGdldHRlcnMuZ2V0SW5pdGlhbGl6ZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgdGhpcy5sb2NrLnJlbGVhc2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goNik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMiwsIDYsIDldXSk7CiAgICAgIH0pKTsKICAgIH0KICAgIC8qKgogICAgICogSGVscGVyIG1ldGhvZCBmb3IgdGhlIHVuaXRpYWxpemUgY2FsbGJhY2sKICAgICAqIEBwYXJhbSBjYWxsYmFjawogICAgICogQHBhcmFtIHN0b3JlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidW5pbml0aWFsaXplIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bmluaXRpYWxpemUoY2FsbGJhY2ssIF9yZWYyKSB7CiAgICAgIHZhciBnZXR0ZXJzID0gX3JlZjIuZ2V0dGVyczsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2suYWNxdWlyZUFzeW5jKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIWdldHRlcnMuZ2V0SW5pdGlhbGl6ZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA2OwogICAgICAgICAgICAgICAgdGhpcy5sb2NrLnJlbGVhc2UoKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDYpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMiwsIDYsIDldXSk7CiAgICAgIH0pKTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogImNyZWF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICByZXR1cm4gbmV3IEF3YWl0TG9jayhuZXcgQXdhaXRMb2NrSW1wbCgpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBd2FpdExvY2s7Cn0oKTs="},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/store/AwaitLock.ts"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;AAcG;;AACH,OAAO,aAAP,MAA0B,YAA1B;AAEA,WAAa,SAAb;AACI;;;;AAIG;AACH;AACI;;;AAGG;AACgB,EAAA,IALvB,EAK0C;AAAA;;AAAnB,SAAA,IAAA,GAAA,IAAA;AACnB;AAEJ;;;AAGG;;;AAjBP;AAAA;;AAsBI;;;;AAIG;AA1BP,+BA2BqB,QA3BrB,QA2B0C;AAAA,UAAT,OAAS,QAAT,OAAS;;;;;;;AAClC,uBAAM,KAAK,IAAL,CAAU,YAAV,EAAN;;;;;oBAES,OAAO,CAAC,c;;;;;;AACT,uBAAM,QAAQ,EAAd;;;;AAGJ,qBAAK,IAAL,CAAU,OAAV;;;;;;;;;;AAEP;AAED;;;;AAIG;;AA1CP;AAAA;AAAA,iCA2CuB,QA3CvB,SA2C4C;AAAA,UAAT,OAAS,SAAT,OAAS;;;;;;;AACpC,uBAAM,KAAK,IAAL,CAAU,YAAV,EAAN;;;;;qBAEQ,OAAO,CAAC,c;;;;;;AACR,uBAAM,QAAQ,EAAd;;;;AAGJ,qBAAK,IAAL,CAAU,OAAV;;;;;;;;;;AAEP;AApDL;AAAA;AAAA,6BAkBiB;AACT,aAAO,IAAI,SAAJ,CAAc,IAAI,aAAJ,EAAd,CAAP;AACH;AApBL;;AAAA;AAAA","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport AwaitLockImpl from 'await-lock';\n\nexport class AwaitLock {\n    /**\n     * Create a lock instance\n     * @access private\n     * @param lock\n     */\n    private constructor(\n        /**\n         * The lock specialization\n         * @var {AwaitLockImpl}\n         */\n        protected readonly lock: AwaitLockImpl,\n    ) {}\n\n    /**\n     * Create a lock\n     * @return {AwaitLock}\n     */\n    static create() {\n        return new AwaitLock(new AwaitLockImpl());\n    }\n\n    /**\n     * Helper method for the initialize callback.\n     * @param callback\n     * @param store\n     */\n    async initialize(callback, { getters }) {\n        await this.lock.acquireAsync();\n        try {\n            if (!getters.getInitialized) {\n                await callback();\n            }\n        } finally {\n            this.lock.release();\n        }\n    }\n\n    /**\n     * Helper method for the unitialize callback\n     * @param callback\n     * @param store\n     */\n    async uninitialize(callback, { getters }) {\n        await this.lock.acquireAsync();\n        try {\n            if (getters.getInitialized) {\n                await callback();\n            }\n        } finally {\n            this.lock.release();\n        }\n    }\n}\n"],"sourceRoot":""}]}