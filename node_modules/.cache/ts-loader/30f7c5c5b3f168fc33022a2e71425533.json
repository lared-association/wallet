{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/pages/profiles/import-profile/ImportProfileTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/pages/profiles/import-profile/ImportProfileTs.ts","mtime":1606213958977},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsKICBmdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7CiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOwogICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsKICAgIGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOwoKICAgIHRyeSB7CiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLAogICAgICAgIHJlc3VsdDsKCiAgICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsKICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsKCiAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7CiAgICB9IGVsc2UgewogICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOwogIH07Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKaW1wb3J0IHsgX19hd2FpdGVyLCBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgRm9ybWF0dGVycyB9IGZyb20gJ0AvY29yZS91dGlscy9Gb3JtYXR0ZXJzJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBNbmVtb25pY1Bhc3NQaHJhc2UgfSBmcm9tICdzeW1ib2wtaGQtd2FsbGV0cyc7CmltcG9ydCB7IEFjY291bnRTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9BY2NvdW50U2VydmljZSc7Cgp2YXIgSW1wb3J0UHJvZmlsZVRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEltcG9ydFByb2ZpbGVUcywgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSW1wb3J0UHJvZmlsZVRzKTsKCiAgZnVuY3Rpb24gSW1wb3J0UHJvZmlsZVRzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbXBvcnRQcm9maWxlVHMpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAvKioKICAgICAqIEZvcm1hdHRpbmcgaGVscGVycwogICAgICogQHByb3RlY3RlZAogICAgICovCgogICAgX3RoaXMuZm9ybWF0dGVycyA9IEZvcm1hdHRlcnM7CiAgICAvKioKICAgICAqIExpc3Qgb2Ygc3RlcHMKICAgICAqIEB2YXIge3N0cmluZ1tdfQogICAgICovCgogICAgX3RoaXMuU3RlcEJhclRpdGxlTGlzdCA9IFsnY3JlYXRlX3Byb2ZpbGUnLCAnbW5lbW9uaWNfcGhyYXNlJywgJ3NlbGVjdF9hY2NvdW50cycsICdmaW5pc2gnXTsKICAgIC8qKgogICAgICogTGlzdCBvZiBhZGRyZXNzZXMKICAgICAqIEB2YXIge0FkZHJlc3NbXX0KICAgICAqLwoKICAgIF90aGlzLmFkZHJlc3Nlc0xpc3QgPSBbXTsKICAgIC8qKgogICAgICogQmFsYW5jZXMgbWFwCiAgICAgKiBAdmFyIHthbnl9CiAgICAgKi8KCiAgICBfdGhpcy5hZGRyZXNzTW9zYWljTWFwID0ge307CiAgICAvKioKICAgICAqIEluZGljYXRlcyBpZiBhY2NvdW50IGJhbGFuY2UgYW5kIGFkZHJlc3NlcyBhcmUgYWxyZWFkeSBmZXRjaGVkCiAgICAgKi8KCiAgICBfdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KICAvKioKICAgKiBIb29rIGNhbGxlZCB3aGVuIHRoZSBwYWdlIGlzIG1vdW50ZWQKICAgKiBAcmV0dXJuIHt2b2lkfQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEltcG9ydFByb2ZpbGVUcywgW3sKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UgPSBuZXcgQWNjb3VudFNlcnZpY2UoKTsKICAgICAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmluaXRBY2NvdW50cygpOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVtcG9yYXJ5L2luaXRpYWxpemUnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbml0QWNjb3VudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRBY2NvdW50cygpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVwb3NpdG9yeUZhY3RvcnksIGFjY291bnRzSW5mbzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgLy8gLSBnZW5lcmF0ZSBhZGRyZXNzZXMKICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzc2VzTGlzdCA9IHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0QWRkcmVzc2VzRnJvbU1uZW1vbmljKG5ldyBNbmVtb25pY1Bhc3NQaHJhc2UodGhpcy5jdXJyZW50TW5lbW9uaWMpLCB0aGlzLmN1cnJlbnRQcm9maWxlLm5ldHdvcmtUeXBlLCAxMCk7CiAgICAgICAgICAgICAgICByZXBvc2l0b3J5RmFjdG9yeSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ25ldHdvcmsvcmVwb3NpdG9yeUZhY3RvcnknXTsgLy8gZmV0Y2ggYWNjb3VudHMgaW5mbwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiByZXBvc2l0b3J5RmFjdG9yeS5jcmVhdGVBY2NvdW50UmVwb3NpdG9yeSgpLmdldEFjY291bnRzSW5mbyh0aGlzLmFkZHJlc3Nlc0xpc3QpLnRvUHJvbWlzZSgpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBhY2NvdW50c0luZm8gPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudHNJbmZvKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAvLyBtYXAgYmFsYW5jZXMKICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzc01vc2FpY01hcCA9IHRoaXMubWFwQmFsYW5jZUJ5QWRkcmVzcyhhY2NvdW50c0luZm8sIHRoaXMubmV0d29ya01vc2FpYyk7CiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXBCYWxhbmNlQnlBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBtYXBCYWxhbmNlQnlBZGRyZXNzKGFjY291bnRzSW5mbywgbW9zYWljKSB7CiAgICAgIHJldHVybiBhY2NvdW50c0luZm8ubWFwKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIG1vc2FpY3MgPSBfcmVmLm1vc2FpY3MsCiAgICAgICAgICAgIGFkZHJlc3MgPSBfcmVmLmFkZHJlc3M7CiAgICAgICAgLy8gLSBjaGVjayBiYWxhbmNlCiAgICAgICAgdmFyIGhhc05ldHdvcmtNb3NhaWMgPSBtb3NhaWNzLmZpbmQoZnVuY3Rpb24gKG1vc2FpY093bmVkKSB7CiAgICAgICAgICByZXR1cm4gbW9zYWljT3duZWQuaWQuZXF1YWxzKG1vc2FpYyk7CiAgICAgICAgfSk7IC8vIC0gYWNjb3VudCBkb2Vzbid0IGhvbGQgbmV0d29yayBtb3NhaWMgc28gdGhlIGJhbGFuY2UgaXMgemVybwoKICAgICAgICBpZiAoaGFzTmV0d29ya01vc2FpYyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLnBsYWluKCksCiAgICAgICAgICAgIGJhbGFuY2U6IDAKICAgICAgICAgIH07CiAgICAgICAgfSAvLyAtIG1hcCBiYWxhbmNlIHRvIGFkZHJlc3MKCgogICAgICAgIHZhciBiYWxhbmNlID0gaGFzTmV0d29ya01vc2FpYy5hbW91bnQuY29tcGFjdCgpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLnBsYWluKCksCiAgICAgICAgICBiYWxhbmNlOiBiYWxhbmNlCiAgICAgICAgfTsKICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIF9yZWYyKSB7CiAgICAgICAgdmFyIGFkZHJlc3MgPSBfcmVmMi5hZGRyZXNzLAogICAgICAgICAgICBiYWxhbmNlID0gX3JlZjIuYmFsYW5jZTsKICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhY2MpLCBfZGVmaW5lUHJvcGVydHkoe30sIGFkZHJlc3MsIGJhbGFuY2UpKTsKICAgICAgfSwge30pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEN1cnJlbnRTdGVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50U3RlcCgpIHsKICAgICAgc3dpdGNoICh0aGlzLiRyb3V0ZS5uYW1lKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICBjYXNlICdwcm9maWxlcy5pbXBvcnRQcm9maWxlLmluZm8nOgogICAgICAgICAgcmV0dXJuIDA7CgogICAgICAgIGNhc2UgJ3Byb2ZpbGVzLmltcG9ydFByb2ZpbGUuaW1wb3J0TW5lbW9uaWMnOgogICAgICAgICAgcmV0dXJuIDE7CgogICAgICAgIGNhc2UgJ3Byb2ZpbGVzLmltcG9ydFByb2ZpbGUud2FsbGV0U2VsZWN0aW9uJzoKICAgICAgICAgIHJldHVybiAyOwoKICAgICAgICBjYXNlICdwcm9maWxlcy5pbXBvcnRQcm9maWxlLmZpbmFsaXplJzoKICAgICAgICAgIHJldHVybiAzOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U3RlcENsYXNzTmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RlcENsYXNzTmFtZShpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U3RlcCgpID09IGluZGV4ID8gJ2FjdGl2ZScgOiB0aGlzLmdldEN1cnJlbnRTdGVwKCkgPiBpbmRleCA/ICdkb25lJyA6ICcnOwogICAgfQogICAgLyoqCiAgICAgKiBDYWxsZWQgd2hlbiBjbGlja2luZyBvbiBhbiBhZGRyZXNzIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBzZWxlY3Rpb24KICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXRoTnVtYmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25SZW1vdmVBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlbW92ZUFkZHJlc3MocGF0aE51bWJlcikgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FjY291bnQvcmVtb3ZlRnJvbVNlbGVjdGVkQWRkcmVzc2VzVG9JbnRlcmFjdCcsIHBhdGhOdW1iZXIpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEltcG9ydFByb2ZpbGVUczsKfShWdWUpOwoKX19kZWNvcmF0ZShbV2F0Y2goJ3NlbGVjdGVkQWNjb3VudHMnKV0sIEltcG9ydFByb2ZpbGVUcy5wcm90b3R5cGUsICJpbml0QWNjb3VudHMiLCBudWxsKTsKCkltcG9ydFByb2ZpbGVUcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcHV0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIG1hcEdldHRlcnMoewogICAgY3VycmVudE1uZW1vbmljOiAndGVtcG9yYXJ5L21uZW1vbmljJywKICAgIG5ldHdvcmtUeXBlOiAnbmV0d29yay9uZXR3b3JrVHlwZScsCiAgICBuZXR3b3JrTW9zYWljOiAnbW9zYWljL25ldHdvcmtNb3NhaWMnLAogICAgbmV0d29ya0N1cnJlbmN5OiAnbW9zYWljL25ldHdvcmtDdXJyZW5jeScsCiAgICBjdXJyZW50UHJvZmlsZTogJ3Byb2ZpbGUvY3VycmVudFByb2ZpbGUnLAogICAgY3VycmVudFBhc3N3b3JkOiAndGVtcG9yYXJ5L3Bhc3N3b3JkJywKICAgIHNlbGVjdGVkQWNjb3VudHM6ICdhY2NvdW50L3NlbGVjdGVkQWRkcmVzc2VzVG9JbnRlcmFjdCcKICB9KSkKfSldLCBJbXBvcnRQcm9maWxlVHMpOwpleHBvcnQgZGVmYXVsdCBJbXBvcnRQcm9maWxlVHM7"},{"version":3,"sources":["/home/hero/lared-wallet/src/views/pages/profiles/import-profile/ImportProfileTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Vue, Watch } from 'vue-property-decorator';\nimport { Formatters } from '@/core/utils/Formatters';\nimport { mapGetters } from 'vuex';\nimport { MnemonicPassPhrase } from 'symbol-hd-wallets';\nimport { AccountInfo, Address, MosaicId, RepositoryFactory } from 'symbol-sdk';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { AccountService } from '@/services/AccountService';\n\n@Component({\n    computed: {\n        ...mapGetters({\n            currentMnemonic: 'temporary/mnemonic',\n            networkType: 'network/networkType',\n            networkMosaic: 'mosaic/networkMosaic',\n            networkCurrency: 'mosaic/networkCurrency',\n            currentProfile: 'profile/currentProfile',\n            currentPassword: 'temporary/password',\n            selectedAccounts: 'account/selectedAddressesToInteract',\n        }),\n    },\n})\nexport default class ImportProfileTs extends Vue {\n    /**\n     * Formatting helpers\n     * @protected\n     */\n    protected formatters = Formatters;\n    /**\n     * List of steps\n     * @var {string[]}\n     */\n    public StepBarTitleList = ['create_profile', 'mnemonic_phrase', 'select_accounts', 'finish'];\n\n    /**\n     * Network's currency mosaic id\n     * @see {Store.Mosaic}\n     * @var {MosaicId}\n     */\n    public networkMosaic: MosaicId;\n\n    /**\n     * Currently active profile\n     * @see {Store.Profile}\n     * @var {string}\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Temporary stored mnemonic pass phrase\n     * @see {Store.Temporary}\n     * @var {MnemonicPassPhrase}\n     */\n    public currentMnemonic: string;\n\n    /**\n     * Account Service\n     * @var {AccountService}\n     */\n    public accountService: AccountService;\n\n    /**\n     * List of addresses\n     * @var {Address[]}\n     */\n    public addressesList: Address[] = [];\n\n    /**\n     * Balances map\n     * @var {any}\n     */\n    public addressMosaicMap = {};\n\n    /**\n     * Map of selected accounts\n     * @var {number[]}\n     */\n    public selectedAccounts: number[];\n\n    /**\n     * Indicates if account balance and addresses are already fetched\n     */\n    private initialized: boolean = false;\n\n    /**\n     * Hook called when the page is mounted\n     * @return {void}\n     */\n    async mounted() {\n        this.accountService = new AccountService();\n        Vue.nextTick().then(() => {\n            setTimeout(() => this.initAccounts(), 300);\n        });\n\n        await this.$store.dispatch('temporary/initialize');\n    }\n\n    @Watch('selectedAccounts')\n    /**\n     * Fetch account balances and map to address\n     * @return {void}\n     */\n    private async initAccounts() {\n        if (this.initialized) {\n            return;\n        }\n\n        // - generate addresses\n        this.addressesList = this.accountService.getAddressesFromMnemonic(\n            new MnemonicPassPhrase(this.currentMnemonic),\n            this.currentProfile.networkType,\n            10,\n        );\n        const repositoryFactory = this.$store.getters['network/repositoryFactory'] as RepositoryFactory;\n        // fetch accounts info\n        const accountsInfo = await repositoryFactory.createAccountRepository().getAccountsInfo(this.addressesList).toPromise();\n        if (!accountsInfo) {\n            return;\n        }\n        // map balances\n        this.addressMosaicMap = this.mapBalanceByAddress(accountsInfo, this.networkMosaic);\n\n        this.initialized = true;\n    }\n\n    public mapBalanceByAddress(accountsInfo: AccountInfo[], mosaic: MosaicId): Record<string, number> {\n        return accountsInfo\n            .map(({ mosaics, address }) => {\n                // - check balance\n                const hasNetworkMosaic = mosaics.find((mosaicOwned) => mosaicOwned.id.equals(mosaic));\n\n                // - account doesn't hold network mosaic so the balance is zero\n                if (hasNetworkMosaic === undefined) {\n                    return {\n                        address: address.plain(),\n                        balance: 0,\n                    };\n                }\n                // - map balance to address\n                const balance = hasNetworkMosaic.amount.compact();\n                return {\n                    address: address.plain(),\n                    balance: balance,\n                };\n            })\n            .reduce((acc, { address, balance }) => ({ ...acc, [address]: balance }), {});\n    }\n\n    public getCurrentStep(): number {\n        switch (this.$route.name) {\n            default:\n            case 'profiles.importProfile.info':\n                return 0;\n            case 'profiles.importProfile.importMnemonic':\n                return 1;\n            case 'profiles.importProfile.walletSelection':\n                return 2;\n            case 'profiles.importProfile.finalize':\n                return 3;\n        }\n    }\n\n    public getStepClassName(index: number): string {\n        return this.getCurrentStep() == index ? 'active' : this.getCurrentStep() > index ? 'done' : '';\n    }\n\n    /**\n     * Called when clicking on an address to remove it from the selection\n     * @protected\n     * @param {number} pathNumber\n     */\n    protected onRemoveAddress(pathNumber: number): void {\n        this.$store.commit('account/removeFromSelectedAddressesToInteract', pathNumber);\n    }\n}\n"],"sourceRoot":""}]}