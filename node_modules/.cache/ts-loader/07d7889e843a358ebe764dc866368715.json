{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/modals/ModalBackupProfile/ModalBackupProfileTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/modals/ModalBackupProfile/ModalBackupProfileTs.ts","mtime":1606213958973},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgewogIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7CiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7CgogICAgdHJ5IHsKICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksCiAgICAgICAgcmVzdWx0OwoKICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgewogICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOwoKICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7CiAgfTsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgQ3J5cHRvLCBBZGRyZXNzIH0gZnJvbSAnc3ltYm9sLXNkayc7IC8vIGNoaWxkIGNvbXBvbmVudHMKLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1Qcm9maWxlVW5sb2NrIGZyb20gJ0Avdmlld3MvZm9ybXMvRm9ybVByb2ZpbGVVbmxvY2svRm9ybVByb2ZpbGVVbmxvY2sudnVlJzsKaW1wb3J0IHsgTW5lbW9uaWNQYXNzUGhyYXNlIH0gZnJvbSAnc3ltYm9sLWhkLXdhbGxldHMnOwppbXBvcnQgeyBTeW1ib2xQYXBlcldhbGxldCB9IGZyb20gJ3N5bWJvbC1wYXBlci13YWxsZXRzJzsKaW1wb3J0IHsgQWNjb3VudFNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL0FjY291bnRTZXJ2aWNlJzsKaW1wb3J0IHsgVUlIZWxwZXJzIH0gZnJvbSAnQC9jb3JlL3V0aWxzL1VJSGVscGVycyc7Cgp2YXIgTW9kYWxCYWNrdXBQcm9maWxlVHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoTW9kYWxCYWNrdXBQcm9maWxlVHMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1vZGFsQmFja3VwUHJvZmlsZVRzKTsKCiAgZnVuY3Rpb24gTW9kYWxCYWNrdXBQcm9maWxlVHMoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vZGFsQmFja3VwUHJvZmlsZVRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFjY291bnQgaXMgdW5sb2NrZWQKICAgICAqLwoKICAgIF90aGlzLmFjY291bnRVbmxvY2tlZCA9IGZhbHNlOwogICAgLyoqCiAgICAgKiBNbmVtb25pYyB3b3JkcyAoc3BhY2UgZGVsaW1pdGVkKQogICAgICovCgogICAgX3RoaXMucGxhaW5NbmVtb25pYyA9IG51bGw7CiAgICBfdGhpcy5kb3dubG9hZEluUHJvZ3Jlc3MgPSBmYWxzZTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqCiAgICogVmlzaWJpbGl0eSBzdGF0ZQogICAqIEB0eXBlIHtib29sZWFufQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKE1vZGFsQmFja3VwUHJvZmlsZVRzLCBbewogICAga2V5OiAib25BY2NvdW50VW5sb2NrZWQiLAoKICAgIC8qKgogICAgICogSG9vayBjYWxsZWQgd2hlbiB0aGUgYWNjb3VudCBoYXMgYmVlbiB1bmxvY2tlZAogICAgICogQHBhcmFtIHtBY2NvdW50fSBhY2NvdW50CiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBvbkFjY291bnRVbmxvY2tlZChwYXlsb2FkKSB7CiAgICAgIC8vIGRlY3J5cHQgc2VlZAogICAgICB2YXIgZW5jU2VlZCA9IHRoaXMuY3VycmVudFByb2ZpbGUuc2VlZDsKICAgICAgdGhpcy5wbGFpbk1uZW1vbmljID0gQ3J5cHRvLmRlY3J5cHQoZW5jU2VlZCwgcGF5bG9hZC5wYXNzd29yZC52YWx1ZSk7CiAgICAgIHRoaXMuYWNjb3VudFVubG9ja2VkID0gdHJ1ZTsKICAgICAgdGhpcy5rbm93bkFjY291bnRJbmZvcyA9IHRoaXMua25vd25BY2NvdW50cy5tYXAoZnVuY3Rpb24gKGFjY291bnQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogYWNjb3VudC5uYW1lLAogICAgICAgICAgYWRkcmVzczogQWRkcmVzcy5jcmVhdGVGcm9tUmF3QWRkcmVzcyhhY2NvdW50LmFkZHJlc3MpLnByZXR0eSgpLAogICAgICAgICAgcHVibGljS2V5OiBhY2NvdW50LnB1YmxpY0tleSwKICAgICAgICAgIHByaXZhdGVLZXk6IENyeXB0by5kZWNyeXB0KGFjY291bnQuZW5jcnlwdGVkUHJpdmF0ZUtleSwgcGF5bG9hZC5wYXNzd29yZC52YWx1ZSkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogSG9vayBjYWxsZWQgd2hlbiBjaGlsZCBjb21wb25lbnQgRm9ybVByb2ZpbGVVbmxvY2sgb3IKICAgICAqIEhhcmR3YXJlQ29uZmlybWF0aW9uQnV0dG9uIGVtaXQgdGhlICdlcnJvcicgZXZlbnQuCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZQogICAgICogQHJldHVybiB7dm9pZH0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvbkVycm9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZXJyb3IpOwogICAgfQogICAgLyoqCiAgICAgKiBMaWZlIGN5Y2xlIGhvb2sKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gbmV3IEFjY291bnRTZXJ2aWNlKCk7CiAgICB9CiAgICAvKioKICAgICAqIEhvb2sgY2FsbGVkIHdoZW4gdGhlIGRvd25sb2FkIGJ1dHRvbiBpcyBjbGlja2VkCiAgICAgKiBAcmV0dXJuIHt2b2lkfQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uRG93bmxvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uRG93bmxvYWQoKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRoaXMucGxhaW5NbmVtb25pYykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX0VSUk9SJywgdGhpcy4kdCgnbW5lbW9uaWNfbm90X2ZvdW5kJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBWdWUuc2V0KHRoaXMsICdkb3dubG9hZEluUHJvZ3Jlc3MnLCB0cnVlKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUFuZERvd25sb2FkUGFwZXJXYWxsZXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVnVlLnNldCh0aGlzLCAnZG93bmxvYWRJblByb2dyZXNzJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfSwgODAwKTsgLy8gbGFib3IgaWxsdXNpb24KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBHZW5lcmF0ZXMgYW5kIGRvd25sb2FkcyBwYXBlci13YWxsZXQgZm9yIHRoZSByb290IGFjY291bnQgYW5kIHRoZSBwcm9maWxlKGtub3duKSBhY2NvdW50cwogICAgICovCgogIH0sIHsKICAgIGtleTogImdlbmVyYXRlQW5kRG93bmxvYWRQYXBlcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVBbmREb3dubG9hZFBhcGVyV2FsbGV0KCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByb290QWNjb3VudCwgcm9vdEFjY291bnRJbmZvLCBwYXBlcldhbGxldCwgcGRmQXJyYXk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290QWNjb3VudCA9IHRoaXMuYWNjb3VudFNlcnZpY2UuZ2V0QWNjb3VudEJ5UGF0aChuZXcgTW5lbW9uaWNQYXNzUGhyYXNlKHRoaXMucGxhaW5NbmVtb25pYyksIHRoaXMubmV0d29ya1R5cGUpOwogICAgICAgICAgICAgICAgcm9vdEFjY291bnRJbmZvID0gewogICAgICAgICAgICAgICAgICBtbmVtb25pYzogdGhpcy5wbGFpbk1uZW1vbmljLAogICAgICAgICAgICAgICAgICByb290QWNjb3VudFB1YmxpY0tleTogcm9vdEFjY291bnQucHVibGljS2V5LAogICAgICAgICAgICAgICAgICByb290QWNjb3VudEFkZHJlc3M6IHJvb3RBY2NvdW50LmFkZHJlc3MucHJldHR5KCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBwYXBlcldhbGxldCA9IG5ldyBTeW1ib2xQYXBlcldhbGxldChyb290QWNjb3VudEluZm8sIHRoaXMua25vd25BY2NvdW50SW5mb3MsIHRoaXMubmV0d29ya1R5cGUsIHRoaXMuZ2VuZXJhdGlvbkhhc2gpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHBhcGVyV2FsbGV0LnRvUGRmKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHBkZkFycmF5ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgVUlIZWxwZXJzLmRvd25sb2FkQnl0ZXNBc0ZpbGUocGRmQXJyYXksICJwYXBlci13YWxsZXQtIi5jb25jYXQodGhpcy5jdXJyZW50UHJvZmlsZS5wcm9maWxlTmFtZSksICdhcHBsaWNhdGlvbi9wZGYnKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy52aXNpYmxlOwogICAgfQogICAgLyoqCiAgICAgKiBFbWl0cyBjbG9zZSBldmVudAogICAgICovCiAgICAsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTW9kYWxCYWNrdXBQcm9maWxlVHM7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogZmFsc2UKfSldLCBNb2RhbEJhY2t1cFByb2ZpbGVUcy5wcm90b3R5cGUsICJ2aXNpYmxlIiwgdm9pZCAwKTsKCk1vZGFsQmFja3VwUHJvZmlsZVRzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBGb3JtUHJvZmlsZVVubG9jazogRm9ybVByb2ZpbGVVbmxvY2sKICB9LAogIGNvbXB1dGVkOiBPYmplY3QuYXNzaWduKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGN1cnJlbnRQcm9maWxlOiAncHJvZmlsZS9jdXJyZW50UHJvZmlsZScsCiAgICBuZXR3b3JrVHlwZTogJ25ldHdvcmsvbmV0d29ya1R5cGUnLAogICAgZ2VuZXJhdGlvbkhhc2g6ICduZXR3b3JrL2dlbmVyYXRpb25IYXNoJywKICAgIGtub3duQWNjb3VudHM6ICdhY2NvdW50L2tub3duQWNjb3VudHMnCiAgfSkpCn0pXSwgTW9kYWxCYWNrdXBQcm9maWxlVHMpOwpleHBvcnQgeyBNb2RhbEJhY2t1cFByb2ZpbGVUcyB9Ow=="},{"version":3,"sources":["/home/hero/lared-wallet/src/views/modals/ModalBackupProfile/ModalBackupProfileTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { Account, NetworkType, Password, Crypto, Address } from 'symbol-sdk';\n// internal dependencies\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\n// child components\n// @ts-ignore\nimport FormProfileUnlock from '@/views/forms/FormProfileUnlock/FormProfileUnlock.vue';\n// resources\n// @ts-ignore\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { MnemonicPassPhrase } from 'symbol-hd-wallets';\nimport { SymbolPaperWallet, IAccountInfo, IHDAccountInfo } from 'symbol-paper-wallets';\nimport { AccountService } from '@/services/AccountService';\nimport { UIHelpers } from '@/core/utils/UIHelpers';\n\n@Component({\n    components: { FormProfileUnlock },\n    computed: {\n        ...mapGetters({\n            currentProfile: 'profile/currentProfile',\n            networkType: 'network/networkType',\n            generationHash: 'network/generationHash',\n            knownAccounts: 'account/knownAccounts',\n        }),\n    },\n})\nexport class ModalBackupProfileTs extends Vue {\n    @Prop({\n        default: false,\n    })\n    visible: boolean;\n\n    /**\n     * Currently active profile\n     * @see {Store.Profile}\n     * @var {ProfileModel}\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Current networkType\n     * @see {Store.Network}\n     * @var {NetworkType}\n     */\n    public networkType: NetworkType;\n\n    /**\n     * Current generationHash\n     * @see {Store.Network}\n     * @var {string}\n     */\n    public generationHash: string;\n\n    /**\n     * Known accounts to the profile\n     */\n    public knownAccounts: AccountModel[];\n\n    /**\n     * Known accounts as paper-wallet IAccountInfo (array) type\n     * @var {IAccountInfo[]}\n     */\n    public knownAccountInfos: IAccountInfo[];\n\n    /**\n     * Whether account is unlocked\n     */\n    public accountUnlocked: boolean = false;\n\n    /**\n     * Mnemonic words (space delimited)\n     */\n    private plainMnemonic: string = null;\n\n    /**\n     * Account Service\n     * @var {AccountService}\n     */\n    public accountService: AccountService;\n\n    public downloadInProgress: boolean = false;\n\n    /**\n     * Visibility state\n     * @type {boolean}\n     */\n    get show(): boolean {\n        return this.visible;\n    }\n\n    /**\n     * Emits close event\n     */\n    set show(val) {\n        if (!val) {\n            this.$emit('close');\n        }\n    }\n\n    /**\n     * Hook called when the account has been unlocked\n     * @param {Account} account\n     */\n    public onAccountUnlocked(payload: { account: Account; password: Password }) {\n        // decrypt seed\n        const encSeed = this.currentProfile.seed;\n        this.plainMnemonic = Crypto.decrypt(encSeed, payload.password.value);\n        this.accountUnlocked = true;\n\n        this.knownAccountInfos = this.knownAccounts.map(\n            (account) =>\n                ({\n                    name: account.name,\n                    address: Address.createFromRawAddress(account.address).pretty(),\n                    publicKey: account.publicKey,\n                    privateKey: Crypto.decrypt(account.encryptedPrivateKey, payload.password.value),\n                } as IAccountInfo),\n        );\n    }\n\n    /**\n     * Hook called when child component FormProfileUnlock or\n     * HardwareConfirmationButton emit the 'error' event.\n     * @param {string} message\n     * @return {void}\n     */\n    public onError(error: string) {\n        this.$emit('error', error);\n    }\n\n    /**\n     * Life cycle hook\n     */\n    public created() {\n        this.accountService = new AccountService();\n    }\n\n    /**\n     * Hook called when the download button is clicked\n     * @return {void}\n     */\n    public async onDownload() {\n        if (!this.plainMnemonic) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('mnemonic_not_found'));\n            return;\n        }\n        Vue.set(this, 'downloadInProgress', true);\n        setTimeout(async () => {\n            await this.generateAndDownloadPaperWallet();\n            Vue.set(this, 'downloadInProgress', false);\n        }, 800); // labor illusion\n    }\n\n    /**\n     * Generates and downloads paper-wallet for the root account and the profile(known) accounts\n     */\n    protected async generateAndDownloadPaperWallet(): Promise<boolean> {\n        const rootAccount: Account = this.accountService.getAccountByPath(new MnemonicPassPhrase(this.plainMnemonic), this.networkType);\n        const rootAccountInfo: IHDAccountInfo = {\n            mnemonic: this.plainMnemonic,\n            rootAccountPublicKey: rootAccount.publicKey,\n            rootAccountAddress: rootAccount.address.pretty(),\n        };\n\n        const paperWallet = new SymbolPaperWallet(rootAccountInfo, this.knownAccountInfos, this.networkType, this.generationHash);\n        const pdfArray: Uint8Array = await paperWallet.toPdf();\n        return UIHelpers.downloadBytesAsFile(pdfArray, `paper-wallet-${this.currentProfile.profileName}`, 'application/pdf');\n    }\n}\n"],"sourceRoot":""}]}