{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-2!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/symbol-address-book/AddressBook.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/symbol-address-book/AddressBook.ts","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmV4cG9ydCB2YXIgQWRkcmVzc0Jvb2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEFkZHJlc3NCb29rKCkgewogICAgdmFyIGNvbnRhY3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkcmVzc0Jvb2spOwoKICAgIHRoaXMuY29udGFjdHMgPSBjb250YWN0cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY29udGFjdCkgewogICAgICBhY2NbY29udGFjdC5pZF0gPSBjb250YWN0OwogICAgICByZXR1cm4gYWNjOwogICAgfSwge30pOwogIH0KICAvKioKICAgKiBHZXQgYWxsIGNvbnRhY3RzIGJ5IGEgZ2l2ZW4gYWRkcmVzcwogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEFkZHJlc3NCb29rLCBbewogICAga2V5OiAiZ2V0QWxsQ29udGFjdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbENvbnRhY3RzKCkgewogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLmNvbnRhY3RzKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCBjb250YWN0cyBieSBpdCdzIGlkCiAgICAgKiBAcGFyYW0gaWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRDb250YWN0QnlJZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29udGFjdEJ5SWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFjdHNbaWRdOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYWxsIGNvbnRhY3RzIGJ5IGEgZ2l2ZW4gYWRkcmVzcwogICAgICogQHBhcmFtIGFkZHJlc3MKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRDb250YWN0QnlBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250YWN0QnlBZGRyZXNzKGFkZHJlc3MpIHsKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5jb250YWN0cykuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLmFkZHJlc3MgPT09IGFkZHJlc3MgfHwgdWdsaWZ5QWRkcmVzcyhjLmFkZHJlc3MpID09PSB1Z2xpZnlBZGRyZXNzKGFkZHJlc3MpOwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIG5ldyBjb250YWN0CiAgICAgKiBAcGFyYW0gY29udGFjdAogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZENvbnRhY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENvbnRhY3QoY29udGFjdCkgewogICAgICBjb250YWN0LmlkID0gdXVpZHY0KCk7CiAgICAgIHRoaXMuY29udGFjdHNbY29udGFjdC5pZF0gPSBjb250YWN0OwogICAgICByZXR1cm4gY29udGFjdDsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGNvbnRhY3QgYnkgaXRzIGlkCiAgICAgKiBAcGFyYW0gaWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZW1vdmVDb250YWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDb250YWN0KGlkKSB7CiAgICAgIGRlbGV0ZSB0aGlzLmNvbnRhY3RzW2lkXTsKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5jb250YWN0cyk7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSBhIGNvbnRhY3QgYnkgaWQKICAgICAqIEBwYXJhbSBpZAogICAgICogQHBhcmFtIG5ld0NvbnRhY3QKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVDb250YWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDb250YWN0KGlkLCBuZXdDb250YWN0KSB7CiAgICAgIHRoaXMuY29udGFjdHNbaWRdID0gbmV3Q29udGFjdDsKICAgICAgcmV0dXJuIG5ld0NvbnRhY3Q7CiAgICB9CiAgICAvKioKICAgICAqIEV4cG9ydCBBZGRyZXNzQm9vayB0byBKU09OIGZvcm1hdAogICAgICogQHBhcmFtIHByZXR0eQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvSlNPTiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkgewogICAgICB2YXIgcHJldHR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlOwogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHZlcnNpb246IEFkZHJlc3NCb29rLnZlcnNpb24sCiAgICAgICAgY29udGFjdHM6IE9iamVjdC52YWx1ZXModGhpcy5jb250YWN0cykKICAgICAgfSwgbnVsbCwgcHJldHR5ID8gJ1x0JyA6ICcnKTsKICAgIH0KICAgIC8qKgogICAgICogSW1wb3J0IEFkZHJlc3NCb29rIGZyb20gSlNPTiBmb3JtYXQKICAgICAqIEBwYXJhbSBpbnB1dAogICAgICovCgogIH1dLCBbewogICAga2V5OiAiZnJvbUpTT04iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21KU09OKGlucHV0KSB7CiAgICAgIHZhciBvYmo7CgogICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGlucHV0KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGNyZWF0aW5nIEFkZHJlc3NCb29rOiBpbnZhbGlkIEpTT04gc3RyaW5nIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG9iaiA9IGlucHV0OwogICAgICB9CgogICAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eSgndmVyc2lvbicpIHx8IG9iai52ZXJzaW9uICE9PSBBZGRyZXNzQm9vay52ZXJzaW9uKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBjcmVhdGluZyBBZGRyZXNzQm9vazogdmVyc2lvbnMgZG9uJ3QgbWF0Y2giKTsKICAgICAgfQoKICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoJ2NvbnRhY3RzJykgfHwgIUFycmF5LmlzQXJyYXkob2JqLmNvbnRhY3RzKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiRXJyb3IgY3JlYXRpbmcgQWRkcmVzc0Jvb2s6IHByb3BlcnR5IGNvbnRhY3RzIG5vdCBmb3VuZCIpOwogICAgICB9CgogICAgICB2YXIgYWRkcmVzc0Jvb2sgPSBuZXcgQWRkcmVzc0Jvb2soKTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmouY29udGFjdHMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgY29udGFjdCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICghY29udGFjdC5oYXNPd25Qcm9wZXJ0eSgnaWQnKSB8fCAhY29udGFjdC5oYXNPd25Qcm9wZXJ0eSgnbmFtZScpIHx8ICFjb250YWN0Lmhhc093blByb3BlcnR5KCdhZGRyZXNzJykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFcnJvciBjcmVhdGluZyBBZGRyZXNzQm9vazogY29udGFjdCBoYXMgYW4gaW52YWxpZCBmb3JtYXQiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBhZGRyZXNzQm9vay5hZGRDb250YWN0KGNvbnRhY3QpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gYWRkcmVzc0Jvb2s7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQWRkcmVzc0Jvb2s7Cn0oKTsKLyoqIEFkZHJlc3MgYm9vayB2ZXJzaW9uICovCgpBZGRyZXNzQm9vay52ZXJzaW9uID0gMTsKLyoqCiAqIFV0aWwgZnVuY3Rpb24gdG8gdWdsaWZ5IGFuIGFkZHJlc3MKICogQHBhcmFtIGFkZHJlc3MKICovCgp2YXIgdWdsaWZ5QWRkcmVzcyA9IGZ1bmN0aW9uIHVnbGlmeUFkZHJlc3MoYWRkcmVzcykgewogIHJldHVybiBhZGRyZXNzLnJlcGxhY2UoLy0vZywgJycpOwp9OwoKdmFyIHV1aWR2NCA9IGZ1bmN0aW9uIHV1aWR2NCgpIHsKICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLAogICAgICAgIHYgPSBjID09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4OwogICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpOwogIH0pOwp9Ow=="},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/symbol-address-book/AddressBook.ts"],"names":[],"mappings":"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","sourcesContent":["import {IContact} from \"./IContact\";\n\nexport class AddressBook {\n    /** Contacts index */\n    contacts: {[id: string]: IContact}\n    /** Address book version */\n    static version = 1;\n\n    constructor(contacts: IContact[] = []) {\n        this.contacts = contacts.reduce( (acc, contact) => {\n            acc[contact.id] = contact;\n            return acc;\n        }, {});\n    }\n\n    /**\n     * Get all contacts by a given address\n     */\n    getAllContacts() {\n        return Object.values(this.contacts);\n    }\n\n    /**\n     * Get all contacts by it's id\n     * @param id\n     */\n    getContactById(id: string): IContact  | undefined {\n        return this.contacts[id];\n    }\n\n    /**\n     * Get all contacts by a given address\n     * @param address\n     */\n    getContactByAddress(address: string): IContact  | undefined {\n        return Object.values(this.contacts).find( c => c.address === address || uglifyAddress(c.address) === uglifyAddress(address));\n    }\n\n    /**\n     * Add new contact\n     * @param contact\n     */\n    addContact(contact: IContact): IContact {\n        contact.id = uuidv4();\n        this.contacts[contact.id] = contact;\n        return contact;\n    }\n\n    /**\n     * Remove contact by its id\n     * @param id\n     */\n    removeContact(id: string): IContact[] {\n        delete this.contacts[id];\n        return Object.values(this.contacts);\n    }\n\n    /**\n     * Update a contact by id\n     * @param id\n     * @param newContact\n     */\n    updateContact(id: string, newContact: IContact): IContact {\n        this.contacts[id] = newContact;\n        return newContact;\n    }\n\n    /**\n     * Export AddressBook to JSON format\n     * @param pretty\n     */\n    toJSON(pretty: boolean = true): string {\n        return JSON.stringify({\n            version: AddressBook.version,\n            contacts: Object.values(this.contacts)\n        }, null, pretty ? '\\t' : '');\n    }\n\n    /**\n     * Import AddressBook from JSON format\n     * @param input\n     */\n    static fromJSON(input: string | Object): AddressBook {\n        let obj: any;\n        if (typeof input === 'string') {\n            try {\n                obj = JSON.parse(input);\n            } catch (e) {\n                throw new Error(\"Error creating AddressBook: invalid JSON string\");\n            }\n        } else {\n            obj = input;\n        }\n        if (!obj.hasOwnProperty('version') || obj.version !== AddressBook.version) {\n            throw new Error(\"Error creating AddressBook: versions don't match\");\n        }\n        if (!obj.hasOwnProperty('contacts') || !Array.isArray(obj.contacts)) {\n            throw new Error(\"Error creating AddressBook: property contacts not found\");\n        }\n        const addressBook = new AddressBook();\n        for (let contact of obj.contacts) {\n            if (!contact.hasOwnProperty('id') || !contact.hasOwnProperty('name') || !contact.hasOwnProperty('address')) {\n                throw new Error(\"Error creating AddressBook: contact has an invalid format\");\n            }\n            addressBook.addContact(contact);\n        }\n        return addressBook;\n    }\n}\n\n/**\n * Util function to uglify an address\n * @param address\n */\nconst uglifyAddress = (address: string) => {\n    return address.replace(/-/g, '');\n}\n\nconst uuidv4 = (): string => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n"],"sourceRoot":""}]}