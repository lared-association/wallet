{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/pages/profiles/import-profile/account-selection/AccountSelectionTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/pages/profiles/import-profile/account-selection/AccountSelectionTs.ts","mtime":1606213958977},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgpmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAiZnVuY3Rpb24iICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9CgpmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfQoKZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsKICBmdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7CiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICJ1bmRlZmluZWQiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOwogICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsKICAgIGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOwoKICAgIHRyeSB7CiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLAogICAgICAgIHJlc3VsdDsKCiAgICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsKICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsKCiAgICAgIHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7CiAgICB9IGVsc2UgewogICAgICByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOwogIH07Cn0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfQoKZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsgfSByZXR1cm4gc2VsZjsgfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKaW1wb3J0IHsgX19hd2FpdGVyLCBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IFNpbXBsZVdhbGxldCB9IGZyb20gJ3N5bWJvbC1zZGsnOwppbXBvcnQgeyBNbmVtb25pY1Bhc3NQaHJhc2UgfSBmcm9tICdzeW1ib2wtaGQtd2FsbGV0cyc7IC8vIGludGVybmFsIGRlcGVuZGVuY2llcwoKaW1wb3J0IHsgQWNjb3VudFR5cGUgfSBmcm9tICdAL2NvcmUvZGF0YWJhc2UvZW50aXRpZXMvQWNjb3VudE1vZGVsJzsKaW1wb3J0IHsgRGVyaXZhdGlvblBhdGhMZXZlbHMsIERlcml2YXRpb25TZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9EZXJpdmF0aW9uU2VydmljZSc7CmltcG9ydCB7IEFjY291bnRTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9BY2NvdW50U2VydmljZSc7CmltcG9ydCB7IE5vdGlmaWNhdGlvblR5cGUgfSBmcm9tICdAL2NvcmUvdXRpbHMvTm90aWZpY2F0aW9uVHlwZSc7CmltcG9ydCB7IEZvcm1hdHRlcnMgfSBmcm9tICdAL2NvcmUvdXRpbHMvRm9ybWF0dGVycyc7IC8vIGNoaWxkIGNvbXBvbmVudHMKLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE1vc2FpY0Ftb3VudERpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL01vc2FpY0Ftb3VudERpc3BsYXkvTW9zYWljQW1vdW50RGlzcGxheS52dWUnOwppbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvUHJvZmlsZVNlcnZpY2UnOwppbXBvcnQgeyBTaW1wbGVPYmplY3RTdG9yYWdlIH0gZnJvbSAnQC9jb3JlL2RhdGFiYXNlL2JhY2tlbmRzL1NpbXBsZU9iamVjdFN0b3JhZ2UnOwoKdmFyIEFjY291bnRTZWxlY3Rpb25UcyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhBY2NvdW50U2VsZWN0aW9uVHMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFjY291bnRTZWxlY3Rpb25Ucyk7CgogIGZ1bmN0aW9uIEFjY291bnRTZWxlY3Rpb25UcygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjb3VudFNlbGVjdGlvblRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgLyoqCiAgICAgKiBGb3JtYXR0aW5nIGhlbHBlcnMKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqLwoKICAgIF90aGlzLmZvcm1hdHRlcnMgPSBGb3JtYXR0ZXJzOwogICAgLyoqCiAgICAgKiBQcm9maWxlIHNlcnZpY2UKICAgICAqIEB2YXIge1Byb2ZpbGVTZXJ2aWNlfQogICAgICovCgogICAgX3RoaXMucHJvZmlsZVNlcnZpY2UgPSBuZXcgUHJvZmlsZVNlcnZpY2UoKTsKICAgIC8qKgogICAgICogQmFsYW5jZXMgbWFwCiAgICAgKiBAdmFyIHthbnl9CiAgICAgKi8KCiAgICBfdGhpcy5hZGRyZXNzTW9zYWljTWFwID0ge307CiAgICAvKioKICAgICAqIExpc3Qgb2YgYWRkcmVzc2VzCiAgICAgKiBAdmFyIHtBZGRyZXNzW119CiAgICAgKi8KCiAgICBfdGhpcy5hZGRyZXNzZXNMaXN0ID0gW107CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIEhvb2sgY2FsbGVkIHdoZW4gdGhlIHBhZ2UgaXMgbW91bnRlZAogICAqIEByZXR1cm4ge3ZvaWR9CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoQWNjb3VudFNlbGVjdGlvblRzLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5kZXJpdmF0aW9uID0gbmV3IERlcml2YXRpb25TZXJ2aWNlKCk7CiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gbmV3IEFjY291bnRTZXJ2aWNlKCk7CiAgICAgICAgICAgICAgICBWdWUubmV4dFRpY2soKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pbml0QWNjb3VudHMoKTsKICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInByZXZpb3VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2aW91cygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdwcm9maWxlcy5pbXBvcnRQcm9maWxlLmltcG9ydE1uZW1vbmljJwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogRmluYWxpemUgdGhlIGFjY291bnQgc2VsZWN0aW9uIHByb2Nlc3MgYnkgYWRkaW5nCiAgICAgKiB0aGUgc2VsZWN0ZWQgYWNjb3VudHMgdG8gc3RvcmFnZS4KICAgICAqIEByZXR1cm4ge3ZvaWR9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic3VibWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gY2Fubm90IHN1Ym1pdCB3aXRob3V0IHNlbGVjdGluZyBhdCBsZWFzdCBvbmUgYWNjb3VudAogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRBY2NvdW50cy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCBOb3RpZmljYXRpb25UeXBlLklOUFVUX0VNUFRZX0VSUk9SKTsKICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICAvLyBjcmVhdGUgYWNjb3VudCBtb2RlbHMKICAgICAgICB2YXIgYWNjb3VudHMgPSB0aGlzLmNyZWF0ZUFjY291bnRzRnJvbVBhdGhJbmRleGVzKHRoaXMuc2VsZWN0ZWRBY2NvdW50cyk7IC8vIHNhdmUgbmV3bHkgY3JlYXRlZCBhY2NvdW50cwoKICAgICAgICBhY2NvdW50cy5mb3JFYWNoKGZ1bmN0aW9uIChhY2NvdW50LCBpbmRleCkgewogICAgICAgICAgLy8gU3RvcmUgYWNjb3VudHMgdXNpbmcgcmVwb3NpdG9yeQogICAgICAgICAgX3RoaXMzLmFjY291bnRTZXJ2aWNlLnNhdmVBY2NvdW50KGFjY291bnQpOyAvLyBzZXQgY3VycmVudCBhY2NvdW50CgoKICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgICBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCdhY2NvdW50L1NFVF9DVVJSRU5UX0FDQ09VTlQnLCBhY2NvdW50KTsKICAgICAgICAgIH0gLy8gYWRkIGFjY291bnRzIHRvIHByb2ZpbGUKCgogICAgICAgICAgX3RoaXMzLiRzdG9yZS5kaXNwYXRjaCgncHJvZmlsZS9BRERfQUNDT1VOVCcsIGFjY291bnQpOwogICAgICAgIH0pOyAvLyBnZXQgYWNjb3VudHMgaWRlbnRpZmllcnMKCiAgICAgICAgdmFyIGFjY291bnRJZGVudGlmaWVycyA9IGFjY291bnRzLm1hcChmdW5jdGlvbiAoYWNjb3VudCkgewogICAgICAgICAgcmV0dXJuIGFjY291bnQuaWQ7CiAgICAgICAgfSk7IC8vIHNldCBrbm93biBhY2NvdW50cwoKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC9TRVRfS05PV05fQUNDT1VOVFMnLCBhY2NvdW50SWRlbnRpZmllcnMpOwogICAgICAgIHRoaXMucHJvZmlsZVNlcnZpY2UudXBkYXRlQWNjb3VudHModGhpcy5jdXJyZW50UHJvZmlsZSwgYWNjb3VudElkZW50aWZpZXJzKTsgLy8gZXhlY3V0ZSBzdG9yZSBhY3Rpb25zCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZW1wb3JhcnkvUkVTRVRfU1RBVEUnKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9TVUNDRVNTJywgTm90aWZpY2F0aW9uVHlwZS5PUEVSQVRJT05fU1VDQ0VTUyk7CiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdwcm9maWxlcy5pbXBvcnRQcm9maWxlLmZpbmFsaXplJwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9FUlJPUicsIGVycm9yKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGZXRjaCBhY2NvdW50IGJhbGFuY2VzIGFuZCBtYXAgdG8gYWRkcmVzcwogICAgICogQHJldHVybiB7dm9pZH0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpbml0QWNjb3VudHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRBY2NvdW50cygpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVwb3NpdG9yeUZhY3RvcnksIGFjY291bnRzSW5mbzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIC0gZ2VuZXJhdGUgYWRkcmVzc2VzCiAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3Nlc0xpc3QgPSB0aGlzLmFjY291bnRTZXJ2aWNlLmdldEFkZHJlc3Nlc0Zyb21NbmVtb25pYyhuZXcgTW5lbW9uaWNQYXNzUGhyYXNlKHRoaXMuY3VycmVudE1uZW1vbmljKSwgdGhpcy5jdXJyZW50UHJvZmlsZS5uZXR3b3JrVHlwZSwgMTApOwogICAgICAgICAgICAgICAgcmVwb3NpdG9yeUZhY3RvcnkgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWyduZXR3b3JrL3JlcG9zaXRvcnlGYWN0b3J5J107IC8vIGZldGNoIGFjY291bnRzIGluZm8KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3NpdG9yeUZhY3RvcnkuY3JlYXRlQWNjb3VudFJlcG9zaXRvcnkoKS5nZXRBY2NvdW50c0luZm8odGhpcy5hZGRyZXNzZXNMaXN0KS50b1Byb21pc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYWNjb3VudHNJbmZvID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGFjY291bnRzSW5mbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gbWFwIGJhbGFuY2VzCiAgICAgICAgICAgICAgICB0aGlzLmFkZHJlc3NNb3NhaWNNYXAgPSB0aGlzLm1hcEJhbGFuY2VCeUFkZHJlc3MoYWNjb3VudHNJbmZvLCB0aGlzLm5ldHdvcmtNb3NhaWMpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibWFwQmFsYW5jZUJ5QWRkcmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFwQmFsYW5jZUJ5QWRkcmVzcyhhY2NvdW50c0luZm8sIG1vc2FpYykgewogICAgICByZXR1cm4gYWNjb3VudHNJbmZvLm1hcChmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBtb3NhaWNzID0gX3JlZi5tb3NhaWNzLAogICAgICAgICAgICBhZGRyZXNzID0gX3JlZi5hZGRyZXNzOwogICAgICAgIC8vIC0gY2hlY2sgYmFsYW5jZQogICAgICAgIHZhciBoYXNOZXR3b3JrTW9zYWljID0gbW9zYWljcy5maW5kKGZ1bmN0aW9uIChtb3NhaWNPd25lZCkgewogICAgICAgICAgcmV0dXJuIG1vc2FpY093bmVkLmlkLmVxdWFscyhtb3NhaWMpOwogICAgICAgIH0pOyAvLyAtIGFjY291bnQgZG9lc24ndCBob2xkIG5ldHdvcmsgbW9zYWljIHNvIHRoZSBiYWxhbmNlIGlzIHplcm8KCiAgICAgICAgaWYgKGhhc05ldHdvcmtNb3NhaWMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcy5wbGFpbigpLAogICAgICAgICAgICBiYWxhbmNlOiAwCiAgICAgICAgICB9OwogICAgICAgIH0gLy8gLSBtYXAgYmFsYW5jZSB0byBhZGRyZXNzCgoKICAgICAgICB2YXIgYmFsYW5jZSA9IGhhc05ldHdvcmtNb3NhaWMuYW1vdW50LmNvbXBhY3QoKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYWRkcmVzczogYWRkcmVzcy5wbGFpbigpLAogICAgICAgICAgYmFsYW5jZTogYmFsYW5jZQogICAgICAgIH07CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfcmVmMikgewogICAgICAgIHZhciBhZGRyZXNzID0gX3JlZjIuYWRkcmVzcywKICAgICAgICAgICAgYmFsYW5jZSA9IF9yZWYyLmJhbGFuY2U7CiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWNjKSwgX2RlZmluZVByb3BlcnR5KHt9LCBhZGRyZXNzLCBiYWxhbmNlKSk7CiAgICAgIH0sIHt9KTsKICAgIH0KICAgIC8qKgogICAgICogQ3JlYXRlIGFuIGFjY291bnQgaW5zdGFuY2UgZnJvbSBtbmVtb25pYyBhbmQgcGF0aAogICAgICogQHJldHVybiB7QWNjb3VudE1vZGVsfQogICAgICovCgogIH0sIHsKICAgIGtleTogImNyZWF0ZUFjY291bnRzRnJvbVBhdGhJbmRleGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBY2NvdW50c0Zyb21QYXRoSW5kZXhlcyhpbmRleGVzKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHBhdGhzID0gaW5kZXhlcy5tYXAoZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgaWYgKGluZGV4ID09IDApIHsKICAgICAgICAgIHJldHVybiBBY2NvdW50U2VydmljZS5ERUZBVUxUX0FDQ09VTlRfUEFUSDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfdGhpczQuZGVyaXZhdGlvbi5pbmNyZW1lbnRQYXRoTGV2ZWwoQWNjb3VudFNlcnZpY2UuREVGQVVMVF9BQ0NPVU5UX1BBVEgsIERlcml2YXRpb25QYXRoTGV2ZWxzLlByb2ZpbGUsIGluZGV4KTsKICAgICAgfSk7CiAgICAgIHZhciBhY2NvdW50cyA9IHRoaXMuYWNjb3VudFNlcnZpY2UuZ2VuZXJhdGVBY2NvdW50c0Zyb21QYXRocyhuZXcgTW5lbW9uaWNQYXNzUGhyYXNlKHRoaXMuY3VycmVudE1uZW1vbmljKSwgdGhpcy5jdXJyZW50UHJvZmlsZS5uZXR3b3JrVHlwZSwgcGF0aHMpOwogICAgICB2YXIgc2ltcGxlV2FsbGV0cyA9IGFjY291bnRzLm1hcChmdW5jdGlvbiAoYWNjb3VudCwgaSkgewogICAgICAgIHJldHVybiBTaW1wbGVXYWxsZXQuY3JlYXRlRnJvbVByaXZhdGVLZXkoIlNlZWQgQWNjb3VudCAiLmNvbmNhdChpbmRleGVzW2ldICsgMSksIF90aGlzNC5jdXJyZW50UGFzc3dvcmQsIGFjY291bnQucHJpdmF0ZUtleSwgX3RoaXM0LmN1cnJlbnRQcm9maWxlLm5ldHdvcmtUeXBlKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBzaW1wbGVXYWxsZXRzLm1hcChmdW5jdGlvbiAoc2ltcGxlV2FsbGV0LCBpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBTaW1wbGVPYmplY3RTdG9yYWdlLmdlbmVyYXRlSWRlbnRpZmllcigpLAogICAgICAgICAgcHJvZmlsZU5hbWU6IF90aGlzNC5jdXJyZW50UHJvZmlsZS5wcm9maWxlTmFtZSwKICAgICAgICAgIG5hbWU6IHNpbXBsZVdhbGxldC5uYW1lLAogICAgICAgICAgbm9kZTogJycsCiAgICAgICAgICB0eXBlOiBBY2NvdW50VHlwZS5TRUVELAogICAgICAgICAgYWRkcmVzczogc2ltcGxlV2FsbGV0LmFkZHJlc3MucGxhaW4oKSwKICAgICAgICAgIHB1YmxpY0tleTogYWNjb3VudHNbaV0ucHVibGljS2V5LAogICAgICAgICAgZW5jcnlwdGVkUHJpdmF0ZUtleTogc2ltcGxlV2FsbGV0LmVuY3J5cHRlZFByaXZhdGVLZXksCiAgICAgICAgICBwYXRoOiBwYXRoc1tpXSwKICAgICAgICAgIGlzTXVsdGlzaWc6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIENhbGxlZCB3aGVuIGNsaWNraW5nIG9uIGFuIGFkZHJlc3MgdG8gYWRkIGl0IHRvIHRoZSBzZWxlY3Rpb24KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYXRoTnVtYmVyCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25BZGRBZGRyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkFkZEFkZHJlc3MocGF0aE51bWJlcikgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FjY291bnQvYWRkVG9TZWxlY3RlZEFkZHJlc3Nlc1RvSW50ZXJhY3QnLCBwYXRoTnVtYmVyKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBY2NvdW50U2VsZWN0aW9uVHM7Cn0oVnVlKTsKCkFjY291bnRTZWxlY3Rpb25UcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcHV0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIG1hcEdldHRlcnMoewogICAgbmV0d29ya1R5cGU6ICduZXR3b3JrL25ldHdvcmtUeXBlJywKICAgIG5ldHdvcmtNb3NhaWM6ICdtb3NhaWMvbmV0d29ya01vc2FpYycsCiAgICBuZXR3b3JrQ3VycmVuY3k6ICdtb3NhaWMvbmV0d29ya0N1cnJlbmN5JywKICAgIGN1cnJlbnRQcm9maWxlOiAncHJvZmlsZS9jdXJyZW50UHJvZmlsZScsCiAgICBjdXJyZW50UGFzc3dvcmQ6ICd0ZW1wb3JhcnkvcGFzc3dvcmQnLAogICAgY3VycmVudE1uZW1vbmljOiAndGVtcG9yYXJ5L21uZW1vbmljJywKICAgIHNlbGVjdGVkQWNjb3VudHM6ICdhY2NvdW50L3NlbGVjdGVkQWRkcmVzc2VzVG9JbnRlcmFjdCcKICB9KSksCiAgY29tcG9uZW50czogewogICAgTW9zYWljQW1vdW50RGlzcGxheTogTW9zYWljQW1vdW50RGlzcGxheQogIH0KfSldLCBBY2NvdW50U2VsZWN0aW9uVHMpOwpleHBvcnQgZGVmYXVsdCBBY2NvdW50U2VsZWN0aW9uVHM7"},{"version":3,"sources":["/home/hero/lared-wallet/src/views/pages/profiles/import-profile/account-selection/AccountSelectionTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Component, Vue } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport { AccountInfo, Address, MosaicId, Password, RepositoryFactory, SimpleWallet } from 'symbol-sdk';\nimport { MnemonicPassPhrase } from 'symbol-hd-wallets';\n// internal dependencies\nimport { AccountModel, AccountType } from '@/core/database/entities/AccountModel';\nimport { DerivationPathLevels, DerivationService } from '@/services/DerivationService';\nimport { AccountService } from '@/services/AccountService';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { Formatters } from '@/core/utils/Formatters';\n// child components\n// @ts-ignore\nimport MosaicAmountDisplay from '@/components/MosaicAmountDisplay/MosaicAmountDisplay.vue';\nimport { NetworkCurrencyModel } from '@/core/database/entities/NetworkCurrencyModel';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\nimport { ProfileService } from '@/services/ProfileService';\nimport { SimpleObjectStorage } from '@/core/database/backends/SimpleObjectStorage';\n\n@Component({\n    computed: {\n        ...mapGetters({\n            networkType: 'network/networkType',\n            networkMosaic: 'mosaic/networkMosaic',\n            networkCurrency: 'mosaic/networkCurrency',\n            currentProfile: 'profile/currentProfile',\n            currentPassword: 'temporary/password',\n            currentMnemonic: 'temporary/mnemonic',\n            selectedAccounts: 'account/selectedAddressesToInteract',\n        }),\n    },\n    components: { MosaicAmountDisplay },\n})\nexport default class AccountSelectionTs extends Vue {\n    /**\n     * Formatting helpers\n     * @protected\n     */\n    protected formatters = Formatters;\n\n    /**\n     * Network's currency mosaic id\n     * @see {Store.Mosaic}\n     * @var {MosaicId}\n     */\n    public networkMosaic: MosaicId;\n\n    /**\n     * Currently active profile\n     * @see {Store.Profile}\n     * @var {string}\n     */\n    public currentProfile: ProfileModel;\n\n    /**\n     * Temporary stored password\n     * @see {Store.Temporary}\n     * @var {Password}\n     */\n    public currentPassword: Password;\n\n    /**\n     * Temporary stored mnemonic pass phrase\n     * @see {Store.Temporary}\n     * @var {MnemonicPassPhrase}\n     */\n    public currentMnemonic: string;\n\n    /**\n     * Derivation Service\n     * @var {DerivationService}\n     */\n    public derivation: DerivationService;\n\n    /**\n     * Account Service\n     * @var {AccountService}\n     */\n    public accountService: AccountService;\n\n    /**\n     * Profile service\n     * @var {ProfileService}\n     */\n    public profileService: ProfileService = new ProfileService();\n\n    /**\n     * Balances map\n     * @var {any}\n     */\n    public addressMosaicMap = {};\n\n    /**\n     * Map of selected accounts\n     * @var {number[]}\n     */\n    public selectedAccounts: number[];\n\n    /**\n     * List of addresses\n     * @var {Address[]}\n     */\n    public addressesList: Address[] = [];\n\n    public networkCurrency: NetworkCurrencyModel;\n\n    /**\n     * Hook called when the page is mounted\n     * @return {void}\n     */\n    async mounted() {\n        this.derivation = new DerivationService();\n        this.accountService = new AccountService();\n\n        Vue.nextTick().then(() => {\n            setTimeout(() => this.initAccounts(), 200);\n        });\n    }\n\n    public previous() {\n        this.$router.push({ name: 'profiles.importProfile.importMnemonic' });\n    }\n\n    /**\n     * Finalize the account selection process by adding\n     * the selected accounts to storage.\n     * @return {void}\n     */\n    public submit() {\n        // cannot submit without selecting at least one account\n        if (!this.selectedAccounts.length) {\n            return this.$store.dispatch('notification/ADD_ERROR', NotificationType.INPUT_EMPTY_ERROR);\n        }\n\n        try {\n            // create account models\n            const accounts = this.createAccountsFromPathIndexes(this.selectedAccounts);\n\n            // save newly created accounts\n            accounts.forEach((account, index) => {\n                // Store accounts using repository\n                this.accountService.saveAccount(account);\n                // set current account\n                if (index === 0) {\n                    this.$store.dispatch('account/SET_CURRENT_ACCOUNT', account);\n                }\n                // add accounts to profile\n                this.$store.dispatch('profile/ADD_ACCOUNT', account);\n            });\n\n            // get accounts identifiers\n            const accountIdentifiers = accounts.map((account) => account.id);\n\n            // set known accounts\n            this.$store.dispatch('account/SET_KNOWN_ACCOUNTS', accountIdentifiers);\n\n            this.profileService.updateAccounts(this.currentProfile, accountIdentifiers);\n\n            // execute store actions\n            this.$store.dispatch('temporary/RESET_STATE');\n            this.$store.dispatch('notification/ADD_SUCCESS', NotificationType.OPERATION_SUCCESS);\n            return this.$router.push({ name: 'profiles.importProfile.finalize' });\n        } catch (error) {\n            return this.$store.dispatch('notification/ADD_ERROR', error);\n        }\n    }\n\n    /**\n     * Fetch account balances and map to address\n     * @return {void}\n     */\n    private async initAccounts() {\n        // - generate addresses\n        this.addressesList = this.accountService.getAddressesFromMnemonic(\n            new MnemonicPassPhrase(this.currentMnemonic),\n            this.currentProfile.networkType,\n            10,\n        );\n        const repositoryFactory = this.$store.getters['network/repositoryFactory'] as RepositoryFactory;\n        // fetch accounts info\n        const accountsInfo = await repositoryFactory.createAccountRepository().getAccountsInfo(this.addressesList).toPromise();\n        if (!accountsInfo) {\n            return;\n        }\n        // map balances\n        this.addressMosaicMap = this.mapBalanceByAddress(accountsInfo, this.networkMosaic);\n    }\n\n    public mapBalanceByAddress(accountsInfo: AccountInfo[], mosaic: MosaicId): Record<string, number> {\n        return accountsInfo\n            .map(({ mosaics, address }) => {\n                // - check balance\n                const hasNetworkMosaic = mosaics.find((mosaicOwned) => mosaicOwned.id.equals(mosaic));\n\n                // - account doesn't hold network mosaic so the balance is zero\n                if (hasNetworkMosaic === undefined) {\n                    return {\n                        address: address.plain(),\n                        balance: 0,\n                    };\n                }\n                // - map balance to address\n                const balance = hasNetworkMosaic.amount.compact();\n                return {\n                    address: address.plain(),\n                    balance: balance,\n                };\n            })\n            .reduce((acc, { address, balance }) => ({ ...acc, [address]: balance }), {});\n    }\n\n    /**\n     * Create an account instance from mnemonic and path\n     * @return {AccountModel}\n     */\n    private createAccountsFromPathIndexes(indexes: number[]): AccountModel[] {\n        const paths = indexes.map((index) => {\n            if (index == 0) {\n                return AccountService.DEFAULT_ACCOUNT_PATH;\n            }\n\n            return this.derivation.incrementPathLevel(AccountService.DEFAULT_ACCOUNT_PATH, DerivationPathLevels.Profile, index);\n        });\n\n        const accounts = this.accountService.generateAccountsFromPaths(\n            new MnemonicPassPhrase(this.currentMnemonic),\n            this.currentProfile.networkType,\n            paths,\n        );\n\n        const simpleWallets = accounts.map((account, i) =>\n            SimpleWallet.createFromPrivateKey(\n                `Seed Account ${indexes[i] + 1}`,\n                this.currentPassword,\n                account.privateKey,\n                this.currentProfile.networkType,\n            ),\n        );\n\n        return simpleWallets.map((simpleWallet, i) => {\n            return {\n                id: SimpleObjectStorage.generateIdentifier(),\n                profileName: this.currentProfile.profileName,\n                name: simpleWallet.name,\n                node: '',\n                type: AccountType.SEED,\n                address: simpleWallet.address.plain(),\n                publicKey: accounts[i].publicKey,\n                encryptedPrivateKey: simpleWallet.encryptedPrivateKey,\n                path: paths[i],\n                isMultisig: false,\n            };\n        });\n    }\n\n    /**\n     * Called when clicking on an address to add it to the selection\n     * @param {number} pathNumber\n     */\n    protected onAddAddress(pathNumber: number): void {\n        this.$store.commit('account/addToSelectedAddressesToInteract', pathNumber);\n    }\n}\n"],"sourceRoot":""}]}