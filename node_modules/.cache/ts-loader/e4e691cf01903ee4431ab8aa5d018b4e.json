{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/core/utils/CSVHelpers.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/core/utils/CSVHelpers.ts","mtime":1606213958965},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCi8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KaW1wb3J0IHsgUGFyc2VyIH0gZnJvbSAnanNvbjJjc3YnOwppbXBvcnQgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZS9pbmRleC50cyc7CmltcG9ydCB7IFRyYW5zYWN0aW9uVmlld0ZhY3RvcnkgfSBmcm9tICdAL2NvcmUvdHJhbnNhY3Rpb25zL1RyYW5zYWN0aW9uVmlld0ZhY3RvcnknOwppbXBvcnQgeyBUcmFuc2FjdGlvblR5cGUgfSBmcm9tICdzeW1ib2wtc2RrJzsKaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnOwpleHBvcnQgdmFyIENTVkhlbHBlcnMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENTVkhlbHBlcnMoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ1NWSGVscGVycyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ1NWSGVscGVycywgbnVsbCwgW3sKICAgIGtleTogImNvbnN0cnVjdEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uc09iamVjdCIsCgogICAgLyoqCiAgICAgKiByZXR1cm5zIG9iamVjdCBvZiBhIHBhcnNlZCBhZ2dyZWdhdGUgdHJhbnNhY3Rpb24KICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiBhZ2dyZWdhdGUgdHJhbnNhY3Rpb24KICAgICAqIHJldHVybnMgbmV3IGFycmF5IHdpdGggcGFyc2VkIGFnZ3JlZ2F0ZSB0cmFuc2FjdGlvbiBvYmplY3RzCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBjb25zdHJ1Y3RBZ2dyZWdhdGVUcmFuc2FjdGlvbnNPYmplY3QodHJhbnNhY3Rpb24pIHsKICAgICAgdmFyIG1lcmdlZCA9IHt9OwogICAgICB2YXIgcmVzdWx0ID0ge307CiAgICAgIHRoaXMudmlld3MgPSBbVHJhbnNhY3Rpb25WaWV3RmFjdG9yeS5nZXRWaWV3KHN0b3JlLCB0cmFuc2FjdGlvbildLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodHJhbnNhY3Rpb24uaW5uZXJUcmFuc2FjdGlvbnMubWFwKGZ1bmN0aW9uICh0eCkgewogICAgICAgIHJldHVybiBUcmFuc2FjdGlvblZpZXdGYWN0b3J5LmdldFZpZXcoc3RvcmUsIHR4KTsKICAgICAgfSkpKTsKICAgICAgdGhpcy52aWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHZhciBtZXJnZWRSb3cgPSB7fTsKICAgICAgICBtZXJnZWRSb3cgPSB2YWx1ZS5oZWFkZXJJdGVtcy5jb25jYXQodmFsdWUuZGV0YWlsSXRlbXMpOwogICAgICAgIG1lcmdlZCA9IF8uZGVmYXVsdHMobWVyZ2VkLCBtZXJnZWRSb3cpOwogICAgICB9KTsKICAgICAgdmFyIG1lcmdlZEFycmF5ID0gT2JqZWN0LmVudHJpZXMobWVyZ2VkKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVyZ2VkQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAobWVyZ2VkQXJyYXlbaV1bMV1bJ2tleSddID09ICdwYWlkX2ZlZScpIHsKICAgICAgICAgIHJlc3VsdFttZXJnZWRBcnJheVtpXVsxXVsna2V5J11dID0gbWVyZ2VkQXJyYXlbaV1bMV1bJ3ZhbHVlJ10ubWF4RmVlLmNvbXBhY3QoKS50b1N0cmluZygpOwogICAgICAgIH0gZWxzZSBpZiAobWVyZ2VkQXJyYXlbaV1bMV1bJ2tleSddID09ICd0cmFuc2Zlcl90YXJnZXQnKSB7CiAgICAgICAgICByZXN1bHRbbWVyZ2VkQXJyYXlbaV1bJ2tleSddXSA9IG1lcmdlZEFycmF5W2ldWzFdWyd2YWx1ZSddLmFkZHJlc3M7CiAgICAgICAgfSBlbHNlIGlmIChtZXJnZWRBcnJheVtpXVsxXVsna2V5J10gPT0gJ2Jsb2NrX2hlaWdodCcpIHsKICAgICAgICAgIHJlc3VsdFttZXJnZWRBcnJheVtpXVsna2V5J11dID0gbWVyZ2VkQXJyYXlbaV1bMV1bJ3ZhbHVlJ10ucmVwbGFjZSgnIycsICcnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0W21lcmdlZEFycmF5W2ldWzFdWydrZXknXV0gPSBtZXJnZWRBcnJheVtpXVsxXVsndmFsdWUnXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN0cnVjdHMgdHJhbnNhY3Rpb24gb2JqZWN0CiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gYSB0cmFuc2FjdGlvbgogICAgICogcmV0dXJucyBvYmplY3Qgb2YgYSBwYXJzZWQgdHJhbnNhY3Rpb24KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjb25zdHJ1Y3RUcmFuc2FjdGlvbnNPYmplY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnN0cnVjdFRyYW5zYWN0aW9uc09iamVjdCh0cmFuc2FjdGlvbikgewogICAgICB0aGlzLnZpZXdzID0gW1RyYW5zYWN0aW9uVmlld0ZhY3RvcnkuZ2V0VmlldyhzdG9yZSwgdHJhbnNhY3Rpb24pXTsKICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICB2YXIgdmFsdWUgPSB0aGlzLnZpZXdzWzBdLmhlYWRlckl0ZW1zLmNvbmNhdCh0aGlzLnZpZXdzWzBdLmRldGFpbEl0ZW1zKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWVbaV0ua2V5ID09ICdwYWlkX2ZlZScpIHsKICAgICAgICAgIHJlc3VsdFt2YWx1ZVtpXS5rZXldID0gdmFsdWVbaV0udmFsdWUubWF4RmVlLmNvbXBhY3QoKS50b1N0cmluZygpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWVbaV0ua2V5ID09ICd0cmFuc2Zlcl90YXJnZXQnKSB7CiAgICAgICAgICByZXN1bHRbdmFsdWVbaV0ua2V5XSA9IHZhbHVlW2ldLnZhbHVlLmFkZHJlc3M7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVtpXS5rZXkuc3RhcnRzV2l0aCgnTW9zYWljJykpIHsKICAgICAgICAgIHJlc3VsdFt2YWx1ZVtpXS5rZXldID0gdmFsdWVbaV0udmFsdWUuYW1vdW50ICsgJyAoJyArIHZhbHVlW2ldLnZhbHVlLm1vc2FpY0hleCArICcpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0W3ZhbHVlW2ldLmtleV0gPSB2YWx1ZVtpXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEV4cG9ydCB0byBjc3YgZmlsZQogICAgICogQHBhcmFtIGRhdGEgYXJyYXkgb2YgcGFyc3NlZCB0cmFuc2FjdGlvbnMKICAgICAqIHJldHVybnMgbmV3IGFycmF5IHdpdGggcGFyc2VkIHRyYW5zYWN0aW9uIG9iamVjdHMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwcmVwYXJlVHJhbnNhY3Rpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVwYXJlVHJhbnNhY3Rpb25zKGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudHJhbnNhY3Rpb25zQXJyYXkgPSBbXTsKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFuc2FjdGlvbikgewogICAgICAgIHZhciByZXN1bHQgPSB7fTsKCiAgICAgICAgaWYgKHRyYW5zYWN0aW9uWyd0eXBlJ10gPT0gVHJhbnNhY3Rpb25UeXBlLkFHR1JFR0FURV9CT05ERUQgfHwgdHJhbnNhY3Rpb25bJ3R5cGUnXSA9PSBUcmFuc2FjdGlvblR5cGUuQUdHUkVHQVRFX0NPTVBMRVRFKSB7CiAgICAgICAgICByZXN1bHQgPSBfdGhpcy5jb25zdHJ1Y3RBZ2dyZWdhdGVUcmFuc2FjdGlvbnNPYmplY3QodHJhbnNhY3Rpb24pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgPSBfdGhpcy5jb25zdHJ1Y3RUcmFuc2FjdGlvbnNPYmplY3QodHJhbnNhY3Rpb24pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMudHJhbnNhY3Rpb25zQXJyYXkucHVzaChyZXN1bHQpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb25zQXJyYXk7CiAgICB9CiAgICAvKioKICAgICAqIEV4cG9ydCB0byBjc3YgZmlsZQogICAgICogQHBhcmFtIGRhdGEgVGhlIGpzb24gZGF0YQogICAgICogQHBhcmFtIGZpbGVuYW1lIFByZWZpeCB0aGUgbmFtZSBvZiB0aGUgQ1NWIGZpbGUKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJleHBvcnRDU1YiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydENTVihkYXRhLCBmaWxlbmFtZSkgewogICAgICB2YXIganNvbjJjc3ZQYXJzZXIgPSBuZXcgUGFyc2VyKCk7CiAgICAgIHZhciBwYXJzZWRUcmFuc2FjdGlvbnMgPSB0aGlzLnByZXBhcmVUcmFuc2FjdGlvbnMoZGF0YSk7CiAgICAgIHZhciBjc3ZEYXRhID0ganNvbjJjc3ZQYXJzZXIucGFyc2UocGFyc2VkVHJhbnNhY3Rpb25zKTsKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbIlx1RkVGRiIgKyBjc3ZEYXRhXSwgewogICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTg7JwogICAgICB9KTsKICAgICAgdmFyIGV4cG9ydEZpbGVuYW1lID0gIiIuY29uY2F0KGZpbGVuYW1lLCAiLSIpLmNvbmNhdChEYXRlLm5vdygpLCAiLmNzdiIpOwogICAgICByZXR1cm4gRmlsZVNhdmVyLnNhdmVBcyhibG9iLCBleHBvcnRGaWxlbmFtZSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQ1NWSGVscGVyczsKfSgpOwpDU1ZIZWxwZXJzLnZpZXdzID0gW107CkNTVkhlbHBlcnMudHJhbnNhY3Rpb25zQXJyYXkgPSBbXTs="},{"version":3,"sources":["/home/hero/lared-wallet/src/core/utils/CSVHelpers.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Parser } from 'json2csv';\nimport FileSaver from 'file-saver';\nimport store from '@/store/index.ts';\nimport { TransactionViewFactory } from '@/core/transactions/TransactionViewFactory';\nimport { TransactionView } from '@/core/transactions/TransactionView';\nimport { AggregateTransaction, Transaction, TransactionType } from 'symbol-sdk';\nimport * as _ from 'lodash';\n\nexport class CSVHelpers {\n    protected static views: TransactionView<Transaction>[] = [];\n    private static transactionsArray = [];\n\n    /**\n     * returns object of a parsed aggregate transaction\n     * @param transaction aggregate transaction\n     * returns new array with parsed aggregate transaction objects\n     */\n    private static constructAggregateTransactionsObject(transaction: AggregateTransaction) {\n        let merged = {};\n        const result = {};\n        this.views = [\n            TransactionViewFactory.getView(store, transaction),\n            ...transaction.innerTransactions.map((tx) => TransactionViewFactory.getView(store, tx)),\n        ];\n        this.views.forEach((value) => {\n            let mergedRow = {};\n            mergedRow = value.headerItems.concat(value.detailItems);\n            merged = _.defaults(merged, mergedRow);\n        });\n\n        const mergedArray = Object.entries(merged);\n        for (let i = 0; i < mergedArray.length; i++) {\n            if (mergedArray[i][1]['key'] == 'paid_fee') {\n                result[mergedArray[i][1]['key']] = mergedArray[i][1]['value'].maxFee.compact().toString();\n            } else if (mergedArray[i][1]['key'] == 'transfer_target') {\n                result[mergedArray[i]['key']] = mergedArray[i][1]['value'].address;\n            } else if (mergedArray[i][1]['key'] == 'block_height') {\n                result[mergedArray[i]['key']] = mergedArray[i][1]['value'].replace('#', '');\n            } else {\n                result[mergedArray[i][1]['key']] = mergedArray[i][1]['value'];\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Constructs transaction object\n     * @param transaction a transaction\n     * returns object of a parsed transaction\n     */\n    private static constructTransactionsObject(transaction: Transaction) {\n        this.views = [TransactionViewFactory.getView(store, transaction)];\n        const result = {};\n        const value = this.views[0].headerItems.concat(this.views[0].detailItems);\n        for (let i = 0; i < value.length; i++) {\n            if (value[i].key == 'paid_fee') {\n                result[value[i].key] = value[i].value.maxFee.compact().toString();\n            } else if (value[i].key == 'transfer_target') {\n                result[value[i].key] = value[i].value.address;\n            } else if (value[i].key.startsWith('Mosaic')) {\n                result[value[i].key] = value[i].value.amount + ' (' + value[i].value.mosaicHex + ')';\n            } else {\n                result[value[i].key] = value[i].value;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Export to csv file\n     * @param data array of parssed transactions\n     * returns new array with parsed transaction objects\n     */\n\n    private static prepareTransactions(data: []): any[] {\n        this.transactionsArray = [];\n        data.forEach((transaction) => {\n            let result = {};\n            if (transaction['type'] == TransactionType.AGGREGATE_BONDED || transaction['type'] == TransactionType.AGGREGATE_COMPLETE) {\n                result = this.constructAggregateTransactionsObject(transaction);\n            } else {\n                result = this.constructTransactionsObject(transaction);\n            }\n            this.transactionsArray.push(result);\n        });\n        return this.transactionsArray;\n    }\n\n    /**\n     * Export to csv file\n     * @param data The json data\n     * @param filename Prefix the name of the CSV file\n     */\n    public static exportCSV(data: any, filename: string) {\n        const json2csvParser = new Parser();\n        const parsedTransactions = this.prepareTransactions(data);\n        const csvData = json2csvParser.parse(parsedTransactions);\n        const blob = new Blob(['\\uFEFF' + csvData], { type: 'text/plain;charset=utf-8;' });\n        const exportFilename = `${filename}-${Date.now()}.csv`;\n        return FileSaver.saveAs(blob, exportFilename);\n    }\n}\n"],"sourceRoot":""}]}