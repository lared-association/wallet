{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/NetworkService.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/NetworkService.ts","mtime":1611927204262},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCmltcG9ydCB7IE5ldHdvcmtNb2RlbCB9IGZyb20gJ0AvY29yZS9kYXRhYmFzZS9lbnRpdGllcy9OZXR3b3JrTW9kZWwnOwppbXBvcnQgeyBSZXBvc2l0b3J5RmFjdG9yeUh0dHAgfSBmcm9tICdzeW1ib2wtc2RrJzsKaW1wb3J0IHsgVVJMSGVscGVycyB9IGZyb20gJ0AvY29yZS91dGlscy9VUkxIZWxwZXJzJzsKaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgZGVmZXIsIEVNUFRZLCBmcm9tIH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IGNhdGNoRXJyb3IsIGNvbmNhdE1hcCwgZmxhdE1hcCwgbWFwLCB0YWtlLCB0YXAsIGlzRW1wdHkgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgT2JzZXJ2YWJsZUhlbHBlcnMgfSBmcm9tICdAL2NvcmUvdXRpbHMvT2JzZXJ2YWJsZUhlbHBlcnMnOwppbXBvcnQgeyBuZXR3b3JrQ29uZmlnIH0gZnJvbSAnQC9jb25maWcnOwppbXBvcnQgeyBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMgfSBmcm9tICdAL2NvcmUvdXRpbHMvTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzJzsKaW1wb3J0IHsgTmV0d29ya01vZGVsU3RvcmFnZSB9IGZyb20gJ0AvY29yZS9kYXRhYmFzZS9zdG9yYWdlL05ldHdvcmtNb2RlbFN0b3JhZ2UnOwovKioKICogVGhlIHNlcnZpY2UgaW4gY2hhcmdlIG9mIGxvYWRpbmcgYW5kIGNhY2hpbmcgYW55dGhpbmcgcmVsYXRlZCB0byBOZXR3b3JrIGZyb20gUmVzdC4KICogVGhlIGNhY2hlIGlzIGRvbmUgYnkgc3RvcmluZyB0aGUgcGF5bG9hZHMgaW4gU2ltcGxlT2JqZWN0U3RvcmFnZS4KICovCgpleHBvcnQgdmFyIE5ldHdvcmtTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBOZXR3b3JrU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXR3b3JrU2VydmljZSk7CgogICAgLyoqCiAgICAgKiBUaGUgbmV0d29yayBpbmZvcm1hdGlvbiBsb2NhbCBjYWNoZS4KICAgICAqLwogICAgdGhpcy5zdG9yYWdlID0gTmV0d29ya01vZGVsU3RvcmFnZS5JTlNUQU5DRTsKICB9CiAgLyoqCiAgICogVGhlIGJlc3QgZGVmYXVsdCBVcmwuIEl0IHVzZXMgdGhlIHN0b3JlZCBjb25kaWd1cmF0aW9uIGlmIHBvc3NpYmxlLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKE5ldHdvcmtTZXJ2aWNlLCBbewogICAga2V5OiAiZ2V0RGVmYXVsdFVybCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVmYXVsdFVybCgpIHsKICAgICAgdmFyIHN0b3JlZE5ldHdvcmtNb2RlbCA9IHRoaXMuc3RvcmFnZS5nZXRMYXRlc3QoKTsKICAgICAgcmV0dXJuIFVSTEhlbHBlcnMuZm9ybWF0VXJsKHN0b3JlZE5ldHdvcmtNb2RlbCAmJiBzdG9yZWROZXR3b3JrTW9kZWwudXJsIHx8IG5ldHdvcmtDb25maWcuZGVmYXVsdE5vZGVVcmwpLnVybDsKICAgIH0KICAgIC8qKgogICAgICogVGhpcyBtZXRob2QgZ2V0IHRoZSBuZXR3b3JrIGRhdGEgZnJvbSB0aGUgcHJvdmlkZWQgVVJMLiBJZiB0aGUgc2VydmVyIGluIHRoZSBjYW5kaWRhdGVVcmwgaXMgZG93biwKICAgICAqIHRoZSBuZXh0IGF2YWlsYWJsZSB1cmwgd2lsbCBiZSB1c2VkLgogICAgICoKICAgICAqIEBwYXJhbSBjYW5kaWRhdGVVcmwgdGhlIG5ldyB1cmwuCiAgICAgKiBAcGFyYW0gZ2VuZXJhdGlvbkhhc2ggb2YgdGhlIGN1cnJlbnQgcHJvZmlsZQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldE5ldHdvcmtNb2RlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TmV0d29ya01vZGVsKGNhbmRpZGF0ZVVybCwgZ2VuZXJhdGlvbkhhc2gpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwb3NzaWJsZVVybHMgPSB0aGlzLnJlc29sdmVDYW5kaWRhdGVzKGNhbmRpZGF0ZVVybCwgdGhpcy5zdG9yYWdlLmdldChnZW5lcmF0aW9uSGFzaCkgfHwgdGhpcy5zdG9yYWdlLmdldExhdGVzdCgpKTsKICAgICAgdmFyIGlzQ2FuZGlkYXRlVXJsQXZhaWxhYmxlID0gdHJ1ZTsKICAgICAgdmFyIHJlcG9zaXRvcnlGYWN0b3J5T2JzZXJ2YWJsZSA9IGZyb20ocG9zc2libGVVcmxzKS5waXBlKGNvbmNhdE1hcChmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgaWYgKHVybCA9PT0gY2FuZGlkYXRlVXJsKSB7CiAgICAgICAgICBfdGhpcy5jcmVhdGVSZXBvc2l0b3J5RmFjdG9yeSh1cmwpLnBpcGUoaXNFbXB0eSgpKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGlzRW1wdHkpIHsKICAgICAgICAgICAgcmV0dXJuIGlzQ2FuZGlkYXRlVXJsQXZhaWxhYmxlID0gIWlzRW1wdHk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVSZXBvc2l0b3J5RmFjdG9yeSh1cmwpOwogICAgICB9KSkucGlwZSh0YWtlKDEpKTsKICAgICAgcmV0dXJuIHJlcG9zaXRvcnlGYWN0b3J5T2JzZXJ2YWJsZS5waXBlKGZsYXRNYXAoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgdXJsID0gX3JlZi51cmwsCiAgICAgICAgICAgIHJlcG9zaXRvcnlGYWN0b3J5ID0gX3JlZi5yZXBvc2l0b3J5RmFjdG9yeTsKICAgICAgICByZXR1cm4gcmVwb3NpdG9yeUZhY3RvcnkuZ2V0R2VuZXJhdGlvbkhhc2goKS5waXBlKGZsYXRNYXAoZnVuY3Rpb24gKGdlbmVyYXRpb25IYXNoKSB7CiAgICAgICAgICB2YXIgc3RvcmVkTmV0d29ya01vZGVsID0gX3RoaXMuc3RvcmFnZS5nZXQoZ2VuZXJhdGlvbkhhc2gpOwoKICAgICAgICAgIHZhciBuZXR3b3JrUmVwb3NpdG9yeSA9IHJlcG9zaXRvcnlGYWN0b3J5LmNyZWF0ZU5ldHdvcmtSZXBvc2l0b3J5KCk7CiAgICAgICAgICB2YXIgbm9kZVJlcG9zaXRvcnkgPSByZXBvc2l0b3J5RmFjdG9yeS5jcmVhdGVOb2RlUmVwb3NpdG9yeSgpOwogICAgICAgICAgdmFyIG5ldHdvcmtUeXBlT2JzZXJ2YWJsZSA9IHJlcG9zaXRvcnlGYWN0b3J5LmdldE5ldHdvcmtUeXBlKCkucGlwZShPYnNlcnZhYmxlSGVscGVycy5kZWZhdWx0TGFzdChzdG9yZWROZXR3b3JrTW9kZWwgJiYgc3RvcmVkTmV0d29ya01vZGVsLm5ldHdvcmtUeXBlIHx8IG5ldHdvcmtDb25maWcuZGVmYXVsdE5ldHdvcmtUeXBlKSk7CiAgICAgICAgICB2YXIgZ2VuZXJhdGlvbkhhc2hPYnNlcnZhYmxlID0gcmVwb3NpdG9yeUZhY3RvcnkuZ2V0R2VuZXJhdGlvbkhhc2goKS5waXBlKE9ic2VydmFibGVIZWxwZXJzLmRlZmF1bHRMYXN0KHN0b3JlZE5ldHdvcmtNb2RlbCAmJiBzdG9yZWROZXR3b3JrTW9kZWwuZ2VuZXJhdGlvbkhhc2gpKTsKICAgICAgICAgIHZhciBuZXR3b3JrUHJvcGVydGllc09ic2VydmFibGUgPSBuZXR3b3JrUmVwb3NpdG9yeS5nZXROZXR3b3JrUHJvcGVydGllcygpLnBpcGUobWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy50b05ldHdvcmtDb25maWd1cmF0aW9uTW9kZWwoZCk7CiAgICAgICAgICB9KSwgT2JzZXJ2YWJsZUhlbHBlcnMuZGVmYXVsdExhc3Qoc3RvcmVkTmV0d29ya01vZGVsICYmIHN0b3JlZE5ldHdvcmtNb2RlbC5uZXR3b3JrQ29uZmlndXJhdGlvbikpOwogICAgICAgICAgdmFyIG5vZGVJbmZvT2JzZXJ2YWJsZSA9IG5vZGVSZXBvc2l0b3J5LmdldE5vZGVJbmZvKCkucGlwZShPYnNlcnZhYmxlSGVscGVycy5kZWZhdWx0TGFzdChzdG9yZWROZXR3b3JrTW9kZWwgJiYgc3RvcmVkTmV0d29ya01vZGVsLm5vZGVJbmZvKSk7CiAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25GZWVzT2JzZXJ2YWJsZSA9IHJlcG9zaXRvcnlGYWN0b3J5LmNyZWF0ZU5ldHdvcmtSZXBvc2l0b3J5KCkuZ2V0VHJhbnNhY3Rpb25GZWVzKCkucGlwZShPYnNlcnZhYmxlSGVscGVycy5kZWZhdWx0TGFzdChzdG9yZWROZXR3b3JrTW9kZWwgJiYgc3RvcmVkTmV0d29ya01vZGVsLnRyYW5zYWN0aW9uRmVlcykpOwogICAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW25ldHdvcmtUeXBlT2JzZXJ2YWJsZSwgZ2VuZXJhdGlvbkhhc2hPYnNlcnZhYmxlLCBuZXR3b3JrUHJvcGVydGllc09ic2VydmFibGUsIG5vZGVJbmZvT2JzZXJ2YWJsZSwgdHJhbnNhY3Rpb25GZWVzT2JzZXJ2YWJsZV0pLnBpcGUobWFwKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgICB2YXIgX3JlZjMgPSBfc2xpY2VkVG9BcnJheShfcmVmMiwgNSksCiAgICAgICAgICAgICAgICBuZXR3b3JrVHlwZSA9IF9yZWYzWzBdLAogICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkhhc2ggPSBfcmVmM1sxXSwKICAgICAgICAgICAgICAgIG5ldHdvcmtQcm9wZXJ0aWVzID0gX3JlZjNbMl0sCiAgICAgICAgICAgICAgICBub2RlSW5mbyA9IF9yZWYzWzNdLAogICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25GZWVzID0gX3JlZjNbNF07CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGZhbGxiYWNrOiAhIWNhbmRpZGF0ZVVybCAmJiBjYW5kaWRhdGVVcmwgIT09IHVybCwKICAgICAgICAgICAgICBuZXR3b3JrTW9kZWw6IG5ldyBOZXR3b3JrTW9kZWwodXJsLCBuZXR3b3JrVHlwZSwgZ2VuZXJhdGlvbkhhc2gsIG5ldHdvcmtQcm9wZXJ0aWVzLCB0cmFuc2FjdGlvbkZlZXMsIG5vZGVJbmZvKSwKICAgICAgICAgICAgICByZXBvc2l0b3J5RmFjdG9yeTogcmVwb3NpdG9yeUZhY3RvcnksCiAgICAgICAgICAgICAgaXNDYW5kaWRhdGVVcmxBdmFpbGFibGU6IGlzQ2FuZGlkYXRlVXJsQXZhaWxhYmxlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KSwgdGFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5zdG9yYWdlLnNldChnZW5lcmF0aW9uSGFzaCwgcC5uZXR3b3JrTW9kZWwpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZVJlcG9zaXRvcnlGYWN0b3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZXBvc2l0b3J5RmFjdG9yeSh1cmwpIHsKICAgICAgY29uc29sZS5sb2coIlRlc3RpbmcgIi5jb25jYXQodXJsKSk7CiAgICAgIHZhciByZXBvc2l0b3J5RmFjdG9yeSA9IE5ldHdvcmtTZXJ2aWNlLmNyZWF0ZVJlcG9zaXRvcnlGYWN0b3J5KHVybCk7CiAgICAgIHJldHVybiBkZWZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHJlcG9zaXRvcnlGYWN0b3J5LmdldEdlbmVyYXRpb25IYXNoKCk7CiAgICAgIH0pLnBpcGUobWFwKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygiUGVlciAiLmNvbmNhdCh1cmwsICIgc2VlbXMgT0siKSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgcmVwb3NpdG9yeUZhY3Rvcnk6IHJlcG9zaXRvcnlGYWN0b3J5CiAgICAgICAgfTsKICAgICAgfSksIGNhdGNoRXJyb3IoZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZygiUGVlciAiLmNvbmNhdCh1cmwsICIgc2VlbXMgZG93bi4gSWdub3JpbmcuIEVycm9yOiAiKS5jb25jYXQoZS5tZXNzYWdlKSwgZSk7CiAgICAgICAgcmV0dXJuIEVNUFRZOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAidG9OZXR3b3JrQ29uZmlndXJhdGlvbk1vZGVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b05ldHdvcmtDb25maWd1cmF0aW9uTW9kZWwoZHRvKSB7CiAgICAgIHZhciBmaWxlRGVmYXVsdHMgPSBuZXR3b3JrQ29uZmlnLm5ldHdvcmtDb25maWd1cmF0aW9uRGVmYXVsdHM7CiAgICAgIHZhciBmcm9tRHRvID0gewogICAgICAgIGVwb2NoQWRqdXN0bWVudDogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLmVwb2NoQWRqdXN0bWVudChkdG8pLAogICAgICAgIG1heE1vc2FpY0RpdmlzaWJpbGl0eTogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLm1heE1vc2FpY0RpdmlzaWJpbGl0eShkdG8pLAogICAgICAgIG5hbWVzcGFjZUdyYWNlUGVyaW9kRHVyYXRpb246IE5ldHdvcmtDb25maWd1cmF0aW9uSGVscGVycy5uYW1lc3BhY2VHcmFjZVBlcmlvZER1cmF0aW9uKGR0byksCiAgICAgICAgbG9ja2VkRnVuZHNQZXJBZ2dyZWdhdGU6IE5ldHdvcmtDb25maWd1cmF0aW9uSGVscGVycy5sb2NrZWRGdW5kc1BlckFnZ3JlZ2F0ZShkdG8pLAogICAgICAgIG1heENvc2lnbmF0b3JpZXNQZXJBY2NvdW50OiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMubWF4Q29zaWduYXRvcmllc1BlckFjY291bnQoZHRvKSwKICAgICAgICBibG9ja0dlbmVyYXRpb25UYXJnZXRUaW1lOiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMuYmxvY2tHZW5lcmF0aW9uVGFyZ2V0VGltZShkdG8pLAogICAgICAgIG1heE5hbWVzcGFjZURlcHRoOiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMubWF4TmFtZXNwYWNlRGVwdGgoZHRvKSwKICAgICAgICBtYXhNb3NhaWNEdXJhdGlvbjogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLm1heE1vc2FpY0R1cmF0aW9uKGR0byksCiAgICAgICAgbWluTmFtZXNwYWNlRHVyYXRpb246IE5ldHdvcmtDb25maWd1cmF0aW9uSGVscGVycy5taW5OYW1lc3BhY2VEdXJhdGlvbihkdG8pLAogICAgICAgIG1heE5hbWVzcGFjZUR1cmF0aW9uOiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMubWF4TmFtZXNwYWNlRHVyYXRpb24oZHRvKSwKICAgICAgICBtYXhUcmFuc2FjdGlvbnNQZXJBZ2dyZWdhdGU6IE5ldHdvcmtDb25maWd1cmF0aW9uSGVscGVycy5tYXhUcmFuc2FjdGlvbnNQZXJBZ2dyZWdhdGUoZHRvKSwKICAgICAgICBtYXhDb3NpZ25lZEFjY291bnRzUGVyQWNjb3VudDogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLm1heENvc2lnbmVkQWNjb3VudHNQZXJBY2NvdW50KGR0byksCiAgICAgICAgbWF4TWVzc2FnZVNpemU6IE5ldHdvcmtDb25maWd1cmF0aW9uSGVscGVycy5tYXhNZXNzYWdlU2l6ZShkdG8pLAogICAgICAgIG1heE1vc2FpY0F0b21pY1VuaXRzOiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMubWF4TW9zYWljQXRvbWljVW5pdHMoZHRvKSwKICAgICAgICBjdXJyZW5jeU1vc2FpY0lkOiBOZXR3b3JrQ29uZmlndXJhdGlvbkhlbHBlcnMuY3VycmVuY3lNb3NhaWNJZChkdG8pLAogICAgICAgIGhhcnZlc3RpbmdNb3NhaWNJZDogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLmhhcnZlc3RpbmdNb3NhaWNJZChkdG8pLAogICAgICAgIGRlZmF1bHREeW5hbWljRmVlTXVsdGlwbGllcjogTmV0d29ya0NvbmZpZ3VyYXRpb25IZWxwZXJzLmRlZmF1bHREeW5hbWljRmVlTXVsdGlwbGllcihkdG8pCiAgICAgIH07CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZpbGVEZWZhdWx0cyksIGZyb21EdG8pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc29sdmVDYW5kaWRhdGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlQ2FuZGlkYXRlcyhuZXdVcmwsIHN0b3JlZE5ldHdvcmtNb2RlbCkgewogICAgICAvLyBTaG91bGQgd2UgbG9hZCBjYWNoZWQgY2FuZGlkYXRlcyBpbiB0aGUgbm9kZSB0YWJsZXM/CiAgICAgIHJldHVybiBfLnVuaXEoW25ld1VybCwgc3RvcmVkTmV0d29ya01vZGVsICYmIHN0b3JlZE5ldHdvcmtNb2RlbC51cmwsIG5ldHdvcmtDb25maWcuZGVmYXVsdE5vZGVVcmxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV0d29ya0NvbmZpZy5ub2Rlcy5tYXAoZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbi51cmw7CiAgICAgIH0pKSkuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAgIT09IHVuZGVmaW5lZCAmJiBwLmxlbmd0aDsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldChnZW5lcmF0aW9uSGFzaCkgewogICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlKGdlbmVyYXRpb25IYXNoKTsKICAgIH0KICAgIC8qKgogICAgICogSXQgY3JlYXRlcyB0aGUgUmVwb3NpdG9yeUZhY3RvcnkgdXNlZCB0byBidWlsZCB0aGUgaHR0cCByZXBvc2l0b3J5L2NsaWVudHMgYW5kIGxpc3RlbmVycy4KICAgICAqIEBwYXJhbSB1cmwgdGhlIHVybC4KICAgICAqLwoKICB9XSwgW3sKICAgIGtleTogImNyZWF0ZVJlcG9zaXRvcnlGYWN0b3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZXBvc2l0b3J5RmFjdG9yeSh1cmwpIHsKICAgICAgcmV0dXJuIG5ldyBSZXBvc2l0b3J5RmFjdG9yeUh0dHAodXJsLCB7CiAgICAgICAgd2Vic29ja2V0VXJsOiBVUkxIZWxwZXJzLmh0dHBUb1dzVXJsKHVybCkgKyAnL3dzJywKICAgICAgICB3ZWJzb2NrZXRJbmplY3RlZDogV2ViU29ja2V0CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE5ldHdvcmtTZXJ2aWNlOwp9KCk7"},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/services/NetworkService.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { NetworkModel } from '@/core/database/entities/NetworkModel';\nimport { NetworkConfiguration, RepositoryFactory, RepositoryFactoryHttp } from 'symbol-sdk';\nimport { URLHelpers } from '@/core/utils/URLHelpers';\nimport { combineLatest, defer, EMPTY, from, Observable } from 'rxjs';\nimport { catchError, concatMap, flatMap, map, take, tap, isEmpty } from 'rxjs/operators';\nimport * as _ from 'lodash';\n\nimport { ObservableHelpers } from '@/core/utils/ObservableHelpers';\n\nimport { networkConfig } from '@/config';\nimport { NetworkConfigurationModel } from '@/core/database/entities/NetworkConfigurationModel';\nimport { NetworkConfigurationHelpers } from '@/core/utils/NetworkConfigurationHelpers';\nimport { NetworkModelStorage } from '@/core/database/storage/NetworkModelStorage';\n\n/**\n * The service in charge of loading and caching anything related to Network from Rest.\n * The cache is done by storing the payloads in SimpleObjectStorage.\n */\nexport class NetworkService {\n    /**\n     * The network information local cache.\n     */\n    private readonly storage = NetworkModelStorage.INSTANCE;\n\n    /**\n     * The best default Url. It uses the stored condiguration if possible.\n     */\n    public getDefaultUrl(): string {\n        const storedNetworkModel = this.storage.getLatest();\n        return URLHelpers.formatUrl((storedNetworkModel && storedNetworkModel.url) || networkConfig.defaultNodeUrl).url;\n    }\n\n    /**\n     * This method get the network data from the provided URL. If the server in the candidateUrl is down,\n     * the next available url will be used.\n     *\n     * @param candidateUrl the new url.\n     * @param generationHash of the current profile\n     */\n    public getNetworkModel(\n        candidateUrl: string | undefined,\n        generationHash?: string | undefined,\n    ): Observable<{\n        fallback: boolean;\n        networkModel: NetworkModel;\n        repositoryFactory: RepositoryFactory;\n        isCandidateUrlAvailable: boolean;\n    }> {\n        const possibleUrls = this.resolveCandidates(candidateUrl, this.storage.get(generationHash) || this.storage.getLatest());\n        let isCandidateUrlAvailable: boolean = true;\n        const repositoryFactoryObservable = from(possibleUrls)\n            .pipe(\n                concatMap((url) => {\n                    if (url === candidateUrl) {\n                        this.createRepositoryFactory(url)\n                            .pipe(isEmpty())\n                            .subscribe((isEmpty) => (isCandidateUrlAvailable = !isEmpty));\n                    }\n                    return this.createRepositoryFactory(url);\n                }),\n            )\n            .pipe(take(1));\n        return repositoryFactoryObservable.pipe(\n            flatMap(({ url, repositoryFactory }) => {\n                return repositoryFactory.getGenerationHash().pipe(\n                    flatMap((generationHash) => {\n                        const storedNetworkModel = this.storage.get(generationHash);\n                        const networkRepository = repositoryFactory.createNetworkRepository();\n                        const nodeRepository = repositoryFactory.createNodeRepository();\n                        const networkTypeObservable = repositoryFactory\n                            .getNetworkType()\n                            .pipe(\n                                ObservableHelpers.defaultLast(\n                                    (storedNetworkModel && storedNetworkModel.networkType) || networkConfig.defaultNetworkType,\n                                ),\n                            );\n                        const generationHashObservable = repositoryFactory\n                            .getGenerationHash()\n                            .pipe(ObservableHelpers.defaultLast(storedNetworkModel && storedNetworkModel.generationHash));\n\n                        const networkPropertiesObservable = networkRepository.getNetworkProperties().pipe(\n                            map((d) => this.toNetworkConfigurationModel(d)),\n                            ObservableHelpers.defaultLast(storedNetworkModel && storedNetworkModel.networkConfiguration),\n                        );\n                        const nodeInfoObservable = nodeRepository\n                            .getNodeInfo()\n                            .pipe(ObservableHelpers.defaultLast(storedNetworkModel && storedNetworkModel.nodeInfo));\n\n                        const transactionFeesObservable = repositoryFactory\n                            .createNetworkRepository()\n                            .getTransactionFees()\n                            .pipe(ObservableHelpers.defaultLast(storedNetworkModel && storedNetworkModel.transactionFees));\n\n                        return combineLatest([\n                            networkTypeObservable,\n                            generationHashObservable,\n                            networkPropertiesObservable,\n                            nodeInfoObservable,\n                            transactionFeesObservable,\n                        ]).pipe(\n                            map(([networkType, generationHash, networkProperties, nodeInfo, transactionFees]) => {\n                                return {\n                                    fallback: !!candidateUrl && candidateUrl !== url,\n                                    networkModel: new NetworkModel(\n                                        url,\n                                        networkType,\n                                        generationHash,\n                                        networkProperties,\n                                        transactionFees,\n                                        nodeInfo,\n                                    ),\n                                    repositoryFactory,\n                                    isCandidateUrlAvailable,\n                                };\n                            }),\n                            tap((p) => this.storage.set(generationHash, p.networkModel)),\n                        );\n                    }),\n                );\n            }),\n        );\n    }\n\n    private createRepositoryFactory(url: string): Observable<{ url: string; repositoryFactory: RepositoryFactory }> {\n        console.log(`Testing ${url}`);\n        const repositoryFactory = NetworkService.createRepositoryFactory(url);\n        return defer(() => {\n            return repositoryFactory.getGenerationHash();\n        }).pipe(\n            map(() => {\n                console.log(`Peer ${url} seems OK`);\n                return { url, repositoryFactory };\n            }),\n            catchError((e) => {\n                console.log(`Peer ${url} seems down. Ignoring. Error: ${e.message}`, e);\n                return EMPTY;\n            }),\n        );\n    }\n\n    private toNetworkConfigurationModel(dto: NetworkConfiguration): NetworkConfigurationModel {\n        const fileDefaults: NetworkConfigurationModel = networkConfig.networkConfigurationDefaults;\n        const fromDto: NetworkConfigurationModel = {\n            epochAdjustment: NetworkConfigurationHelpers.epochAdjustment(dto),\n            maxMosaicDivisibility: NetworkConfigurationHelpers.maxMosaicDivisibility(dto),\n            namespaceGracePeriodDuration: NetworkConfigurationHelpers.namespaceGracePeriodDuration(dto),\n            lockedFundsPerAggregate: NetworkConfigurationHelpers.lockedFundsPerAggregate(dto),\n            maxCosignatoriesPerAccount: NetworkConfigurationHelpers.maxCosignatoriesPerAccount(dto),\n            blockGenerationTargetTime: NetworkConfigurationHelpers.blockGenerationTargetTime(dto),\n            maxNamespaceDepth: NetworkConfigurationHelpers.maxNamespaceDepth(dto),\n            maxMosaicDuration: NetworkConfigurationHelpers.maxMosaicDuration(dto),\n            minNamespaceDuration: NetworkConfigurationHelpers.minNamespaceDuration(dto),\n            maxNamespaceDuration: NetworkConfigurationHelpers.maxNamespaceDuration(dto),\n            maxTransactionsPerAggregate: NetworkConfigurationHelpers.maxTransactionsPerAggregate(dto),\n            maxCosignedAccountsPerAccount: NetworkConfigurationHelpers.maxCosignedAccountsPerAccount(dto),\n            maxMessageSize: NetworkConfigurationHelpers.maxMessageSize(dto),\n            maxMosaicAtomicUnits: NetworkConfigurationHelpers.maxMosaicAtomicUnits(dto),\n            currencyMosaicId: NetworkConfigurationHelpers.currencyMosaicId(dto),\n            harvestingMosaicId: NetworkConfigurationHelpers.harvestingMosaicId(dto),\n            defaultDynamicFeeMultiplier: NetworkConfigurationHelpers.defaultDynamicFeeMultiplier(dto),\n        };\n        return { ...fileDefaults, ...fromDto };\n    }\n\n    private resolveCandidates(newUrl: string | undefined, storedNetworkModel: NetworkModel | undefined): string[] {\n        // Should we load cached candidates in the node tables?\n        return _.uniq(\n            [\n                newUrl,\n                storedNetworkModel && storedNetworkModel.url,\n                networkConfig.defaultNodeUrl,\n                ...networkConfig.nodes.map((n) => n.url),\n            ].filter((p) => p !== undefined && p.length),\n        );\n    }\n\n    public reset(generationHash: string) {\n        this.storage.remove(generationHash);\n    }\n\n    /**\n     * It creates the RepositoryFactory used to build the http repository/clients and listeners.\n     * @param url the url.\n     */\n    public static createRepositoryFactory(url: string): RepositoryFactory {\n        return new RepositoryFactoryHttp(url, {\n            websocketUrl: URLHelpers.httpToWsUrl(url) + '/ws',\n            websocketInjected: WebSocket,\n        });\n    }\n}\n"],"sourceRoot":""}]}