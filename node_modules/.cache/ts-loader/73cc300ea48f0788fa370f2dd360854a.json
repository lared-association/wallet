{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/node_modules/symbol-paper-wallets/index.ts","dependencies":[{"path":"/home/hero/lared-wallet/node_modules/symbol-paper-wallets/index.ts","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikpIHsgcmV0dXJuOyB9IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCmltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgUERGRG9jdW1lbnQsIHJnYiB9IGZyb20gInBkZi1saWIiOwppbXBvcnQgZm9udGtpdCBmcm9tICJAcGRmLWxpYi9mb250a2l0IjsKaW1wb3J0IHsgQWNjb3VudFFSLCBDb250YWN0UVIsIE1uZW1vbmljUVIgfSBmcm9tICJzeW1ib2wtcXItbGlicmFyeSI7CmltcG9ydCBlbmNvZGVkRm9udCBmcm9tICIuL3Jlc291cmNlcy9lbmNvZGVkRm9udCI7CmltcG9ydCBlbmNvZGVkQmFzZVBkZiBmcm9tICIuL3Jlc291cmNlcy9lbmNvZGVkQmFzZVBkZiI7CmltcG9ydCBlbmNvZGVkQmFzZVByaXZhdGVLZXlQZGYgZnJvbSAiLi9yZXNvdXJjZXMvZW5jb2RlZEJhc2VQcml2YXRlS2V5UGRmIjsKLyoqCiAqIERlZmF1bHQgZ2VuZXJhdGlvbiBoYXNoCiAqLwoKdmFyIERFRkFVTFRfR0VORVJBVElPTl9IQVNIX1NFRUQgPSAiNTdGN0RBMjA1MDA4MDI2Qzc3NkNCNkFFRDg0MzM5M0YwNENENDU4RTBBQTJEOUYxRDVGMzFBNDAyMDcyQjJENiI7Ci8qKgogKiBQcmludGluZyBjb25zdGFudHMKICovCgp2YXIgTU5FTU9OSUNfUE9TSVRJT04gPSB7CiAgeDogMTg0LAogIHk6IDM2Cn07CnZhciBBRERSRVNTX1BPU0lUSU9OID0gewogIHg6IDE4NCwKICB5OiA5MAp9Owp2YXIgTU5FTU9OSUNfUVJfUE9TSVRJT04gPSB7CiAgeDogMjY0LAogIHk6IDE1OSwKICB3aWR0aDogOTksCiAgaGVpZ2h0OiA5OQp9Owp2YXIgQUREUkVTU19RUl9QT1NJVElPTiA9IHsKICB4OiA0MTgsCiAgeTogMTU5LAogIHdpZHRoOiA5OSwKICBoZWlnaHQ6IDk5Cn07Ci8qKgogKiBTeW1ib2wgUGFwZXIgd2FsbGV0IGNsYXNzCiAqLwoKdmFyIFN5bWJvbFBhcGVyV2FsbGV0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTeW1ib2xQYXBlcldhbGxldChoZEFjY291bnRJbmZvLCBhY2NvdW50SW5mb3MsIG5ldHdvcmspIHsKICAgIHZhciBnZW5lcmF0aW9uSGFzaFNlZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IERFRkFVTFRfR0VORVJBVElPTl9IQVNIX1NFRUQ7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN5bWJvbFBhcGVyV2FsbGV0KTsKCiAgICB0aGlzLmhkQWNjb3VudCA9IGhkQWNjb3VudEluZm87CiAgICB0aGlzLmFjY291bnRJbmZvcyA9IGFjY291bnRJbmZvczsKICAgIHRoaXMubmV0d29yayA9IG5ldHdvcms7CiAgICB0aGlzLmdlbmVyYXRpb25IYXNoU2VlZCA9IGdlbmVyYXRpb25IYXNoU2VlZDsKICB9CiAgLyoqCiAgICogRXhwb3J0cyBhcyBhIFBERiBVaW44QXJyYXkKICAgKi8KCgogIF9jcmVhdGVDbGFzcyhTeW1ib2xQYXBlcldhbGxldCwgW3sKICAgIGtleTogInRvUGRmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b1BkZigpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwbGFpblBkZkZpbGUsIHBkZkRvYywgbm90b1NhbnNGb250Qnl0ZXMsIG5vdG9TYW5zRm9udCwgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiwgX2RpZEl0ZXJhdG9yRXJyb3IsIF9pdGVyYXRvckVycm9yLCBfaXRlcmF0b3IsIF9zdGVwLCBhY2NvdW50OwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGxhaW5QZGZGaWxlID0gbmV3IEJ1ZmZlcihlbmNvZGVkQmFzZVBkZiwgImJhc2U2NCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gUERGRG9jdW1lbnQubG9hZChwbGFpblBkZkZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBwZGZEb2MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgbm90b1NhbnNGb250Qnl0ZXMgPSBuZXcgQnVmZmVyKGVuY29kZWRGb250LCAiYmFzZTY0Iik7CiAgICAgICAgICAgICAgICBwZGZEb2MucmVnaXN0ZXJGb250a2l0KGZvbnRraXQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcGRmRG9jLmVtYmVkRm9udChub3RvU2Fuc0ZvbnRCeXRlcyk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIG5vdG9TYW5zRm9udCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZU1uZW1vbmljUGFnZShwZGZEb2MsIG5vdG9TYW5zRm9udCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBwZGZEb2MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSB0aGlzLmFjY291bnRJbmZvc1tTeW1ib2wuaXRlcmF0b3JdKCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhY2NvdW50ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUFjY291bnRQYWdlKGFjY291bnQsIHBkZkRvYyk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBwZGZEb2MgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxNSk7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDMyOwoKICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3JbInJldHVybiJdICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yWyJyZXR1cm4iXSgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM0OwoKICAgICAgICAgICAgICAgIGlmICghX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKCiAgICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMzQpOwoKICAgICAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgzMSk7CgogICAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBwZGZEb2Muc2F2ZSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA0MDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbMTUsIDI3LCAzMSwgMzldLCBbMzIsLCAzNCwgMzhdXSk7CiAgICAgIH0pKTsKICAgIH0KICAgIC8qKgogICAgICogV3JpdGVzIHRoZSBtbmVtb25pYyBwYWdlIGludG8gdGhlIGdpdmVuIHBkZkRvYwogICAgICogQHBhcmFtIHBkZkRvYwogICAgICogQHBhcmFtIGZvbnQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ3cml0ZU1uZW1vbmljUGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVNbmVtb25pY1BhZ2UocGRmRG9jLCBmb250KSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHBhZ2VzLCBwYWdlLCBtbmVtb25pY1dvcmRzLCBmaXJzdE1uZW1vbmljLCBzZWNvbmRNbmVtb25pYywgcGxhaW5NbmVtb25pY1FSLCBjb250YWN0UVI7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYWdlcyA9IHBkZkRvYy5nZXRQYWdlcygpOwogICAgICAgICAgICAgICAgcGFnZSA9IHBhZ2VzWzBdOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVBZGRyZXNzKHRoaXMuaGRBY2NvdW50LnJvb3RBY2NvdW50QWRkcmVzcywgcGFnZSwgZm9udCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIG1uZW1vbmljV29yZHMgPSB0aGlzLmhkQWNjb3VudC5tbmVtb25pYy5zcGxpdCgiICIpOwogICAgICAgICAgICAgICAgZmlyc3RNbmVtb25pYyA9IG1uZW1vbmljV29yZHMuc2xpY2UoMCwgTWF0aC5yb3VuZChtbmVtb25pY1dvcmRzLmxlbmd0aCAvIDIpKTsKICAgICAgICAgICAgICAgIHNlY29uZE1uZW1vbmljID0gbW5lbW9uaWNXb3Jkcy5zbGljZShNYXRoLnJvdW5kKG1uZW1vbmljV29yZHMubGVuZ3RoIC8gMiksIG1uZW1vbmljV29yZHMubGVuZ3RoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlUHJpdmF0ZUluZm8oW2ZpcnN0TW5lbW9uaWMuam9pbigiICIpLCBzZWNvbmRNbmVtb25pYy5qb2luKCIgIildLCBwYWdlLCBmb250KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcGxhaW5NbmVtb25pY1FSID0gbmV3IE1uZW1vbmljUVIodGhpcy5oZEFjY291bnQubW5lbW9uaWMsIHRoaXMubmV0d29yaywgdGhpcy5nZW5lcmF0aW9uSGFzaFNlZWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlUHJpdmF0ZVFSKHBsYWluTW5lbW9uaWNRUiwgcGRmRG9jLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNvbnRhY3RRUiA9IG5ldyBDb250YWN0UVIoIlJvb3QgYWNjb3VudCIsIHRoaXMuaGRBY2NvdW50LnJvb3RBY2NvdW50UHVibGljS2V5LCB0aGlzLm5ldHdvcmssIHRoaXMuZ2VuZXJhdGlvbkhhc2hTZWVkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVB1YmxpY1FSKGNvbnRhY3RRUiwgcGRmRG9jLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBwZGZEb2MpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgdGhlIGFjY291bnQgcGFnZSBpbnRvIHRoZSBnaXZlbiBwZGZEb2MKICAgICAqIEBwYXJhbSBhY2NvdW50CiAgICAgKiBAcGFyYW0gcGRmRG9jCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid3JpdGVBY2NvdW50UGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVBY2NvdW50UGFnZShhY2NvdW50LCBwZGZEb2MpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgbmV3UGxhaW5QZGZGaWxlLCBuZXdQZGZEb2MsIG5vdG9TYW5zRm9udEJ5dGVzLCBmb250LCBhY2NvdW50UGFnZSwgYWNjb3VudFFSLCBjb250YWN0UVIsIF9yZWYsIF9yZWYyOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5ld1BsYWluUGRmRmlsZSA9IG5ldyBCdWZmZXIoZW5jb2RlZEJhc2VQcml2YXRlS2V5UGRmLCAiYmFzZTY0Iik7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gUERGRG9jdW1lbnQubG9hZChuZXdQbGFpblBkZkZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBuZXdQZGZEb2MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIG5vdG9TYW5zRm9udEJ5dGVzID0gbmV3IEJ1ZmZlcihlbmNvZGVkRm9udCwgImJhc2U2NCIpOwogICAgICAgICAgICAgICAgbmV3UGRmRG9jLnJlZ2lzdGVyRm9udGtpdChmb250a2l0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBuZXdQZGZEb2MuZW1iZWRGb250KG5vdG9TYW5zRm9udEJ5dGVzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgZm9udCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgYWNjb3VudFBhZ2UgPSBuZXdQZGZEb2MuZ2V0UGFnZXMoKVswXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUFkZHJlc3MoYWNjb3VudC5hZGRyZXNzLCBhY2NvdW50UGFnZSwgZm9udCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVQcml2YXRlSW5mbyhbYWNjb3VudC5wcml2YXRlS2V5XSwgYWNjb3VudFBhZ2UsIGZvbnQpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgYWNjb3VudFFSID0gbmV3IEFjY291bnRRUihhY2NvdW50LnByaXZhdGVLZXksIHRoaXMubmV0d29yaywgdGhpcy5nZW5lcmF0aW9uSGFzaFNlZWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlUHJpdmF0ZVFSKGFjY291bnRRUiwgbmV3UGRmRG9jLCBhY2NvdW50UGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBjb250YWN0UVIgPSBuZXcgQ29udGFjdFFSKGFjY291bnQubmFtZSwgYWNjb3VudC5wdWJsaWNLZXksIHRoaXMubmV0d29yaywgdGhpcy5nZW5lcmF0aW9uSGFzaFNlZWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlUHVibGljUVIoY29udGFjdFFSLCBuZXdQZGZEb2MsIGFjY291bnRQYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gcGRmRG9jLmNvcHlQYWdlcyhuZXdQZGZEb2MsIFswXSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfcmVmID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDEpOwogICAgICAgICAgICAgICAgYWNjb3VudFBhZ2UgPSBfcmVmMlswXTsKICAgICAgICAgICAgICAgIHBkZkRvYy5hZGRQYWdlKGFjY291bnRQYWdlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBwZGZEb2MpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgYWRkcmVzcyBpbnRvIHRoZSBnaXZlbiBwZGZEb2MKICAgICAqIEBwYXJhbSBhZGRyZXNzCiAgICAgKiBAcGFyYW0gcGFnZQogICAgICogQHBhcmFtIGZvbnQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ3cml0ZUFkZHJlc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlQWRkcmVzcyhhZGRyZXNzLCBwYWdlLCBmb250KSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYWdlLmRyYXdUZXh0KGFkZHJlc3MsIHsKICAgICAgICAgICAgICAgICAgeDogQUREUkVTU19QT1NJVElPTi54LAogICAgICAgICAgICAgICAgICB5OiBBRERSRVNTX1BPU0lUSU9OLnksCiAgICAgICAgICAgICAgICAgIHNpemU6IDEyLAogICAgICAgICAgICAgICAgICBmb250OiBmb250LAogICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDgyIC8gMjU2LCAwLCAxOTggLyAyNTYpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgcHJpdmF0ZSBpbmZvIGludG8gdGhlIHBkZkRvYwogICAgICogQHBhcmFtIHByaXZhdGVMaW5lcwogICAgICogQHBhcmFtIHBhZ2UKICAgICAqIEBwYXJhbSBmb250CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid3JpdGVQcml2YXRlSW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVQcml2YXRlSW5mbyhwcml2YXRlTGluZXMsIHBhZ2UsIGZvbnQpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgaTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcml2YXRlTGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgcGFnZS5kcmF3VGV4dChwcml2YXRlTGluZXNbaV0sIHsKICAgICAgICAgICAgICAgICAgICB4OiBNTkVNT05JQ19QT1NJVElPTi54LAogICAgICAgICAgICAgICAgICAgIHk6IE1ORU1PTklDX1BPU0lUSU9OLnkgLSAxNiAqIGksCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogOSwKICAgICAgICAgICAgICAgICAgICBmb250OiBmb250LAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZ2IoODIgLyAyNTYsIDAsIDE5OCAvIDI1NikKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSk7CiAgICB9CiAgICAvKioKICAgICAqIFdyaXRlcyB0aGUgcHJpdmF0ZSBRUiAobW5lbW9uaWMgb3IgcHJpdmF0ZSBrZXkpIGludG8gdGhlIGdpdmVuIHBkZkRvYwogICAgICogQHBhcmFtIHFyCiAgICAgKiBAcGFyYW0gcGRmRG9jCiAgICAgKiBAcGFyYW0gcGFnZQogICAgICovCgogIH0sIHsKICAgIGtleTogIndyaXRlUHJpdmF0ZVFSIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZVByaXZhdGVRUihxciwgcGRmRG9jLCBwYWdlKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHFyQmFzZTY0LCBwbmc7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcXIudG9CYXNlNjQoKS50b1Byb21pc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcXJCYXNlNjQgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBwZGZEb2MuZW1iZWRQbmcocXJCYXNlNjQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBwbmcgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIHBhZ2UuZHJhd0ltYWdlKHBuZywgewogICAgICAgICAgICAgICAgICB4OiBNTkVNT05JQ19RUl9QT1NJVElPTi54LAogICAgICAgICAgICAgICAgICB5OiBNTkVNT05JQ19RUl9QT1NJVElPTi55LAogICAgICAgICAgICAgICAgICB3aWR0aDogTU5FTU9OSUNfUVJfUE9TSVRJT04ud2lkdGgsCiAgICAgICAgICAgICAgICAgIGhlaWdodDogTU5FTU9OSUNfUVJfUE9TSVRJT04uaGVpZ2h0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgdGhlIHB1YmxpYyBRUiBpbnRvIHRoZSBnaXZlbiBwZGZEb2MKICAgICAqIEBwYXJhbSBxcgogICAgICogQHBhcmFtIHBkZkRvYwogICAgICogQHBhcmFtIHBhZ2UKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ3cml0ZVB1YmxpY1FSIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZVB1YmxpY1FSKHFyLCBwZGZEb2MsIHBhZ2UpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgcXJCYXNlNjQsIHBuZzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBxci50b0Jhc2U2NCgpLnRvUHJvbWlzZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBxckJhc2U2NCA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHBkZkRvYy5lbWJlZFBuZyhxckJhc2U2NCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHBuZyA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgcGFnZS5kcmF3SW1hZ2UocG5nLCB7CiAgICAgICAgICAgICAgICAgIHg6IEFERFJFU1NfUVJfUE9TSVRJT04ueCwKICAgICAgICAgICAgICAgICAgeTogQUREUkVTU19RUl9QT1NJVElPTi55LAogICAgICAgICAgICAgICAgICB3aWR0aDogQUREUkVTU19RUl9QT1NJVElPTi53aWR0aCwKICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBBRERSRVNTX1FSX1BPU0lUSU9OLmhlaWdodAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTeW1ib2xQYXBlcldhbGxldDsKfSgpOwoKZXhwb3J0IHsgU3ltYm9sUGFwZXJXYWxsZXQgfTs="},{"version":3,"sources":["/home/hero/lared-wallet/node_modules/symbol-paper-wallets/index.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n\nimport { PDFDocument, PDFFont, PDFPage, rgb } from \"pdf-lib\";\nimport fontkit from \"@pdf-lib/fontkit\";\nimport { AccountQR, ContactQR, MnemonicQR, QRCode } from \"symbol-qr-library\";\nimport encodedFont from \"./resources/encodedFont\";\nimport encodedBasePdf from \"./resources/encodedBasePdf\";\nimport encodedBasePrivateKeyPdf from \"./resources/encodedBasePrivateKeyPdf\";\n\n/**\n * Default generation hash\n */\nconst DEFAULT_GENERATION_HASH_SEED =\n  \"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6\";\n\n/**\n * Printing constants\n */\nconst MNEMONIC_POSITION = {\n  x: 184,\n  y: 36,\n};\nconst ADDRESS_POSITION = {\n  x: 184,\n  y: 90,\n};\nconst MNEMONIC_QR_POSITION = {\n  x: 264,\n  y: 159,\n  width: 99,\n  height: 99,\n};\nconst ADDRESS_QR_POSITION = {\n  x: 418,\n  y: 159,\n  width: 99,\n  height: 99,\n};\n\n/**\n * Abstraction for NetworkType sdk interface\n */\nexport type INetworkType = number;\n/**\n * HD Account info interface\n */\nexport type IHDAccountInfo = {\n  mnemonic: string;\n  rootAccountPublicKey: string;\n  rootAccountAddress: string;\n};\n/**\n * Account info interface\n */\nexport type IAccountInfo = {\n  name: string;\n  address: string;\n  publicKey: string;\n  privateKey: string;\n};\n\n/**\n * Symbol Paper wallet class\n */\nclass SymbolPaperWallet {\n  public hdAccount: IHDAccountInfo;\n  public accountInfos: IAccountInfo[];\n  public network: INetworkType;\n  public generationHashSeed: string;\n\n  constructor(\n    hdAccountInfo: IHDAccountInfo,\n    accountInfos: IAccountInfo[],\n    network: INetworkType,\n    generationHashSeed: string = DEFAULT_GENERATION_HASH_SEED\n  ) {\n    this.hdAccount = hdAccountInfo;\n    this.accountInfos = accountInfos;\n    this.network = network;\n    this.generationHashSeed = generationHashSeed;\n  }\n\n  /**\n   * Exports as a PDF Uin8Array\n   */\n  async toPdf(): Promise<Uint8Array> {\n    const plainPdfFile = new Buffer(encodedBasePdf, \"base64\");\n    let pdfDoc = await PDFDocument.load(plainPdfFile);\n    const notoSansFontBytes = new Buffer(encodedFont, \"base64\");\n    pdfDoc.registerFontkit(fontkit);\n    const notoSansFont = await pdfDoc.embedFont(notoSansFontBytes);\n\n    pdfDoc = await this.writeMnemonicPage(pdfDoc, notoSansFont);\n\n    for (let account of this.accountInfos) {\n      pdfDoc = await this.writeAccountPage(account, pdfDoc);\n    }\n    return pdfDoc.save();\n  }\n\n  /**\n   * Writes the mnemonic page into the given pdfDoc\n   * @param pdfDoc\n   * @param font\n   */\n  private async writeMnemonicPage(\n    pdfDoc: PDFDocument,\n    font: PDFFont\n  ): Promise<PDFDocument> {\n    const pages = pdfDoc.getPages();\n    const page = pages[0];\n    await this.writeAddress(this.hdAccount.rootAccountAddress, page, font);\n\n    const mnemonicWords = this.hdAccount.mnemonic.split(\" \");\n    const firstMnemonic = mnemonicWords.slice(\n      0,\n      Math.round(mnemonicWords.length / 2)\n    );\n    const secondMnemonic = mnemonicWords.slice(\n      Math.round(mnemonicWords.length / 2),\n      mnemonicWords.length\n    );\n    await this.writePrivateInfo(\n      [firstMnemonic.join(\" \"), secondMnemonic.join(\" \")],\n      page,\n      font\n    );\n\n    const plainMnemonicQR = new MnemonicQR(\n      this.hdAccount.mnemonic,\n      this.network,\n      this.generationHashSeed\n    );\n    await this.writePrivateQR(plainMnemonicQR, pdfDoc, page);\n\n    const contactQR = new ContactQR(\n      \"Root account\",\n      this.hdAccount.rootAccountPublicKey,\n      this.network,\n      this.generationHashSeed\n    );\n    await this.writePublicQR(contactQR, pdfDoc, page);\n\n    return pdfDoc;\n  }\n\n  /**\n   * Writes the account page into the given pdfDoc\n   * @param account\n   * @param pdfDoc\n   */\n  private async writeAccountPage(\n    account: IAccountInfo,\n    pdfDoc: PDFDocument\n  ): Promise<PDFDocument> {\n    const newPlainPdfFile = new Buffer(encodedBasePrivateKeyPdf, \"base64\");\n    const newPdfDoc = await PDFDocument.load(newPlainPdfFile);\n    const notoSansFontBytes = new Buffer(encodedFont, \"base64\");\n    newPdfDoc.registerFontkit(fontkit);\n    const font = await newPdfDoc.embedFont(notoSansFontBytes);\n\n    let accountPage = newPdfDoc.getPages()[0];\n    await this.writeAddress(account.address, accountPage, font);\n\n    await this.writePrivateInfo([account.privateKey], accountPage, font);\n\n    const accountQR = new AccountQR(\n      account.privateKey,\n      this.network,\n      this.generationHashSeed\n    );\n    await this.writePrivateQR(accountQR, newPdfDoc, accountPage);\n\n    const contactQR = new ContactQR(\n      account.name,\n      account.publicKey,\n      this.network,\n      this.generationHashSeed\n    );\n    await this.writePublicQR(contactQR, newPdfDoc, accountPage);\n\n    [accountPage] = await pdfDoc.copyPages(newPdfDoc, [0]);\n    pdfDoc.addPage(accountPage);\n    return pdfDoc;\n  }\n\n  /**\n   * Writes address into the given pdfDoc\n   * @param address\n   * @param page\n   * @param font\n   */\n  private async writeAddress(\n    address: string,\n    page: PDFPage,\n    font: PDFFont\n  ): Promise<PDFPage> {\n    page.drawText(address, {\n      x: ADDRESS_POSITION.x,\n      y: ADDRESS_POSITION.y,\n      size: 12,\n      font: font,\n      color: rgb(82 / 256, 0, 198 / 256),\n    });\n    return page;\n  }\n\n  /**\n   * Writes private info into the pdfDoc\n   * @param privateLines\n   * @param page\n   * @param font\n   */\n  private async writePrivateInfo(\n    privateLines: string[],\n    page: PDFPage,\n    font: PDFFont\n  ): Promise<PDFPage> {\n    for (let i = 0; i < privateLines.length; i++) {\n      page.drawText(privateLines[i], {\n        x: MNEMONIC_POSITION.x,\n        y: MNEMONIC_POSITION.y - 16 * i,\n        size: 9,\n        font: font,\n        color: rgb(82 / 256, 0, 198 / 256),\n      });\n    }\n    return page;\n  }\n\n  /**\n   * Writes the private QR (mnemonic or private key) into the given pdfDoc\n   * @param qr\n   * @param pdfDoc\n   * @param page\n   */\n  private async writePrivateQR(\n    qr: QRCode,\n    pdfDoc: PDFDocument,\n    page: PDFPage\n  ): Promise<PDFPage> {\n    const qrBase64 = await qr.toBase64().toPromise();\n    const png = await pdfDoc.embedPng(qrBase64);\n\n    page.drawImage(png, {\n      x: MNEMONIC_QR_POSITION.x,\n      y: MNEMONIC_QR_POSITION.y,\n      width: MNEMONIC_QR_POSITION.width,\n      height: MNEMONIC_QR_POSITION.height,\n    });\n    return page;\n  }\n\n  /**\n   * Writes the public QR into the given pdfDoc\n   * @param qr\n   * @param pdfDoc\n   * @param page\n   */\n  private async writePublicQR(\n    qr: QRCode,\n    pdfDoc: PDFDocument,\n    page: PDFPage\n  ): Promise<PDFPage> {\n    const qrBase64 = await qr.toBase64().toPromise();\n    const png = await pdfDoc.embedPng(qrBase64);\n\n    page.drawImage(png, {\n      x: ADDRESS_QR_POSITION.x,\n      y: ADDRESS_QR_POSITION.y,\n      width: ADDRESS_QR_POSITION.width,\n      height: ADDRESS_QR_POSITION.height,\n    });\n    return page;\n  }\n}\n\nexport { SymbolPaperWallet };\n"],"sourceRoot":""}]}