{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgpmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gIltvYmplY3QgQXJndW1lbnRzXSIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7CiAgZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgewogICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAidW5kZWZpbmVkIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsKICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7CiAgICBpZiAodHlwZW9mIFByb3h5ID09PSAiZnVuY3Rpb24iKSByZXR1cm4gdHJ1ZTsKCiAgICB0cnkgewogICAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwKICAgICAgICByZXN1bHQ7CgogICAgaWYgKGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7CiAgICAgIHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7CgogICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOwogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsKICB9Owp9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH0KCmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmltcG9ydCB7IFVJbnQ2NCwgQWNjb3VudEtleUxpbmtUcmFuc2FjdGlvbiwgTGlua0FjdGlvbiwgVnJmS2V5TGlua1RyYW5zYWN0aW9uLCBBY2NvdW50LCBOb2RlS2V5TGlua1RyYW5zYWN0aW9uLCBQZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvbiwgQWdncmVnYXRlVHJhbnNhY3Rpb24sIFB1YmxpY0FjY291bnQsIERlYWRsaW5lLCBMb2NrRnVuZHNUcmFuc2FjdGlvbiwgTW9zYWljLCBTaWduZWRUcmFuc2FjdGlvbiB9IGZyb20gJ3N5bWJvbC1zZGsnOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOyAvLyBpbnRlcm5hbCBkZXBlbmRlbmNpZXMKCmltcG9ydCB7IEZvcm1hdHRlcnMgfSBmcm9tICdAL2NvcmUvdXRpbHMvRm9ybWF0dGVycyc7CmltcG9ydCB7IEZvcm1UcmFuc2FjdGlvbkJhc2UgfSBmcm9tICdAL3ZpZXdzL2Zvcm1zL0Zvcm1UcmFuc2FjdGlvbkJhc2UvRm9ybVRyYW5zYWN0aW9uQmFzZSc7IC8vIGNoaWxkIGNvbXBvbmVudHMKCmltcG9ydCB7IFZhbGlkYXRpb25PYnNlcnZlciB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBGb3JtV3JhcHBlciBmcm9tICdAL2NvbXBvbmVudHMvRm9ybVdyYXBwZXIvRm9ybVdyYXBwZXIudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE1vZGFsVHJhbnNhY3Rpb25Db25maXJtYXRpb24gZnJvbSAnQC92aWV3cy9tb2RhbHMvTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbi9Nb2RhbFRyYW5zYWN0aW9uQ29uZmlybWF0aW9uLnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBTaWduZXJTZWxlY3RvciBmcm9tICdAL2NvbXBvbmVudHMvU2lnbmVyU2VsZWN0b3IvU2lnbmVyU2VsZWN0b3IudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE1heEZlZUFuZFN1Ym1pdCBmcm9tICdAL2NvbXBvbmVudHMvTWF4RmVlQW5kU3VibWl0L01heEZlZUFuZFN1Ym1pdC52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgTmV0d29ya05vZGVTZWxlY3RvciBmcm9tICdAL2NvbXBvbmVudHMvTmV0d29ya05vZGVTZWxlY3Rvci9OZXR3b3JrTm9kZVNlbGVjdG9yLnZ1ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBGb3JtUm93IGZyb20gJ0AvY29tcG9uZW50cy9Gb3JtUm93L0Zvcm1Sb3cudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEVycm9yVG9vbHRpcCBmcm9tICdAL2NvbXBvbmVudHMvRXJyb3JUb29sdGlwL0Vycm9yVG9vbHRpcC52dWUnOwppbXBvcnQgeyBWYWxpZGF0aW9uUHJvdmlkZXIgfSBmcm9tICd2ZWUtdmFsaWRhdGUnOwppbXBvcnQgeyBmZWVzQ29uZmlnIH0gZnJvbSAnQC9jb25maWcnOwppbXBvcnQgeyBBY2NvdW50VHJhbnNhY3Rpb25TaWduZXIsIFRyYW5zYWN0aW9uQW5ub3VuY2VyU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvVHJhbnNhY3Rpb25Bbm5vdW5jZXJTZXJ2aWNlJzsKaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJzsKaW1wb3J0IHsgY29uY2F0TWFwLCBmbGF0TWFwLCBtYXAsIG1lcmdlQWxsLCBzd2l0Y2hNYXAsIHRhcCwgdG9BcnJheSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJzsKZXhwb3J0IHZhciBIYXJ2ZXN0aW5nQWN0aW9uOwoKKGZ1bmN0aW9uIChIYXJ2ZXN0aW5nQWN0aW9uKSB7CiAgSGFydmVzdGluZ0FjdGlvbltIYXJ2ZXN0aW5nQWN0aW9uWyJTVEFSVCJdID0gMV0gPSAiU1RBUlQiOwogIEhhcnZlc3RpbmdBY3Rpb25bSGFydmVzdGluZ0FjdGlvblsiU1RPUCJdID0gMl0gPSAiU1RPUCI7CiAgSGFydmVzdGluZ0FjdGlvbltIYXJ2ZXN0aW5nQWN0aW9uWyJTV0FQIl0gPSAzXSA9ICJTV0FQIjsKICBIYXJ2ZXN0aW5nQWN0aW9uW0hhcnZlc3RpbmdBY3Rpb25bIkFDVElWQVRFIl0gPSA0XSA9ICJBQ1RJVkFURSI7Cn0pKEhhcnZlc3RpbmdBY3Rpb24gfHwgKEhhcnZlc3RpbmdBY3Rpb24gPSB7fSkpOwoKdmFyIEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRm9ybVRyYW5zYWN0aW9uQmFzZSkgewogIF9pbmhlcml0cyhGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UcywgX0Zvcm1UcmFuc2FjdGlvbkJhc2UpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzKTsKCiAgZnVuY3Rpb24gRm9ybVBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uVHMoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvL0BQcm9wKHsgZGVmYXVsdDogdHJ1ZSB9KSB3aXRoTGluazogYm9vbGVhbjsKCiAgICAvKioKICAgICAqIEZvcm1hdHRlcnMgaGVscGVycwogICAgICovCgogICAgX3RoaXMuZm9ybWF0dGVycyA9IEZvcm1hdHRlcnM7CiAgICAvKioKICAgICAqIEZvcm0gaXRlbXMKICAgICAqLwoKICAgIF90aGlzLmZvcm1JdGVtcyA9IHsKICAgICAgbm9kZU1vZGVsOiB7CiAgICAgICAgbm9kZVB1YmxpY0tleTogJycKICAgICAgfSwKICAgICAgc2lnbmVyQWRkcmVzczogJycKICAgIH07CiAgICBfdGhpcy5hY3Rpb24gPSBIYXJ2ZXN0aW5nQWN0aW9uLlNUQVJUOwogICAgX3RoaXMuYWN0aXZhdGluZyA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KICAvKioKICAgKiBSZXNldCB0aGUgZm9ybSB3aXRoIHByb3BlcnRpZXMKICAgKiBAcmV0dXJuIHt2b2lkfQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzLCBbewogICAga2V5OiAicmVzZXRGb3JtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIC8vIC0gc2V0IGRlZmF1bHQgZm9ybSB2YWx1ZXMKICAgICAgdGhpcy5hY3Rpb24gPSBIYXJ2ZXN0aW5nQWN0aW9uLlNUQVJUOyAvLyAtIG1heEZlZSBtdXN0IGJlIGFic29sdXRlCgogICAgICB0aGlzLm5ld1ZyZktleUFjY291bnQgPSBBY2NvdW50LmdlbmVyYXRlTmV3QWNjb3VudCh0aGlzLm5ldHdvcmtUeXBlKTsKICAgICAgdGhpcy5uZXdSZW1vdGVBY2NvdW50ID0gQWNjb3VudC5nZW5lcmF0ZU5ld0FjY291bnQodGhpcy5uZXR3b3JrVHlwZSk7CiAgICAgIHRoaXMudGVtcFRyYW5zYWN0aW9uU2lnbmVyID0gbmV3IEFjY291bnRUcmFuc2FjdGlvblNpZ25lcihBY2NvdW50LmdlbmVyYXRlTmV3QWNjb3VudCh0aGlzLm5ldHdvcmtUeXBlKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VycmVudFNpZ25lcldhdGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJyZW50U2lnbmVyV2F0Y2goKSB7CiAgICAgIHZhciBfYSwgX2IsIF9jOwoKICAgICAgdGhpcy5mb3JtSXRlbXMuc2lnbmVyQWRkcmVzcyA9IHRoaXMuc2lnbmVyQWRkcmVzcyB8fCAoKF9hID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRyZXNzLnBsYWluKCkpOwoKICAgICAgaWYgKHRoaXMuaXNOb2RlS2V5TGlua2VkKSB7CiAgICAgICAgdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsLm5vZGVQdWJsaWNLZXkgPSAoX2IgPSB0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50SW5mbykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN1cHBsZW1lbnRhbFB1YmxpY0tleXMubm9kZS5wdWJsaWNLZXk7CgogICAgICAgIGlmICgoX2MgPSB0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50TW9kZWwpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zZWxlY3RlZEhhcnZlc3RpbmdOb2RlKSB7CiAgICAgICAgICB0aGlzLmZvcm1JdGVtcy5ub2RlTW9kZWwgPSB0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50TW9kZWwuc2VsZWN0ZWRIYXJ2ZXN0aW5nTm9kZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsID0gewogICAgICAgICAgICBub2RlUHVibGljS2V5OiAnJwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsID0gewogICAgICAgICAgbm9kZVB1YmxpY0tleTogJycKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFRvIGdldCBhbGwgdGhlIGtleSBsaW5rIHRyYW5zYWN0aW9ucwogICAgICovCgogIH0sIHsKICAgIGtleTogImdldEtleUxpbmtUcmFuc2FjdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEtleUxpbmtUcmFuc2FjdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRyYW5zYWN0aW9uU2lnbmVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRlbXBUcmFuc2FjdGlvblNpZ25lcjsKICAgICAgdmFyIG1heEZlZSA9IFVJbnQ2NC5mcm9tVWludChmZWVzQ29uZmlnLmhpZ2hlc3QpOyAvLyBmaXhlZCB0byB0aGUgSGlnaGVzdCwgdHhzIG11c3QgZ2V0IGNvbmZpcm1lZAoKICAgICAgdmFyIHR4cyA9IFtdOwogICAgICAvKgogICAgICAgTElOSwogICAgICAgU1RBUlQgPT4gbGluayBhbGwgKG5ldyBrZXlzKQogICAgICAgU1RPUCA9PiAgdW5saW5rIGFsbCAobGlua2VkIGtleXMpCiAgICAgICBTV0FQID0+ICB1bmxpbmsobGlua2VkKSArIGxpbmsgYWxsIChuZXcga2V5cykKICAgICAgICovCgogICAgICBpZiAodGhpcy5pc0FjY291bnRLZXlMaW5rZWQpIHsKICAgICAgICB2YXIgYWNjb3VudEtleVVuTGlua1R4ID0gdGhpcy5jcmVhdGVBY2NvdW50S2V5TGlua1R4KHRoaXMuY3VycmVudFNpZ25lckFjY291bnRJbmZvLnN1cHBsZW1lbnRhbFB1YmxpY0tleXMubGlua2VkLnB1YmxpY0tleSwgTGlua0FjdGlvbi5VbmxpbmssIG1heEZlZSk7CiAgICAgICAgdHhzLnB1c2goYWNjb3VudEtleVVuTGlua1R4KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNWcmZLZXlMaW5rZWQpIHsKICAgICAgICB2YXIgdnJmS2V5VW5MaW5rVHggPSB0aGlzLmNyZWF0ZVZyZktleUxpbmtUeCh0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50SW5mby5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLnZyZi5wdWJsaWNLZXksIExpbmtBY3Rpb24uVW5saW5rLCBtYXhGZWUpOwogICAgICAgIHR4cy5wdXNoKHZyZktleVVuTGlua1R4KTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNOb2RlS2V5TGlua2VkKSB7CiAgICAgICAgdmFyIG5vZGVVbkxpbmtUeCA9IHRoaXMuY3JlYXRlTm9kZUtleUxpbmtUeCh0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50SW5mby5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLm5vZGUucHVibGljS2V5LCBMaW5rQWN0aW9uLlVubGluaywgbWF4RmVlKTsKICAgICAgICB0eHMucHVzaChub2RlVW5MaW5rVHgpOwogICAgICB9CgogICAgICBpZiAodGhpcy5hY3Rpb24gIT09IEhhcnZlc3RpbmdBY3Rpb24uU1RPUCkgewogICAgICAgIHZhciBhY2NvdW50S2V5TGlua1R4ID0gdGhpcy5jcmVhdGVBY2NvdW50S2V5TGlua1R4KHRoaXMubmV3UmVtb3RlQWNjb3VudC5wdWJsaWNLZXksIExpbmtBY3Rpb24uTGluaywgbWF4RmVlKTsKICAgICAgICB2YXIgdnJmS2V5TGlua1R4ID0gdGhpcy5jcmVhdGVWcmZLZXlMaW5rVHgodGhpcy5uZXdWcmZLZXlBY2NvdW50LnB1YmxpY0tleSwgTGlua0FjdGlvbi5MaW5rLCBtYXhGZWUpOwogICAgICAgIHZhciBub2RlTGlua1R4ID0gdGhpcy5jcmVhdGVOb2RlS2V5TGlua1R4KHRoaXMuZm9ybUl0ZW1zLm5vZGVNb2RlbC5ub2RlUHVibGljS2V5LCBMaW5rQWN0aW9uLkxpbmssIG1heEZlZSk7CiAgICAgICAgdHhzLnB1c2goYWNjb3VudEtleUxpbmtUeCwgdnJmS2V5TGlua1R4LCBub2RlTGlua1R4KTsKICAgICAgfQoKICAgICAgaWYgKHR4cy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXNpZ01vZGUoKSkgewogICAgICAgICAgcmV0dXJuIHRoaXMudG9NdWx0aVNpZ0FnZ3JlZ2F0ZSh0eHMsIG1heEZlZSwgdHJhbnNhY3Rpb25TaWduZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgYWdncmVnYXRlID0gdGhpcy5jYWxjdWxhdGVTdWdnZXN0ZWRNYXhGZWUoQWdncmVnYXRlVHJhbnNhY3Rpb24uY3JlYXRlQ29tcGxldGUoRGVhZGxpbmUuY3JlYXRlKHRoaXMuZXBvY2hBZGp1c3RtZW50KSwgdHhzLm1hcChmdW5jdGlvbiAodCkgewogICAgICAgICAgICByZXR1cm4gdC50b0FnZ3JlZ2F0ZShfdGhpczIuY3VycmVudFNpZ25lckFjY291bnQpOwogICAgICAgICAgfSksIHRoaXMubmV0d29ya1R5cGUsIFtdLCBtYXhGZWUpKTsKICAgICAgICAgIHJldHVybiBvZihbYWdncmVnYXRlXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gb2YoW10pOwogICAgfQogIH0sIHsKICAgIGtleTogInRvTXVsdGlTaWdBZ2dyZWdhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvTXVsdGlTaWdBZ2dyZWdhdGUodHhzLCBtYXhGZWUsIHRyYW5zYWN0aW9uU2lnbmVyKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGFnZ3JlZ2F0ZSA9IHRoaXMuY2FsY3VsYXRlU3VnZ2VzdGVkTWF4RmVlKEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uLmNyZWF0ZUJvbmRlZChEZWFkbGluZS5jcmVhdGUodGhpcy5lcG9jaEFkanVzdG1lbnQpLCB0eHMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQudG9BZ2dyZWdhdGUoX3RoaXMzLmN1cnJlbnRTaWduZXJBY2NvdW50KTsKICAgICAgfSksIHRoaXMubmV0d29ya1R5cGUsIFtdLCBtYXhGZWUpKTsKICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uU2lnbmVyLnNpZ25UcmFuc2FjdGlvbihhZ2dyZWdhdGUsIHRoaXMuZ2VuZXJhdGlvbkhhc2gpLnBpcGUobWFwKGZ1bmN0aW9uIChzaWduZWRBZ2dyZWdhdGVUcmFuc2FjdGlvbikgewogICAgICAgIHZhciBoYXNoTG9jayA9IF90aGlzMy5jYWxjdWxhdGVTdWdnZXN0ZWRNYXhGZWUoTG9ja0Z1bmRzVHJhbnNhY3Rpb24uY3JlYXRlKERlYWRsaW5lLmNyZWF0ZShfdGhpczMuZXBvY2hBZGp1c3RtZW50KSwgbmV3IE1vc2FpYyhfdGhpczMubmV0d29ya01vc2FpYywgVUludDY0LmZyb21OdW1lcmljU3RyaW5nKF90aGlzMy5uZXR3b3JrQ29uZmlndXJhdGlvbi5sb2NrZWRGdW5kc1BlckFnZ3JlZ2F0ZSkpLCBVSW50NjQuZnJvbVVpbnQoMTAwMCksIHNpZ25lZEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uLCBfdGhpczMubmV0d29ya1R5cGUsIG1heEZlZSkpOwoKICAgICAgICByZXR1cm4gW2hhc2hMb2NrLCBhZ2dyZWdhdGVdOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uKCkgewogICAgICB2YXIgdHJhbnNhY3Rpb25TaWduZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMudGVtcFRyYW5zYWN0aW9uU2lnbmVyOwogICAgICB2YXIgbWF4RmVlID0gVUludDY0LmZyb21VaW50KGZlZXNDb25maWcuaGlnaGVzdCk7CgogICAgICBpZiAodGhpcy5hY3Rpb24gIT09IEhhcnZlc3RpbmdBY3Rpb24uU1RPUCkgewogICAgICAgIHZhciBwZXJzaXN0ZW50RGVsZWdhdGlvblJlcVR4ID0gUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb24uY3JlYXRlUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb24oRGVhZGxpbmUuY3JlYXRlKHRoaXMuZXBvY2hBZGp1c3RtZW50LCB0aGlzLmlzTXVsdGlzaWdNb2RlKCkgPyAyNCA6IDIpLCB0aGlzLm5ld1JlbW90ZUFjY291bnQucHJpdmF0ZUtleSwgdGhpcy5uZXdWcmZLZXlBY2NvdW50LnByaXZhdGVLZXksIHRoaXMuZm9ybUl0ZW1zLm5vZGVNb2RlbC5ub2RlUHVibGljS2V5LCB0aGlzLm5ldHdvcmtUeXBlLCBtYXhGZWUpOwogICAgICAgIHJldHVybiB0aGlzLmlzTXVsdGlzaWdNb2RlKCkgPyB0aGlzLnRvTXVsdGlTaWdBZ2dyZWdhdGUoW3BlcnNpc3RlbnREZWxlZ2F0aW9uUmVxVHhdLCBtYXhGZWUsIHRyYW5zYWN0aW9uU2lnbmVyKSA6IG9mKFt0aGlzLmNhbGN1bGF0ZVN1Z2dlc3RlZE1heEZlZShwZXJzaXN0ZW50RGVsZWdhdGlvblJlcVR4KV0pOwogICAgICB9CgogICAgICByZXR1cm4gb2YoW10pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc29sdmVUcmFuc2FjdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVUcmFuc2FjdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuZ2V0S2V5TGlua1RyYW5zYWN0aW9ucygpLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uICh0eHMpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LmdldFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uKCkucGlwZShtYXAoZnVuY3Rpb24gKHB0eHMpIHsKICAgICAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHR4cyksIF90b0NvbnN1bWFibGVBcnJheShwdHhzKSk7CiAgICAgICAgfSkpOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYW5ub3VuY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFubm91bmNlKHNlcnZpY2UsIHRyYW5zYWN0aW9uU2lnbmVyKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgLy8gYW5ub3VuY2UgdGhlIGtleUxpbmsgdHhzIGFuZCBzYXZlIHRoZSBzaWduZWQgUGVyc2lzdGVudERlbGVnYXRpb25SZXFUeCB0byB0aGUgc3RvcmUKICAgICAgdmFyIGFjY291bnRJZCA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRNb2RlbC5pZDsKICAgICAgdmFyIHNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeCQgPSB0aGlzLmdldFBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uU2lnbmVyKS5waXBlKGNvbmNhdE1hcChmdW5jdGlvbiAodHhzKSB7CiAgICAgICAgcmV0dXJuIHR4cy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblNpZ25lci5zaWduVHJhbnNhY3Rpb24odCwgX3RoaXM1LmdlbmVyYXRpb25IYXNoKTsKICAgICAgICB9KTsKICAgICAgfSksIG1lcmdlQWxsKCksIHRvQXJyYXkoKSk7CiAgICAgIHJldHVybiB0aGlzLmdldEtleUxpbmtUcmFuc2FjdGlvbnModHJhbnNhY3Rpb25TaWduZXIpLnBpcGUoZmxhdE1hcChmdW5jdGlvbiAodHJhbnNhY3Rpb25zKSB7CiAgICAgICAgdmFyIHNpZ25lZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvblNpZ25lci5zaWduVHJhbnNhY3Rpb24odCwgX3RoaXM1LmdlbmVyYXRpb25IYXNoKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFzaWduZWRUcmFuc2FjdGlvbnMubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gb2YoW10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzNS5pc011bHRpc2lnTW9kZSgpKSB7CiAgICAgICAgICByZXR1cm4gb2YoW190aGlzNS5hbm5vdW5jZUhhc2hBbmRBZ2dyZWdhdGVCb25kZWQoc2VydmljZSwgc2lnbmVkVHJhbnNhY3Rpb25zKV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gb2YoX3RoaXM1LmFubm91bmNlU2ltcGxlKHNlcnZpY2UsIHNpZ25lZFRyYW5zYWN0aW9ucykpOwogICAgICAgIH0KICAgICAgfSksIHRhcChmdW5jdGlvbiAocmVzQXJyKSB7CiAgICAgICAgcmV0dXJuIHJlc0FyclswXS5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgIHNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeCQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzaWduZWRUeCkgewogICAgICAgICAgICAgIHJldHVybiBfdGhpczUuc2F2ZVNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHMoYWNjb3VudElkLCBzaWduZWRUeCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM1LiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC9VUERBVEVfQUNDT1VOVF9JU19QRVJTSVNURU5UX0RFTF9SRVFfU0VOVCcsIHsKICAgICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCwKICAgICAgICAgICAgICBpc1BlcnNpc3RlbnREZWxSZXFTZW50OiBmYWxzZQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNS4kc3RvcmUuZGlzcGF0Y2goJ2FjY291bnQvVVBEQVRFX0FDQ09VTlRfU0VMRUNURURfSEFSVkVTVElOR19OT0RFJywgewogICAgICAgICAgICAgIGFjY291bnRJZDogYWNjb3VudElkLAogICAgICAgICAgICAgIHNlbGVjdGVkSGFydmVzdGluZ05vZGU6IF90aGlzNS5mb3JtSXRlbXMubm9kZU1vZGVsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYW5ub3VuY2VIYXNoQW5kQWdncmVnYXRlQm9uZGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbm5vdW5jZUhhc2hBbmRBZ2dyZWdhdGVCb25kZWQoc2VydmljZSwgc2lnbmVkVHJhbnNhY3Rpb25zKSB7CiAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbnNbMF0ucGlwZShmbGF0TWFwKGZ1bmN0aW9uIChzaWduZWRIYXNoTG9ja1RyYW5zYWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIHNpZ25lZFRyYW5zYWN0aW9uc1sxXS5waXBlKGZsYXRNYXAoZnVuY3Rpb24gKHNpZ25lZEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uKSB7CiAgICAgICAgICByZXR1cm4gc2VydmljZS5hbm5vdW5jZUhhc2hBbmRBZ2dyZWdhdGVCb25kZWQoc2lnbmVkSGFzaExvY2tUcmFuc2FjdGlvbiwgc2lnbmVkQWdncmVnYXRlVHJhbnNhY3Rpb24pOwogICAgICAgIH0pKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImFubm91bmNlU2ltcGxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhbm5vdW5jZVNpbXBsZShzZXJ2aWNlLCBzaWduZWRUcmFuc2FjdGlvbnMpIHsKICAgICAgcmV0dXJuIHNpZ25lZFRyYW5zYWN0aW9ucy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby5waXBlKGZsYXRNYXAoZnVuY3Rpb24gKHMpIHsKICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmFubm91bmNlKHMpOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FsY3VsYXRlU3VnZ2VzdGVkTWF4RmVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVTdWdnZXN0ZWRNYXhGZWUodHJhbnNhY3Rpb24pIHsKICAgICAgdmFyIGZlZU11bHRpcGxpZXIgPSB0aGlzLnJlc29sdmVGZWVNdWx0aXBsZXIodHJhbnNhY3Rpb24pOwoKICAgICAgaWYgKCFmZWVNdWx0aXBsaWVyKSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uOwogICAgICB9CgogICAgICBpZiAodHJhbnNhY3Rpb24gaW5zdGFuY2VvZiBBZ2dyZWdhdGVUcmFuc2FjdGlvbikgewogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbi5zZXRNYXhGZWVGb3JBZ2dyZWdhdGUoZmVlTXVsdGlwbGllciwgdGhpcy5yZXF1aXJlZENvc2lnbmF0dXJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uLnNldE1heEZlZShmZWVNdWx0aXBsaWVyKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlc29sdmVGZWVNdWx0aXBsZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVGZWVNdWx0aXBsZXIodHJhbnNhY3Rpb24pIHsKICAgICAgaWYgKHRyYW5zYWN0aW9uLm1heEZlZS5jb21wYWN0KCkgPT0gMSkgewogICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uRmVlcy5tZWRpYW5GZWVNdWx0aXBsaWVyIHx8IHRoaXMubmV0d29ya0NvbmZpZ3VyYXRpb24uZGVmYXVsdER5bmFtaWNGZWVNdWx0aXBsaWVyOyAvLyBUT0RPIHVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgd2hlbiBodHRwczovL2dpdGh1Yi5jb20vbmVtdGVjaC9jYXRhcHVsdC1yZXN0L2lzc3Vlcy8zMjYgaXMgcmVzb2x2ZWQKICAgICAgICAvLyByZXR1cm4gdGhpcy50cmFuc2FjdGlvbkZlZXMuYXZlcmFnZUZlZU11bHRpcGxpZXIgKiAxLjIgfHwgdGhpcy5uZXR3b3JrQ29uZmlndXJhdGlvbi5kZWZhdWx0RHluYW1pY0ZlZU11bHRpcGxpZXI7CiAgICAgIH0KCiAgICAgIGlmICh0cmFuc2FjdGlvbi5tYXhGZWUuY29tcGFjdCgpID09IDIpIHsKICAgICAgICByZXR1cm4gdGhpcy50cmFuc2FjdGlvbkZlZXMuaGlnaGVzdEZlZU11bHRpcGxpZXIgfHwgdGhpcy5uZXR3b3JrQ29uZmlndXJhdGlvbi5kZWZhdWx0RHluYW1pY0ZlZU11bHRpcGxpZXI7CiAgICAgIH0KCiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZVNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVTaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzKGFjY291bnRJZCwgc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cykgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC9VUERBVEVfQUNDT1VOVF9TSUdORURfUEVSU0lTVEVOVF9ERUxfUkVRX1RYUycsIHsKICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCwKICAgICAgICBzaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzOiBzaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzCiAgICAgIH0pOwoKICAgICAgaWYgKCFzaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzIHx8IHNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdmFyIGlzUGVyc2lzdGVudERlbFJlcVNlbnQgPSBmYWxzZTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWNjb3VudC9VUERBVEVfQUNDT1VOVF9JU19QRVJTSVNURU5UX0RFTF9SRVFfU0VOVCcsIHsKICAgICAgICAgIGFjY291bnRJZDogYWNjb3VudElkLAogICAgICAgICAgaXNQZXJzaXN0ZW50RGVsUmVxU2VudDogaXNQZXJzaXN0ZW50RGVsUmVxU2VudAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYWN0aXZhdGVIYXJ2ZXN0aW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhY3RpdmF0ZUhhcnZlc3RpbmcoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgVnVlLnNldCh0aGlzLCAnYWN0aXZhdGluZycsIHRydWUpOwogICAgICB2YXIgYWNjb3VudElkID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudE1vZGVsLmlkOwogICAgICB2YXIgdHJhbnNhY3Rpb25Bbm5vdWNlciA9IG5ldyBUcmFuc2FjdGlvbkFubm91bmNlclNlcnZpY2UodGhpcy4kc3RvcmUpOwogICAgICB2YXIgYW5ub3VuY2VSZXN1bHQ7CgogICAgICBpZiAodGhpcy5pc011bHRpc2lnTW9kZSgpKSB7CiAgICAgICAgYW5ub3VuY2VSZXN1bHQgPSB0cmFuc2FjdGlvbkFubm91Y2VyLmFubm91bmNlSGFzaEFuZEFnZ3JlZ2F0ZUJvbmRlZCh0aGlzLnNpZ25lZFBlcnNpc3RlbnREZWxSZXFUeHNbMF0sIHRoaXMuc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4c1sxXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYW5ub3VuY2VSZXN1bHQgPSB0cmFuc2FjdGlvbkFubm91Y2VyLmFubm91bmNlKHRoaXMuc2lnbmVkUGVyc2lzdGVudERlbFJlcVR4c1swXSk7CiAgICAgIH0KCiAgICAgIGFubm91bmNlUmVzdWx0LnN1YnNjcmliZShmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczYuJHN0b3JlLmRpc3BhdGNoKCdhY2NvdW50L1VQREFURV9BQ0NPVU5UX0lTX1BFUlNJU1RFTlRfREVMX1JFUV9TRU5UJywgewogICAgICAgICAgICBhY2NvdW50SWQ6IGFjY291bnRJZCwKICAgICAgICAgICAgaXNQZXJzaXN0ZW50RGVsUmVxU2VudDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBWdWUuc2V0KF90aGlzNiwgJ2FjdGl2YXRpbmcnLCBmYWxzZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUFjY291bnRLZXlMaW5rVHgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFjY291bnRLZXlMaW5rVHgocHVibGljS2V5LCBsaW5rQWN0aW9uLCBtYXhGZWUpIHsKICAgICAgcmV0dXJuIEFjY291bnRLZXlMaW5rVHJhbnNhY3Rpb24uY3JlYXRlKHRoaXMuY3JlYXRlRGVhZGxpbmUoKSwgcHVibGljS2V5LCBsaW5rQWN0aW9uLCB0aGlzLm5ldHdvcmtUeXBlLCBtYXhGZWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZVZyZktleUxpbmtUeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVnJmS2V5TGlua1R4KHB1YmxpY0tleSwgbGlua0FjdGlvbiwgbWF4RmVlKSB7CiAgICAgIHJldHVybiBWcmZLZXlMaW5rVHJhbnNhY3Rpb24uY3JlYXRlKHRoaXMuY3JlYXRlRGVhZGxpbmUoKSwgcHVibGljS2V5LCBsaW5rQWN0aW9uLCB0aGlzLm5ldHdvcmtUeXBlLCBtYXhGZWUpOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZU5vZGVLZXlMaW5rVHgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU5vZGVLZXlMaW5rVHgocHVibGljS2V5LCBsaW5rQWN0aW9uLCBtYXhGZWUpIHsKICAgICAgcmV0dXJuIE5vZGVLZXlMaW5rVHJhbnNhY3Rpb24uY3JlYXRlKHRoaXMuY3JlYXRlRGVhZGxpbmUoKSwgcHVibGljS2V5LCBsaW5rQWN0aW9uLCB0aGlzLm5ldHdvcmtUeXBlLCBtYXhGZWUpOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIGFsbCBrZXlzIGFyZSBsaW5rZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZXRUcmFuc2FjdGlvbnMiLAoKICAgIC8qKgogICAgICogU2V0dGVyIGZvciBUUkFOU0ZFUiB0cmFuc2FjdGlvbnMgdGhhdCB3aWxsIGJlIHN0YWdlZAogICAgICogQHNlZSB7Rm9ybVRyYW5zYWN0aW9uQmFzZX0KICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiBub3Qgb3ZlcmxvYWRlZCBpbiBkZXJpdmF0ZSBjb21wb25lbnQKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRyYW5zYWN0aW9ucygpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHRyYW5zYWN0aW9uIGNhbiBub3QgYmUgc3RhZ2VkJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25TdGFydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdGFydCgpIHsKICAgICAgdGhpcy5hY3Rpb24gPSBIYXJ2ZXN0aW5nQWN0aW9uLlNUQVJUOwoKICAgICAgaWYgKHRoaXMubmV0d29ya0JhbGFuY2VNb3NhaWNzLmJhbGFuY2UgLyBNYXRoLnBvdygxMCwgdGhpcy5uZXR3b3JrQmFsYW5jZU1vc2FpY3MuZGl2aXNpYmlsaXR5KSA8IDEwMDAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCB0aGlzLiR0KCdoYXJ2ZXN0aW5nX2FjY291bnRfaW5zdWZmaWNpZW50X2JhbGFuY2UnKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm9uU3VibWl0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25TdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblN0b3AoKSB7CiAgICAgIHRoaXMuYWN0aW9uID0gSGFydmVzdGluZ0FjdGlvbi5TVE9QOwogICAgICB0aGlzLm9uU3VibWl0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25Td2FwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblN3YXAoKSB7CiAgICAgIHRoaXMuYWN0aW9uID0gSGFydmVzdGluZ0FjdGlvbi5TV0FQOwogICAgICB0aGlzLm9uU3VibWl0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25TdWJtaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICBpZiAoIXRoaXMuYWxsS2V5c0xpbmtlZCAmJiAhdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsLm5vZGVQdWJsaWNLZXkubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCB0aGlzLiR0KCdpbnZhbGlkX25vZGUnKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIC0gb3BlbiBzaWduYXR1cmUgbW9kYWwKCgogICAgICB0aGlzLm9uU2hvd0NvbmZpcm1hdGlvbk1vZGFsKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWxsS2V5c0xpbmtlZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNBY2NvdW50S2V5TGlua2VkICYmIHRoaXMuaXNWcmZLZXlMaW5rZWQgJiYgdGhpcy5pc05vZGVLZXlMaW5rZWQ7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgYWNjb3VudCBrZXkgaXMgbGlua2VkCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaXNBY2NvdW50S2V5TGlua2VkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX2E7CgogICAgICByZXR1cm4gISEoKF9hID0gdGhpcy5jdXJyZW50U2lnbmVyQWNjb3VudEluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdXBwbGVtZW50YWxQdWJsaWNLZXlzLmxpbmtlZCk7CiAgICB9CiAgICAvKioKICAgICAqIFdoZXRoZXIgdnJmIGtleSBpcyBsaW5rZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc1ZyZktleUxpbmtlZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF9hOwoKICAgICAgcmV0dXJuICEhKChfYSA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRJbmZvKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3VwcGxlbWVudGFsUHVibGljS2V5cy52cmYpOwogICAgfQogICAgLyoqCiAgICAgKiBXaGV0aGVyIG5vZGUga2V5IGlzIGxpbmtlZAogICAgICovCgogIH0sIHsKICAgIGtleTogImlzTm9kZUtleUxpbmtlZCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF9hOwoKICAgICAgcmV0dXJuICEhKChfYSA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRJbmZvKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3VwcGxlbWVudGFsUHVibGljS2V5cy5ub2RlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzd2FwRGlzYWJsZWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDsKCiAgICAgIHJldHVybiAoKF9hID0gdGhpcy5mb3JtSXRlbXMubm9kZU1vZGVsLm5vZGVQdWJsaWNLZXkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpKSA9PT0gKChfZCA9IChfYyA9IChfYiA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRJbmZvLnN1cHBsZW1lbnRhbFB1YmxpY0tleXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ub2RlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucHVibGljS2V5KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QudG9Mb3dlckNhc2UoKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VycmVudFNpZ25lckFjY291bnQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBQdWJsaWNBY2NvdW50LmNyZWF0ZUZyb21QdWJsaWNLZXkodGhpcy5jdXJyZW50U2lnbmVyUHVibGljS2V5LCB0aGlzLm5ldHdvcmtUeXBlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXF1aXJlZENvc2lnbmF0dXJlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNpZ25lck11bHRpc2lnSW5mbyA/IHRoaXMuY3VycmVudFNpZ25lck11bHRpc2lnSW5mby5taW5BcHByb3ZhbCA6IHRoaXMuc2VsZWN0ZWRTaWduZXIucmVxdWlyZWRDb3NpZ25hdHVyZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2lnbmVkUGVyc2lzdGVudERlbFJlcVR4cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF9hOwoKICAgICAgcmV0dXJuIChfYSA9IHRoaXMuY3VycmVudFNpZ25lckFjY291bnRNb2RlbC5zaWduZWRQZXJzaXN0ZW50RGVsUmVxVHhzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKGZ1bmN0aW9uIChzdCkgewogICAgICAgIHJldHVybiBuZXcgU2lnbmVkVHJhbnNhY3Rpb24oc3QucGF5bG9hZCwgc3QuaGFzaCwgc3Quc2lnbmVyUHVibGljS2V5LCBzdC50eXBlLCBzdC5uZXR3b3JrVHlwZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImlzUGVyc2lzdGVudERlbFJlcVNlbnQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTaWduZXJBY2NvdW50TW9kZWwuaXNQZXJzaXN0ZW50RGVsUmVxU2VudDsKICAgIH0KICB9XSk7CgogIHJldHVybiBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25UczsKfShGb3JtVHJhbnNhY3Rpb25CYXNlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogbnVsbAp9KV0sIEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzLnByb3RvdHlwZSwgInNpZ25lckFkZHJlc3MiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ2N1cnJlbnRTaWduZXJBY2NvdW50SW5mbycsIHsKICBpbW1lZGlhdGU6IHRydWUKfSldLCBGb3JtUGVyc2lzdGVudERlbGVnYXRpb25SZXF1ZXN0VHJhbnNhY3Rpb25Ucy5wcm90b3R5cGUsICJjdXJyZW50U2lnbmVyV2F0Y2giLCBudWxsKTsKCkZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBGb3JtV3JhcHBlcjogRm9ybVdyYXBwZXIsCiAgICBNb2RhbFRyYW5zYWN0aW9uQ29uZmlybWF0aW9uOiBNb2RhbFRyYW5zYWN0aW9uQ29uZmlybWF0aW9uLAogICAgU2lnbmVyU2VsZWN0b3I6IFNpZ25lclNlbGVjdG9yLAogICAgVmFsaWRhdGlvbk9ic2VydmVyOiBWYWxpZGF0aW9uT2JzZXJ2ZXIsCiAgICBNYXhGZWVBbmRTdWJtaXQ6IE1heEZlZUFuZFN1Ym1pdCwKICAgIEZvcm1Sb3c6IEZvcm1Sb3csCiAgICBOZXR3b3JrTm9kZVNlbGVjdG9yOiBOZXR3b3JrTm9kZVNlbGVjdG9yLAogICAgRXJyb3JUb29sdGlwOiBFcnJvclRvb2x0aXAsCiAgICBWYWxpZGF0aW9uUHJvdmlkZXI6IFZhbGlkYXRpb25Qcm92aWRlcgogIH0sCiAgY29tcHV0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIG1hcEdldHRlcnMoewogICAgY3VycmVudEhlaWdodDogJ25ldHdvcmsvY3VycmVudEhlaWdodCcsCiAgICBjdXJyZW50U2lnbmVyQWNjb3VudEluZm86ICdhY2NvdW50L2N1cnJlbnRTaWduZXJBY2NvdW50SW5mbycsCiAgICBoYXJ2ZXN0aW5nU3RhdHVzOiAnaGFydmVzdGluZy9zdGF0dXMnLAogICAgY3VycmVudFNpZ25lckFjY291bnRNb2RlbDogJ2FjY291bnQvY3VycmVudFNpZ25lckFjY291bnRNb2RlbCcsCiAgICBuZXR3b3JrQmFsYW5jZU1vc2FpY3M6ICdtb3NhaWMvbmV0d29ya0JhbGFuY2VNb3NhaWNzJwogIH0pKQp9KV0sIEZvcm1QZXJzaXN0ZW50RGVsZWdhdGlvblJlcXVlc3RUcmFuc2FjdGlvblRzKTsKZXhwb3J0IHsgRm9ybVBlcnNpc3RlbnREZWxlZ2F0aW9uUmVxdWVzdFRyYW5zYWN0aW9uVHMgfTs="},{"version":3,"sources":["/home/hero/lared-wallet/src/views/forms/FormPersistentDelegationRequestTransaction/FormPersistentDelegationRequestTransactionTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport {\n    UInt64,\n    AccountKeyLinkTransaction,\n    LinkAction,\n    Transaction,\n    VrfKeyLinkTransaction,\n    Account,\n    NodeKeyLinkTransaction,\n    PersistentDelegationRequestTransaction,\n    AccountInfo,\n    AggregateTransaction,\n    PublicAccount,\n    Deadline,\n    LockFundsTransaction,\n    Mosaic,\n    SignedTransaction,\n} from 'symbol-sdk';\nimport { Component, Prop, Watch } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\nimport Vue from 'vue';\n\n// internal dependencies\nimport { Formatters } from '@/core/utils/Formatters';\nimport { FormTransactionBase } from '@/views/forms/FormTransactionBase/FormTransactionBase';\n\n// child components\nimport { ValidationObserver } from 'vee-validate';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport ModalTransactionConfirmation from '@/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue';\n// @ts-ignore\nimport SignerSelector from '@/components/SignerSelector/SignerSelector.vue';\n// @ts-ignore\nimport MaxFeeAndSubmit from '@/components/MaxFeeAndSubmit/MaxFeeAndSubmit.vue';\n// @ts-ignore\nimport NetworkNodeSelector from '@/components/NetworkNodeSelector/NetworkNodeSelector.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n// @ts-ignore\nimport ErrorTooltip from '@/components/ErrorTooltip/ErrorTooltip.vue';\nimport { ValidationProvider } from 'vee-validate';\n\nimport { feesConfig } from '@/config';\nimport { HarvestingStatus } from '@/store/Harvesting';\nimport { AccountTransactionSigner, TransactionAnnouncerService, TransactionSigner } from '@/services/TransactionAnnouncerService';\nimport { Observable, of } from 'rxjs';\nimport { concatMap, flatMap, map, mergeAll, switchMap, tap, toArray } from 'rxjs/operators';\nimport { BroadcastResult } from '@/core/transactions/BroadcastResult';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\nimport { MosaicModel } from '@/core/database/entities/MosaicModel';\n\nexport enum HarvestingAction {\n    START = 1,\n    STOP = 2,\n    SWAP = 3,\n    ACTIVATE = 4,\n}\n\n@Component({\n    components: {\n        FormWrapper,\n        ModalTransactionConfirmation,\n        SignerSelector,\n        ValidationObserver,\n        MaxFeeAndSubmit,\n        FormRow,\n        NetworkNodeSelector,\n        ErrorTooltip,\n        ValidationProvider,\n    },\n    computed: {\n        ...mapGetters({\n            currentHeight: 'network/currentHeight',\n            currentSignerAccountInfo: 'account/currentSignerAccountInfo',\n            harvestingStatus: 'harvesting/status',\n            currentSignerAccountModel: 'account/currentSignerAccountModel',\n            networkBalanceMosaics: 'mosaic/networkBalanceMosaics',\n        }),\n    },\n})\nexport class FormPersistentDelegationRequestTransactionTs extends FormTransactionBase {\n    @Prop({ default: null }) signerAddress: string;\n    //@Prop({ default: true }) withLink: boolean;\n\n    /**\n     * Formatters helpers\n     */\n    public formatters = Formatters;\n\n    /**\n     * Form items\n     */\n    public formItems = {\n        nodeModel: { nodePublicKey: '' } as NodeModel,\n        signerAddress: '',\n    };\n\n    private newVrfKeyAccount: Account;\n    private newRemoteAccount: Account;\n\n    /**\n     * Current signer account info\n     */\n    private currentSignerAccountInfo: AccountInfo;\n\n    private currentSignerAccountModel: AccountModel;\n\n    private action = HarvestingAction.START;\n\n    private harvestingStatus: HarvestingStatus;\n\n    private tempTransactionSigner: TransactionSigner;\n\n    private activating = false;\n\n    /**\n     * Current account owned mosaics\n     * @protected\n     * @type {MosaicModel[]}\n     */\n    private networkBalanceMosaics: MosaicModel;\n\n    /**\n     * Reset the form with properties\n     * @return {void}\n     */\n    protected resetForm() {\n        // - set default form values\n        this.action = HarvestingAction.START;\n        // - maxFee must be absolute\n        this.newVrfKeyAccount = Account.generateNewAccount(this.networkType);\n        this.newRemoteAccount = Account.generateNewAccount(this.networkType);\n        this.tempTransactionSigner = new AccountTransactionSigner(Account.generateNewAccount(this.networkType));\n    }\n\n    @Watch('currentSignerAccountInfo', { immediate: true })\n    private currentSignerWatch() {\n        this.formItems.signerAddress = this.signerAddress || this.currentSignerAccountInfo?.address.plain();\n\n        if (this.isNodeKeyLinked) {\n            this.formItems.nodeModel.nodePublicKey = this.currentSignerAccountInfo?.supplementalPublicKeys.node.publicKey;\n            if (this.currentSignerAccountModel?.selectedHarvestingNode) {\n                this.formItems.nodeModel = this.currentSignerAccountModel.selectedHarvestingNode;\n            } else {\n                this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n            }\n        } else {\n            this.formItems.nodeModel = { nodePublicKey: '' } as NodeModel;\n        }\n    }\n\n    /**\n     * To get all the key link transactions\n     */\n    protected getKeyLinkTransactions(transactionSigner = this.tempTransactionSigner): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest); // fixed to the Highest, txs must get confirmed\n        const txs: Transaction[] = [];\n\n        /*\n         LINK\n         START => link all (new keys)\n         STOP =>  unlink all (linked keys)\n         SWAP =>  unlink(linked) + link all (new keys)\n         */\n\n        if (this.isAccountKeyLinked) {\n            const accountKeyUnLinkTx = this.createAccountKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.linked.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(accountKeyUnLinkTx);\n        }\n\n        if (this.isVrfKeyLinked) {\n            const vrfKeyUnLinkTx = this.createVrfKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.vrf.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n            txs.push(vrfKeyUnLinkTx);\n        }\n\n        if (this.isNodeKeyLinked) {\n            const nodeUnLinkTx = this.createNodeKeyLinkTx(\n                this.currentSignerAccountInfo.supplementalPublicKeys.node.publicKey,\n                LinkAction.Unlink,\n                maxFee,\n            );\n\n            txs.push(nodeUnLinkTx);\n        }\n\n        if (this.action !== HarvestingAction.STOP) {\n            const accountKeyLinkTx = this.createAccountKeyLinkTx(this.newRemoteAccount.publicKey, LinkAction.Link, maxFee);\n            const vrfKeyLinkTx = this.createVrfKeyLinkTx(this.newVrfKeyAccount.publicKey, LinkAction.Link, maxFee);\n            const nodeLinkTx = this.createNodeKeyLinkTx(this.formItems.nodeModel.nodePublicKey, LinkAction.Link, maxFee);\n            txs.push(accountKeyLinkTx, vrfKeyLinkTx, nodeLinkTx);\n        }\n\n        if (txs.length > 0) {\n            if (this.isMultisigMode()) {\n                return this.toMultiSigAggregate(txs, maxFee, transactionSigner);\n            } else {\n                const aggregate = this.calculateSuggestedMaxFee(\n                    AggregateTransaction.createComplete(\n                        Deadline.create(this.epochAdjustment),\n                        txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                        this.networkType,\n                        [],\n                        maxFee,\n                    ),\n                );\n                return of([aggregate]);\n            }\n        }\n        return of([]);\n    }\n\n    public toMultiSigAggregate(txs: Transaction[], maxFee, transactionSigner: TransactionSigner) {\n        const aggregate = this.calculateSuggestedMaxFee(\n            AggregateTransaction.createBonded(\n                Deadline.create(this.epochAdjustment),\n                txs.map((t) => t.toAggregate(this.currentSignerAccount)),\n                this.networkType,\n                [],\n                maxFee,\n            ),\n        );\n        return transactionSigner.signTransaction(aggregate, this.generationHash).pipe(\n            map((signedAggregateTransaction) => {\n                const hashLock = this.calculateSuggestedMaxFee(\n                    LockFundsTransaction.create(\n                        Deadline.create(this.epochAdjustment),\n                        new Mosaic(this.networkMosaic, UInt64.fromNumericString(this.networkConfiguration.lockedFundsPerAggregate)),\n                        UInt64.fromUint(1000),\n                        signedAggregateTransaction,\n                        this.networkType,\n                        maxFee,\n                    ),\n                );\n                return [hashLock, aggregate];\n            }),\n        );\n    }\n\n    public getPersistentDelegationRequestTransaction(\n        transactionSigner: TransactionSigner = this.tempTransactionSigner,\n    ): Observable<Transaction[]> {\n        const maxFee = UInt64.fromUint(feesConfig.highest);\n        if (this.action !== HarvestingAction.STOP) {\n            const persistentDelegationReqTx = PersistentDelegationRequestTransaction.createPersistentDelegationRequestTransaction(\n                Deadline.create(this.epochAdjustment, this.isMultisigMode() ? 24 : 2),\n                this.newRemoteAccount.privateKey,\n                this.newVrfKeyAccount.privateKey,\n                this.formItems.nodeModel.nodePublicKey,\n                this.networkType,\n                maxFee,\n            );\n\n            return this.isMultisigMode()\n                ? this.toMultiSigAggregate([persistentDelegationReqTx], maxFee, transactionSigner)\n                : of([this.calculateSuggestedMaxFee(persistentDelegationReqTx)]);\n        }\n        return of([]);\n    }\n\n    public resolveTransactions(): Observable<Transaction[]> {\n        return this.getKeyLinkTransactions().pipe(\n            switchMap((txs) => this.getPersistentDelegationRequestTransaction().pipe(map((ptxs) => [...txs, ...ptxs]))),\n        );\n    }\n\n    public announce(service: TransactionAnnouncerService, transactionSigner: TransactionSigner): Observable<Observable<BroadcastResult>[]> {\n        // announce the keyLink txs and save the signed PersistentDelegationReqTx to the store\n        const accountId = this.currentSignerAccountModel.id;\n        const signedPersistentDelReqTx$ = this.getPersistentDelegationRequestTransaction(transactionSigner).pipe(\n            concatMap((txs) => txs.map((t) => transactionSigner.signTransaction(t, this.generationHash))),\n            mergeAll(),\n            toArray(),\n        );\n\n        return this.getKeyLinkTransactions(transactionSigner).pipe(\n            flatMap((transactions) => {\n                const signedTransactions = transactions.map((t) => transactionSigner.signTransaction(t, this.generationHash));\n                if (!signedTransactions.length) {\n                    return of([]) as Observable<Observable<BroadcastResult>[]>;\n                }\n                if (this.isMultisigMode()) {\n                    return of([this.announceHashAndAggregateBonded(service, signedTransactions)]);\n                } else {\n                    return of(this.announceSimple(service, signedTransactions));\n                }\n            }),\n            tap((resArr) =>\n                resArr[0].subscribe((res) => {\n                    if (res.success) {\n                        signedPersistentDelReqTx$.subscribe((signedTx) => this.saveSignedPersistentDelReqTxs(accountId, signedTx));\n                        this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', {\n                            accountId,\n                            isPersistentDelReqSent: false,\n                        });\n\n                        this.$store.dispatch('account/UPDATE_ACCOUNT_SELECTED_HARVESTING_NODE', {\n                            accountId,\n                            selectedHarvestingNode: this.formItems.nodeModel,\n                        });\n                    }\n                }),\n            ),\n        );\n    }\n\n    private announceHashAndAggregateBonded(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult> {\n        return signedTransactions[0].pipe(\n            flatMap((signedHashLockTransaction) => {\n                return signedTransactions[1].pipe(\n                    flatMap((signedAggregateTransaction) => {\n                        return service.announceHashAndAggregateBonded(signedHashLockTransaction, signedAggregateTransaction);\n                    }),\n                );\n            }),\n        );\n    }\n\n    private announceSimple(\n        service: TransactionAnnouncerService,\n        signedTransactions: Observable<SignedTransaction>[],\n    ): Observable<BroadcastResult>[] {\n        return signedTransactions.map((o) => o.pipe(flatMap((s) => service.announce(s))));\n    }\n\n    private calculateSuggestedMaxFee(transaction: Transaction): Transaction {\n        const feeMultiplier = this.resolveFeeMultipler(transaction);\n        if (!feeMultiplier) {\n            return transaction;\n        }\n        if (transaction instanceof AggregateTransaction) {\n            return transaction.setMaxFeeForAggregate(feeMultiplier, this.requiredCosignatures);\n        } else {\n            return transaction.setMaxFee(feeMultiplier);\n        }\n    }\n\n    private resolveFeeMultipler(transaction: Transaction): number | undefined {\n        if (transaction.maxFee.compact() == 1) {\n            return this.transactionFees.medianFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n            // TODO uncomment the following line when https://github.com/nemtech/catapult-rest/issues/326 is resolved\n            // return this.transactionFees.averageFeeMultiplier * 1.2 || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        if (transaction.maxFee.compact() == 2) {\n            return this.transactionFees.highestFeeMultiplier || this.networkConfiguration.defaultDynamicFeeMultiplier;\n        }\n        return undefined;\n    }\n    private saveSignedPersistentDelReqTxs(accountId: string, signedPersistentDelReqTxs: SignedTransaction[]) {\n        this.$store.dispatch('account/UPDATE_ACCOUNT_SIGNED_PERSISTENT_DEL_REQ_TXS', { accountId, signedPersistentDelReqTxs });\n        if (!signedPersistentDelReqTxs || signedPersistentDelReqTxs.length === 0) {\n            const isPersistentDelReqSent = false;\n            this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', { accountId, isPersistentDelReqSent });\n        }\n    }\n\n    protected activateHarvesting() {\n        Vue.set(this, 'activating', true);\n        const accountId = this.currentSignerAccountModel.id;\n        const transactionAnnoucer = new TransactionAnnouncerService(this.$store);\n        let announceResult: Observable<BroadcastResult>;\n\n        if (this.isMultisigMode()) {\n            announceResult = transactionAnnoucer.announceHashAndAggregateBonded(\n                this.signedPersistentDelReqTxs[0],\n                this.signedPersistentDelReqTxs[1],\n            );\n        } else {\n            announceResult = transactionAnnoucer.announce(this.signedPersistentDelReqTxs[0]);\n        }\n        announceResult.subscribe((res) => {\n            if (res.success) {\n                this.$store.dispatch('account/UPDATE_ACCOUNT_IS_PERSISTENT_DEL_REQ_SENT', { accountId, isPersistentDelReqSent: true });\n            }\n            Vue.set(this, 'activating', false);\n        });\n    }\n\n    private createAccountKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): AccountKeyLinkTransaction {\n        return AccountKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createVrfKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): VrfKeyLinkTransaction {\n        return VrfKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n    private createNodeKeyLinkTx(publicKey: string, linkAction: LinkAction, maxFee: UInt64): NodeKeyLinkTransaction {\n        return NodeKeyLinkTransaction.create(this.createDeadline(), publicKey, linkAction, this.networkType, maxFee);\n    }\n\n    /**\n     * Whether all keys are linked\n     */\n    private get allKeysLinked(): boolean {\n        return this.isAccountKeyLinked && this.isVrfKeyLinked && this.isNodeKeyLinked;\n    }\n\n    /**\n     * Whether account key is linked\n     */\n    private get isAccountKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.linked;\n    }\n\n    /**\n     * Whether vrf key is linked\n     */\n    private get isVrfKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.vrf;\n    }\n\n    /**\n     * Whether node key is linked\n     */\n    private get isNodeKeyLinked(): boolean {\n        return !!this.currentSignerAccountInfo?.supplementalPublicKeys.node;\n    }\n\n    /**\n     * Setter for TRANSFER transactions that will be staged\n     * @see {FormTransactionBase}\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected setTransactions() {\n        throw new Error('This transaction can not be staged');\n    }\n\n    public onStart() {\n        this.action = HarvestingAction.START;\n        if (this.networkBalanceMosaics.balance / Math.pow(10, this.networkBalanceMosaics.divisibility) < 10000) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('harvesting_account_insufficient_balance'));\n            return;\n        }\n        this.onSubmit();\n    }\n\n    public onStop() {\n        this.action = HarvestingAction.STOP;\n        this.onSubmit();\n    }\n\n    public onSwap() {\n        this.action = HarvestingAction.SWAP;\n        this.onSubmit();\n    }\n\n    public get swapDisabled(): boolean {\n        return (\n            this.formItems.nodeModel.nodePublicKey?.toLowerCase() ===\n            this.currentSignerAccountInfo.supplementalPublicKeys?.node?.publicKey?.toLowerCase()\n        );\n    }\n\n    public onSubmit() {\n        if (!this.allKeysLinked && !this.formItems.nodeModel.nodePublicKey.length) {\n            this.$store.dispatch('notification/ADD_ERROR', this.$t('invalid_node'));\n            return;\n        }\n\n        // - open signature modal\n        this.onShowConfirmationModal();\n    }\n\n    public get currentSignerAccount() {\n        return PublicAccount.createFromPublicKey(this.currentSignerPublicKey, this.networkType);\n    }\n\n    private get requiredCosignatures() {\n        return this.currentSignerMultisigInfo ? this.currentSignerMultisigInfo.minApproval : this.selectedSigner.requiredCosignatures;\n    }\n\n    private get signedPersistentDelReqTxs() {\n        return this.currentSignerAccountModel.signedPersistentDelReqTxs?.map(\n            (st) => new SignedTransaction(st.payload, st.hash, st.signerPublicKey, st.type, st.networkType),\n        );\n    }\n\n    private get isPersistentDelReqSent() {\n        return this.currentSignerAccountModel.isPersistentDelReqSent;\n    }\n}\n"],"sourceRoot":""}]}