{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/services/RESTService.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/services/RESTService.ts","mtime":1606213958965},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0KCmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmltcG9ydCB7IEFkZHJlc3MgfSBmcm9tICdzeW1ib2wtc2RrJzsgLy8gaW50ZXJuYWwgZGVwZW5kZW5jaWVzCgppbXBvcnQgeyBBZGRyZXNzVmFsaWRhdG9yIH0gZnJvbSAnQC9jb3JlL3ZhbGlkYXRpb24vdmFsaWRhdG9ycyc7CmltcG9ydCB7IE5vdGlmaWNhdGlvblR5cGUgfSBmcm9tICdAL2NvcmUvdXRpbHMvTm90aWZpY2F0aW9uVHlwZSc7CmltcG9ydCB7IFRyYW5zYWN0aW9uR3JvdXBTdGF0ZSB9IGZyb20gJ0Avc3RvcmUvVHJhbnNhY3Rpb24nOwovKioKICogVGhpcyBTZXJ2aWNlIGlzIG1vcmUgbGlrZSBhIHN0YXRpYyBoZWxwZXIgbm93LiBBbGwgdGhlIG1ldGhvZHMgYXJlIHN0YXRpY3MuIFJlbmFtZSBhbmQgbW92ZS4KICovCgpleHBvcnQgdmFyIFJFU1RTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBSRVNUU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSRVNUU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUkVTVFNlcnZpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJzdWJzY3JpYmVUcmFuc2FjdGlvbkNoYW5uZWxzIiwKCiAgICAvKioKICAgICAqIFN1YnNjcmliZSB0byB0cmFuc2FjdGlvbnMgd2Vic29ja2V0IGNoYW5uZWxzCiAgICAgKiBAcGFyYW0ge0NvbnRleHR9IGRpc3BhdGNoIGNvbnRleHQgdGhlIGNvbnRleHQKICAgICAqIEBwYXJhbSB7UmVwb3NpdG9yeUZhY3Rvcnl9IHJlcG9zaXRvcnlGYWN0b3J5IHRoZSBmYWN0b3J5IHVzZWQgdG8gY3JlYXRlIHRoZSBsaXN0ZW5lci4KICAgICAqIEBwYXJhbSB7QWRkcmVzc30gYWRkcmVzcyB0aGUgbGlzdGVuZWQgYWNjb3VudC4KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZVRyYW5zYWN0aW9uQ2hhbm5lbHMoY29udGV4dCwgcmVwb3NpdG9yeUZhY3RvcnksIGFkZHJlc3NTdHIpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhZGRyZXNzLCBsaXN0ZW5lciwgc3RhdHVzLCB1bmNvbmZpcm1lZEFkZGVkLCB1bmNvbmZpcm1lZFJlbW92ZWQsIGNvc2lnbmF0dXJlQWRkZWQsIHBhcnRpYWxBZGRlZCwgcGFydGlhbFJlbW92ZWQsIGNvbmZpcm1lZDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKEFkZHJlc3NWYWxpZGF0b3IudmFsaWRhdGUoYWRkcmVzc1N0cikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzIGZvciBzdWJzY3JpYmluZyB0byB3ZWJzb2NrZXQgY29ubmVjdGlvbnMnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnZGlhZ25vc3RpYy9BRERfREVCVUcnLCAiT3BlbmluZyBSRVNUIHdlYnNvY2tldCBjaGFubmVsIGNvbm5lY3Rpb25zIHdpdGggIi5jb25jYXQoYWRkcmVzc1N0ciksIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7IC8vIG9wZW4gd2Vic29ja2V0IGNvbm5lY3Rpb24KCiAgICAgICAgICAgICAgICBhZGRyZXNzID0gQWRkcmVzcy5jcmVhdGVGcm9tUmF3QWRkcmVzcyhhZGRyZXNzU3RyKTsKICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gcmVwb3NpdG9yeUZhY3RvcnkuY3JlYXRlTGlzdGVuZXIoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLm9wZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gZXJyb3IgbGlzdGVuZXIKICAgICAgICAgICAgICAgIHN0YXR1cyA9IGxpc3RlbmVyLnN0YXR1cyhhZGRyZXNzKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX0VSUk9SJywgZXJyb3IuY29kZSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsgLy8gdW5jb25maXJtZWQgbGlzdGVuZXJzCgogICAgICAgICAgICAgICAgdW5jb25maXJtZWRBZGRlZCA9IGxpc3RlbmVyLnVuY29uZmlybWVkQWRkZWQoYWRkcmVzcykuc3Vic2NyaWJlKGZ1bmN0aW9uICh0cmFuc2FjdGlvbikgewogICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCd0cmFuc2FjdGlvbi9BRERfVFJBTlNBQ1RJT04nLCB7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFRyYW5zYWN0aW9uR3JvdXBTdGF0ZS51bmNvbmZpcm1lZCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHJhbnNhY3Rpb24KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfU1VDQ0VTUycsIE5vdGlmaWNhdGlvblR5cGUuTkVXX1VOQ09ORklSTUVEX1RSQU5TQUNUSU9OLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0VSUk9SJywgZXJyLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdW5jb25maXJtZWRSZW1vdmVkID0gbGlzdGVuZXIudW5jb25maXJtZWRSZW1vdmVkKGFkZHJlc3MpLnN1YnNjcmliZShmdW5jdGlvbiAodHJhbnNhY3Rpb25IYXNoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCd0cmFuc2FjdGlvbi9SRU1PVkVfVFJBTlNBQ1RJT04nLCB7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFRyYW5zYWN0aW9uR3JvdXBTdGF0ZS51bmNvbmZpcm1lZCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6IHRyYW5zYWN0aW9uSGFzaAogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0VSUk9SJywgZXJyLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOyAvLyBwYXJ0aWFsIGxpc3RlbmVycwoKICAgICAgICAgICAgICAgIGNvc2lnbmF0dXJlQWRkZWQgPSBsaXN0ZW5lci5jb3NpZ25hdHVyZUFkZGVkKGFkZHJlc3MpLnN1YnNjcmliZShmdW5jdGlvbiAoY29zaWduYXR1cmUpIHsKICAgICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgndHJhbnNhY3Rpb24vQUREX0NPU0lHTkFUVVJFJywgY29zaWduYXR1cmUsIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX1NVQ0NFU1MnLCBOb3RpZmljYXRpb25UeXBlLkNPU0lHTkFUVVJFX0FEREVELCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0VSUk9SJywgZXJyLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcGFydGlhbEFkZGVkID0gbGlzdGVuZXIuYWdncmVnYXRlQm9uZGVkQWRkZWQoYWRkcmVzcykuc3Vic2NyaWJlKGZ1bmN0aW9uICh0cmFuc2FjdGlvbikgewogICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCd0cmFuc2FjdGlvbi9BRERfVFJBTlNBQ1RJT04nLCB7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFRyYW5zYWN0aW9uR3JvdXBTdGF0ZS5wYXJ0aWFsLAogICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbgogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9TVUNDRVNTJywgTm90aWZpY2F0aW9uVHlwZS5ORVdfQUdHUkVHQVRFX0JPTkRFRCwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCdkaWFnbm9zdGljL0FERF9FUlJPUicsIGVyciwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBhcnRpYWxSZW1vdmVkID0gbGlzdGVuZXIuYWdncmVnYXRlQm9uZGVkUmVtb3ZlZChhZGRyZXNzKS5zdWJzY3JpYmUoZnVuY3Rpb24gKHRyYW5zYWN0aW9uSGFzaCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXNwYXRjaCgndHJhbnNhY3Rpb24vUkVNT1ZFX1RSQU5TQUNUSU9OJywgewogICAgICAgICAgICAgICAgICAgIGdyb3VwOiBUcmFuc2FjdGlvbkdyb3VwU3RhdGUucGFydGlhbCwKICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6IHRyYW5zYWN0aW9uSGFzaAogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGF0Y2goJ2RpYWdub3N0aWMvQUREX0VSUk9SJywgZXJyLCB7CiAgICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOyAvLyBjb25maXJtZWQgbGlzdGVuZXIKCiAgICAgICAgICAgICAgICBjb25maXJtZWQgPSBsaXN0ZW5lci5jb25maXJtZWQoYWRkcmVzcykuc3Vic2NyaWJlKGZ1bmN0aW9uICh0cmFuc2FjdGlvbikgewogICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCd0cmFuc2FjdGlvbi9BRERfVFJBTlNBQ1RJT04nLCB7CiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFRyYW5zYWN0aW9uR3JvdXBTdGF0ZS5jb25maXJtZWQsCiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCd0cmFuc2FjdGlvbi9PTl9ORVdfVFJBTlNBQ1RJT04nLCB0cmFuc2FjdGlvbiwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfU1VDQ0VTUycsIE5vdGlmaWNhdGlvblR5cGUuTkVXX0NPTkZJUk1FRF9UUkFOU0FDVElPTiwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpc3BhdGNoKCdkaWFnbm9zdGljL0FERF9FUlJPUicsIGVyciwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLAogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zOiBbc3RhdHVzLCB1bmNvbmZpcm1lZEFkZGVkLCB1bmNvbmZpcm1lZFJlbW92ZWQsIGNvc2lnbmF0dXJlQWRkZWQsIHBhcnRpYWxBZGRlZCwgcGFydGlhbFJlbW92ZWQsIGNvbmZpcm1lZF0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBSRVNUU2VydmljZTsKfSgpOw=="},{"version":3,"sources":["/home/hero/lared-wallet/src/services/RESTService.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Address, IListener, RepositoryFactory, TransactionStatusError } from 'symbol-sdk';\nimport { Subscription } from 'rxjs';\n// internal dependencies\nimport { AddressValidator } from '@/core/validation/validators';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { TransactionGroupState } from '@/store/Transaction';\n\n/**\n * This Service is more like a static helper now. All the methods are statics. Rename and move.\n */\nexport class RESTService {\n    /**\n     * Subscribe to transactions websocket channels\n     * @param {Context} dispatch context the context\n     * @param {RepositoryFactory} repositoryFactory the factory used to create the listener.\n     * @param {Address} address the listened account.\n     */\n    public static async subscribeTransactionChannels(\n        context: { dispatch: any; commit: any },\n        repositoryFactory: RepositoryFactory,\n        addressStr: string,\n    ): Promise<{ listener: IListener; subscriptions: Subscription[] }> {\n        if (!AddressValidator.validate(addressStr)) {\n            throw new Error('Invalid address for subscribing to websocket connections');\n        }\n\n        context.dispatch('diagnostic/ADD_DEBUG', `Opening REST websocket channel connections with ${addressStr}`, {\n            root: true,\n        });\n\n        // open websocket connection\n        const address = Address.createFromRawAddress(addressStr);\n        const listener = repositoryFactory.createListener();\n        await listener.open();\n\n        // error listener\n        const status = listener\n            .status(address)\n            .subscribe((error: TransactionStatusError) => context.dispatch('notification/ADD_ERROR', error.code, { root: true }));\n\n        // unconfirmed listeners\n        const unconfirmedAdded = listener.unconfirmedAdded(address).subscribe(\n            (transaction) => {\n                context.dispatch('transaction/ADD_TRANSACTION', { group: TransactionGroupState.unconfirmed, transaction }, { root: true });\n                context.dispatch('notification/ADD_SUCCESS', NotificationType.NEW_UNCONFIRMED_TRANSACTION, { root: true });\n            },\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        const unconfirmedRemoved = listener.unconfirmedRemoved(address).subscribe(\n            (transactionHash) =>\n                context.dispatch(\n                    'transaction/REMOVE_TRANSACTION',\n                    { group: TransactionGroupState.unconfirmed, transactionHash },\n                    { root: true },\n                ),\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        // partial listeners\n        const cosignatureAdded = listener.cosignatureAdded(address).subscribe(\n            (cosignature) => {\n                context.dispatch('transaction/ADD_COSIGNATURE', cosignature, {\n                    root: true,\n                });\n                context.dispatch('notification/ADD_SUCCESS', NotificationType.COSIGNATURE_ADDED, { root: true });\n            },\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        const partialAdded = listener.aggregateBondedAdded(address).subscribe(\n            (transaction) => {\n                context.dispatch('transaction/ADD_TRANSACTION', { group: TransactionGroupState.partial, transaction }, { root: true });\n                context.dispatch('notification/ADD_SUCCESS', NotificationType.NEW_AGGREGATE_BONDED, { root: true });\n            },\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        const partialRemoved = listener.aggregateBondedRemoved(address).subscribe(\n            (transactionHash) =>\n                context.dispatch(\n                    'transaction/REMOVE_TRANSACTION',\n                    { group: TransactionGroupState.partial, transactionHash },\n                    { root: true },\n                ),\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        // confirmed listener\n        const confirmed = listener.confirmed(address).subscribe(\n            (transaction) => {\n                context.dispatch('transaction/ADD_TRANSACTION', { group: TransactionGroupState.confirmed, transaction }, { root: true });\n                context.dispatch('transaction/ON_NEW_TRANSACTION', transaction, {\n                    root: true,\n                });\n                context.dispatch('notification/ADD_SUCCESS', NotificationType.NEW_CONFIRMED_TRANSACTION, { root: true });\n            },\n            (err) => context.dispatch('diagnostic/ADD_ERROR', err, { root: true }),\n        );\n\n        return {\n            listener,\n            subscriptions: [status, unconfirmedAdded, unconfirmedRemoved, cosignatureAdded, partialAdded, partialRemoved, confirmed],\n        };\n    }\n}\n"],"sourceRoot":""}]}