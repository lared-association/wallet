{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/forms/FormTransferTransaction/MosaicInputsManager.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/forms/FormTransferTransaction/MosaicInputsManager.ts","mtime":1606213958973},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAoIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICJbb2JqZWN0IEFyZ3VtZW50c10iKSkgeyByZXR1cm47IH0gdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCi8vIGludGVybmFsIGRlcGVuZGVuY2llcwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCB2YXIgTW9zYWljSW5wdXRzTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBNb3NhaWNJbnB1dHNNYW5hZ2VyLgogICAqIEBwYXJhbSB7TW9zYWljTW9kZWxbXX0gbW9zYWljcwogICAqLwogIGZ1bmN0aW9uIE1vc2FpY0lucHV0c01hbmFnZXIobW9zYWljcykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9zYWljSW5wdXRzTWFuYWdlcik7CgogICAgLyoqCiAgICAgKiBNYXBzIG1vc2FpYyBoZXggaWRzIHRvIHNsb3RzIChpbnB1dCBpbmRleGVzKQogICAgICogQHByaXZhdGUKICAgICAqLwogICAgdGhpcy5tb3NhaWNNYXAgPSB7fTsgLy8gU2V0IG1vc2FpY01hcCB3aXRoIG51bGwgdmFsdWVzCgogICAgbW9zYWljcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBtb3NhaWNJZEhleCA9IF9yZWYubW9zYWljSWRIZXg7CiAgICAgIHJldHVybiBWdWUuc2V0KF90aGlzLm1vc2FpY01hcCwgbW9zYWljSWRIZXgsIG51bGwpOwogICAgfSk7CiAgfQogIC8qKgogICAqIEluaXRpYWxpemUgYSBuZXcgaW5zdGFuY2Ugb2YgTW9zYWljSW5wdXRzTWFuYWdlcgogICAqIEBzdGF0aWMKICAgKiBAcGFyYW0ge01vc2FpY01vZGVsW119IG1vc2FpY3MKICAgKiBAcGFyYW0ge01vc2FpY1NlcnZpY2V9IG1vc2FpY1NlcnZpY2UKICAgKiBAcmV0dXJucyB7TW9zYWljSW5wdXRzTWFuYWdlcn0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhNb3NhaWNJbnB1dHNNYW5hZ2VyLCBbewogICAga2V5OiAiYWRkTW9zYWljcyIsCgogICAgLyoqCiAgICAgKiBBZGQgbW9zYWljcyB0byB0aGUgbWFuYWdlciBhZnRlciBpbml0aWFsaXphdGlvbgogICAgICogQHBhcmFtIHtNb3NhaWNNb2RlbFtdfSBtb3NhaWNzCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNb3NhaWNzKG1vc2FpY3MpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBtb3NhaWNzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIG1vc2FpY0lkSGV4ID0gX3JlZjIubW9zYWljSWRIZXg7CgogICAgICAgIC8vIHNraXAgaWYgdGhlIG1vc2FpYyBpcyBrbm93bgogICAgICAgIGlmIChfdGhpczIubW9zYWljTWFwW21vc2FpY0lkSGV4XSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gYWRkIHRoZSBtb3NhaWMKCgogICAgICAgIFZ1ZS5zZXQoX3RoaXMyLm1vc2FpY01hcCwgbW9zYWljSWRIZXgsIG51bGwpOwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogV2hldGhlciB0aGUgbW9zYWljTWFwIGhhcyBhIGZyZWUgc2xvdAogICAgICogSWYgeWVzLCBhIG5ldyBtb3NhaWMgaW5wdXQgY2FuIGJlIGNyZWF0ZWQKICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICovCgogIH0sIHsKICAgIGtleTogImhhc0ZyZWVTbG90cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRnJlZVNsb3RzKCkgewogICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLm1vc2FpY01hcCkuZmluZChmdW5jdGlvbiAodmFsdWVzKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlcyA9PT0gbnVsbDsKICAgICAgfSkgIT09IHVuZGVmaW5lZDsKICAgIH0KICAgIC8qKgogICAgICogQWxsb2NhdGVzIGEgbW9zYWljIGhleCB0byBhIHNsb3QKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXhJZAogICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2V0U2xvdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2xvdChoZXhJZCwgaW5kZXgpIHsKICAgICAgLy8gZ2V0IHRoZSBzbG90CiAgICAgIHZhciBzbG90ID0gdGhpcy5tb3NhaWNNYXBbaGV4SWRdOyAvLyB0aHJvdyBpZiBhIHNsb3QgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBwcm92aWRlZCBtb3NhaWMgaWQKCiAgICAgIGlmIChzbG90ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KGhleElkLCAiIGRvZXMgbm90IGV4aXN0IGluICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLm1vc2FpY01hcCkpKTsKICAgICAgfSAvLyB0aHJvdyBpZiB0aGUgc2xvdCBpcyBhbHJlYWR5IGFsbG9jYXRlZCB0byBhbm90aGVyIGlucHV0CgoKICAgICAgaWYgKHNsb3QgIT09IG51bGwgJiYgc2xvdCAhPT0gaW5kZXgpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KGhleElkLCAiIGlzIGFscmVhZHkgYWxsb2NhdGVkIHRvIGlucHV0ICIpLmNvbmNhdChzbG90KSk7CiAgICAgIH0gLy8gdW5zZXQgdGhlIGN1cnJlbnQgc2xvdCBhbGxvY2F0aW9uCgoKICAgICAgdGhpcy51bnNldFNsb3QoaW5kZXgpOyAvLyBhbGxvY2F0ZSB0aGUgZW50cnkKCiAgICAgIFZ1ZS5zZXQodGhpcy5tb3NhaWNNYXAsIGhleElkLCBpbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIFNldCBhIHNsb3QgdG8gbnVsbAogICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidW5zZXRTbG90IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnNldFNsb3QoaW5kZXgpIHsKICAgICAgLy8gZ2V0IHRoZSBzbG90IGVudHJ5CiAgICAgIHZhciBlbnRyeSA9IHRoaXMuZ2V0RW50cnlCeVNsb3QoaW5kZXgpOyAvLyBpZ25vcmUgaWYgdGhlIHNsb3QgaGFkIG5vIGFsbG9jYXRlZCBlbnRyeQoKICAgICAgaWYgKGVudHJ5ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gdW5zZXQgdGhlIGVudHJ5IHNsb3QgYWxsb2NhdGlvbgoKCiAgICAgIHZhciBfZW50cnkgPSBfc2xpY2VkVG9BcnJheShlbnRyeSwgMSksCiAgICAgICAgICBoZXhJZCA9IF9lbnRyeVswXTsKCiAgICAgIFZ1ZS5zZXQodGhpcy5tb3NhaWNNYXAsIGhleElkLCBudWxsKTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBtb3NhaWNzIHRoYXQgY2FuIGJlIHVzZWQgYnkgYSBzbG90CiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgKICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRNb3NhaWNzQnlTbG90IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNb3NhaWNzQnlTbG90KGluZGV4KSB7CiAgICAgIC8vIGdldCBhbGxvY2F0ZWQgbW9zYWljCiAgICAgIHZhciBhbGxvY2F0ZWRFbnRyeSA9IHRoaXMuZ2V0RW50cnlCeVNsb3QoaW5kZXgpOyAvLyBnZXQgbm9uLWFsbG9jYXRlZCBlbnRyaWVzCgogICAgICB2YXIgbm9uQWxsb2NhdGVkRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMubW9zYWljTWFwKS5maWx0ZXIoZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIF9yZWY0ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjMsIDIpLAogICAgICAgICAgICBzbG90ID0gX3JlZjRbMV07CgogICAgICAgIHJldHVybiBzbG90ID09PSBudWxsOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgdmFyIF9yZWY2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjUsIDEpLAogICAgICAgICAgICBoZXggPSBfcmVmNlswXTsKCiAgICAgICAgcmV0dXJuIGhleDsKICAgICAgfSk7CiAgICAgIHJldHVybiBhbGxvY2F0ZWRFbnRyeSA/IFthbGxvY2F0ZWRFbnRyeVswXV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShub25BbGxvY2F0ZWRFbnRyaWVzKSkgOiBub25BbGxvY2F0ZWRFbnRyaWVzOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFuIGVudHJ5IGdpdmVuIGEgc2xvdCBudW1iZXIKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXgKICAgICAqIEByZXR1cm5zIHsoW3N0cmluZywgbnVtYmVyXSB8IHVuZGVmaW5lZCl9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0RW50cnlCeVNsb3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVudHJ5QnlTbG90KGluZGV4KSB7CiAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLm1vc2FpY01hcCkuZmluZChmdW5jdGlvbiAoX3JlZjcpIHsKICAgICAgICB2YXIgX3JlZjggPSBfc2xpY2VkVG9BcnJheShfcmVmNywgMiksCiAgICAgICAgICAgIHNsb3QgPSBfcmVmOFsxXTsKCiAgICAgICAgcmV0dXJuIHNsb3QgPT0gaW5kZXg7CiAgICAgIH0pOwogICAgfQogIH1dLCBbewogICAga2V5OiAiaW5pdGlhbGl6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShtb3NhaWNzKSB7CiAgICAgIHJldHVybiBuZXcgTW9zYWljSW5wdXRzTWFuYWdlcihtb3NhaWNzIHx8IFtdKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBNb3NhaWNJbnB1dHNNYW5hZ2VyOwp9KCk7"},{"version":3,"sources":["/home/hero/lared-wallet/src/views/forms/FormTransferTransaction/MosaicInputsManager.ts"],"names":[],"mappings":"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","sourcesContent":["// internal dependencies\nimport Vue from 'vue';\nimport { MosaicModel } from '@/core/database/entities/MosaicModel';\n\nexport class MosaicInputsManager {\n    /**\n     * Maps mosaic hex ids to slots (input indexes)\n     * @private\n     */\n    private mosaicMap: Record<string, number | null> = {};\n\n    /**\n     * Initialize a new instance of MosaicInputsManager\n     * @static\n     * @param {MosaicModel[]} mosaics\n     * @param {MosaicService} mosaicService\n     * @returns {MosaicInputsManager}\n     */\n    public static initialize(mosaics: MosaicModel[]): MosaicInputsManager {\n        return new MosaicInputsManager(mosaics || []);\n    }\n\n    /**\n     * Creates an instance of MosaicInputsManager.\n     * @param {MosaicModel[]} mosaics\n     */\n    private constructor(mosaics: MosaicModel[]) {\n        // Set mosaicMap with null values\n        mosaics.forEach(({ mosaicIdHex }) => Vue.set(this.mosaicMap, mosaicIdHex, null));\n    }\n\n    /**\n     * Add mosaics to the manager after initialization\n     * @param {MosaicModel[]} mosaics\n     */\n    public addMosaics(mosaics: MosaicModel[]): void {\n        mosaics.forEach(({ mosaicIdHex }) => {\n            // skip if the mosaic is known\n            if (this.mosaicMap[mosaicIdHex]) {\n                return;\n            }\n            // add the mosaic\n            Vue.set(this.mosaicMap, mosaicIdHex, null);\n        });\n    }\n\n    /**\n     * Whether the mosaicMap has a free slot\n     * If yes, a new mosaic input can be created\n     * @returns {boolean}\n     */\n    public hasFreeSlots(): boolean {\n        return Object.values(this.mosaicMap).find((values) => values === null) !== undefined;\n    }\n\n    /**\n     * Allocates a mosaic hex to a slot\n     * @param {string} hexId\n     * @param {number} index\n     */\n    public setSlot(hexId: string, index: number): void {\n        // get the slot\n        const slot = this.mosaicMap[hexId];\n\n        // throw if a slot does not exist for the provided mosaic id\n        if (slot === undefined) {\n            throw new Error(`${hexId} does not exist in ${JSON.stringify(this.mosaicMap)}`);\n        }\n\n        // throw if the slot is already allocated to another input\n        if (slot !== null && slot !== index) {\n            throw new Error(`${hexId} is already allocated to input ${slot}`);\n        }\n\n        // unset the current slot allocation\n        this.unsetSlot(index);\n\n        // allocate the entry\n        Vue.set(this.mosaicMap, hexId, index);\n    }\n\n    /**\n     * Set a slot to null\n     * @param {number} index\n     */\n    public unsetSlot(index: number): void {\n        // get the slot entry\n        const entry = this.getEntryBySlot(index);\n\n        // ignore if the slot had no allocated entry\n        if (entry === undefined) {\n            return;\n        }\n\n        // unset the entry slot allocation\n        const [hexId] = entry;\n        Vue.set(this.mosaicMap, hexId, null);\n    }\n\n    /**\n     * Returns mosaics that can be used by a slot\n     * @param {number} index\n     * @returns {string[]}\n     */\n    public getMosaicsBySlot(index: number): string[] {\n        // get allocated mosaic\n        const allocatedEntry = this.getEntryBySlot(index);\n\n        // get non-allocated entries\n        const nonAllocatedEntries = Object.entries(this.mosaicMap)\n            .filter(([, slot]) => slot === null)\n            .map(([hex]) => hex);\n\n        return allocatedEntry ? [allocatedEntry[0], ...nonAllocatedEntries] : nonAllocatedEntries;\n    }\n\n    /**\n     * Returns an entry given a slot number\n     * @private\n     * @param {number} index\n     * @returns {([string, number] | undefined)}\n     */\n    private getEntryBySlot(index: number): [string, number] | undefined {\n        return Object.entries(this.mosaicMap).find(([, slot]) => slot == index);\n    }\n}\n"],"sourceRoot":""}]}