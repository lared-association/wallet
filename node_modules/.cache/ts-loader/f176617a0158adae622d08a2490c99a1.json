{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/store/Mosaic.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/store/Mosaic.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmltcG9ydCB7IF9fYXdhaXRlciB9IGZyb20gInRzbGliIjsKLyoKICogQ29weXJpZ2h0IDIwMjAgTkVNIChodHRwczovL25lbS5pbykKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqCiAqLwoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBNb3NhaWNJZCB9IGZyb20gJ3N5bWJvbC1zZGsnOyAvLyBpbnRlcm5hbCBkZXBlbmRlbmNpZXMKCmltcG9ydCB7IEF3YWl0TG9jayB9IGZyb20gJy4vQXdhaXRMb2NrJzsKaW1wb3J0IHsgTW9zYWljU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvTW9zYWljU2VydmljZSc7CmltcG9ydCB7IGZpcnN0LCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CmltcG9ydCB7IE1ldGFkYXRhU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvTWV0YWRhdGFTZXJ2aWNlJzsKdmFyIExvY2sgPSBBd2FpdExvY2suY3JlYXRlKCk7IC8vIG1vc2FpYyBzdGF0ZSBpbml0aWFsIGRlZmluaXRpb24KCnZhciBtb3NhaWNTdGF0ZSA9IHsKICBpbml0aWFsaXplZDogZmFsc2UsCiAgbmV0d29ya01vc2FpY0lkOiBudWxsLAogIG1vc2FpY3M6IFtdLAogIGJhbGFuY2VNb3NhaWNzOiBbXSwKICBob2xkTW9zYWljczogW10sCiAgb3duZWRNb3NhaWNzOiBbXSwKICBuZXR3b3JrQ3VycmVuY3k6IG51bGwsCiAgbmV0d29ya01vc2FpY05hbWU6ICcnLAogIG5ldHdvcmtNb3NhaWNUaWNrZXI6ICcnLAogIGFjY291bnRNb3NhaWNDb25maWd1cmF0aW9uczoge30sCiAgaXNGZXRjaGluZ01vc2FpY3M6IGZhbHNlCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBtb3NhaWNTdGF0ZSwKICBnZXR0ZXJzOiB7CiAgICBnZXRJbml0aWFsaXplZDogZnVuY3Rpb24gZ2V0SW5pdGlhbGl6ZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmluaXRpYWxpemVkOwogICAgfSwKICAgIG5ldHdvcmtDdXJyZW5jeTogZnVuY3Rpb24gbmV0d29ya0N1cnJlbmN5KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5uZXR3b3JrQ3VycmVuY3k7CiAgICB9LAogICAgbW9zYWljczogZnVuY3Rpb24gbW9zYWljcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubW9zYWljczsKICAgIH0sCiAgICBvd25lZE1vc2FpY3M6IGZ1bmN0aW9uIG93bmVkTW9zYWljcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUub3duZWRNb3NhaWNzOwogICAgfSwKICAgIGhvbGRNb3NhaWNzOiBmdW5jdGlvbiBob2xkTW9zYWljcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaG9sZE1vc2FpY3M7CiAgICB9LAogICAgYmFsYW5jZU1vc2FpY3M6IGZ1bmN0aW9uIGJhbGFuY2VNb3NhaWNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5iYWxhbmNlTW9zYWljczsKICAgIH0sCiAgICBuZXR3b3JrTW9zYWljOiBmdW5jdGlvbiBuZXR3b3JrTW9zYWljKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5uZXR3b3JrTW9zYWljSWQ7CiAgICB9LAogICAgbmV0d29ya01vc2FpY1RpY2tlcjogZnVuY3Rpb24gbmV0d29ya01vc2FpY1RpY2tlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubmV0d29ya01vc2FpY1RpY2tlcjsKICAgIH0sCiAgICBhY2NvdW50TW9zYWljQ29uZmlndXJhdGlvbnM6IGZ1bmN0aW9uIGFjY291bnRNb3NhaWNDb25maWd1cmF0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYWNjb3VudE1vc2FpY0NvbmZpZ3VyYXRpb25zOwogICAgfSwKICAgIG5ldHdvcmtNb3NhaWNOYW1lOiBmdW5jdGlvbiBuZXR3b3JrTW9zYWljTmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubmV0d29ya01vc2FpY05hbWU7CiAgICB9LAogICAgaXNGZXRjaGluZ01vc2FpY3M6IGZ1bmN0aW9uIGlzRmV0Y2hpbmdNb3NhaWNzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5pc0ZldGNoaW5nTW9zYWljczsKICAgIH0sCiAgICBuZXR3b3JrQmFsYW5jZU1vc2FpY3M6IGZ1bmN0aW9uIG5ldHdvcmtCYWxhbmNlTW9zYWljcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYmFsYW5jZU1vc2FpY3MuZmluZChmdW5jdGlvbiAobSkgewogICAgICAgIHJldHVybiBtLm1vc2FpY0lkSGV4ID09PSBzdGF0ZS5uZXR3b3JrTW9zYWljSWQudG9IZXgoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEluaXRpYWxpemVkOiBmdW5jdGlvbiBzZXRJbml0aWFsaXplZChzdGF0ZSwgaW5pdGlhbGl6ZWQpIHsKICAgICAgc3RhdGUuaW5pdGlhbGl6ZWQgPSBpbml0aWFsaXplZDsKICAgIH0sCiAgICBuZXR3b3JrQ3VycmVuY3k6IGZ1bmN0aW9uIG5ldHdvcmtDdXJyZW5jeShzdGF0ZSwgX25ldHdvcmtDdXJyZW5jeSkgewogICAgICBWdWUuc2V0KHN0YXRlLCAnbmV0d29ya0N1cnJlbmN5JywgX25ldHdvcmtDdXJyZW5jeSk7CiAgICAgIFZ1ZS5zZXQoc3RhdGUsICduZXR3b3JrTW9zYWljSWQnLCBuZXcgTW9zYWljSWQoX25ldHdvcmtDdXJyZW5jeS5tb3NhaWNJZEhleCkpOwogICAgICBWdWUuc2V0KHN0YXRlLCAnbmV0d29ya01vc2FpY05hbWUnLCBfbmV0d29ya0N1cnJlbmN5Lm5hbWVzcGFjZUlkRnVsbG5hbWUpOwogICAgICBWdWUuc2V0KHN0YXRlLCAnbmV0d29ya01vc2FpY1RpY2tlcicsIF9uZXR3b3JrQ3VycmVuY3kudGlja2VyKTsKICAgIH0sCiAgICBtb3NhaWNzOiBmdW5jdGlvbiBtb3NhaWNzKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBfbW9zYWljcyA9IF9yZWYubW9zYWljcywKICAgICAgICAgIGN1cnJlbnRTaWduZXJBZGRyZXNzID0gX3JlZi5jdXJyZW50U2lnbmVyQWRkcmVzcywKICAgICAgICAgIG5ldHdvcmtDdXJyZW5jeSA9IF9yZWYubmV0d29ya0N1cnJlbmN5LAogICAgICAgICAgbW9zYWljTWV0YWRhdGFMaXN0ID0gX3JlZi5tb3NhaWNNZXRhZGF0YUxpc3Q7CgogICAgICB2YXIgdW5pcXVlTW9zYWljcyA9IF9tb3NhaWNzLm1hcChmdW5jdGlvbiAobW9zYWljKSB7CiAgICAgICAgbW9zYWljLm1ldGFkYXRhTGlzdCA9IE1ldGFkYXRhU2VydmljZS5nZXRNb3NhaWNNZXRhZGF0YUJ5VGFyZ2V0SWQobW9zYWljTWV0YWRhdGFMaXN0LCBtb3NhaWMubW9zYWljSWRIZXgpOwogICAgICAgIHJldHVybiBtb3NhaWM7CiAgICAgIH0pOwoKICAgICAgdmFyIG93bmVkTW9zYWljcyA9IHVuaXF1ZU1vc2FpY3MuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIG0ub3duZXJSYXdQbGFpbiA9PT0gY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKSAmJiBtLmFkZHJlc3NSYXdQbGFpbiA9PT0gY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKTsKICAgICAgfSk7CiAgICAgIHZhciBob2xkTW9zYWljcyA9IHVuaXF1ZU1vc2FpY3MuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIG0uYWRkcmVzc1Jhd1BsYWluID09PSBjdXJyZW50U2lnbmVyQWRkcmVzcy5wbGFpbigpOwogICAgICB9KS5zb3J0KGZ1bmN0aW9uIChtMSwgbTIpIHsKICAgICAgICB2YXIgb3duZXIxID0gbTEub3duZXJSYXdQbGFpbiA9PT0gY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKTsKICAgICAgICB2YXIgb3duZXIyID0gbTIub3duZXJSYXdQbGFpbiA9PT0gY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKTsKICAgICAgICByZXR1cm4gTnVtYmVyKG93bmVyMSkgLSBOdW1iZXIob3duZXIyKTsKICAgICAgfSk7CiAgICAgIHZhciBub01vc2FpYyA9IG5ldHdvcmtDdXJyZW5jeSAmJiAhaG9sZE1vc2FpY3MuZmluZChmdW5jdGlvbiAobSkgewogICAgICAgIHJldHVybiBtLmlzQ3VycmVuY3lNb3NhaWM7CiAgICAgIH0pOwogICAgICB2YXIgYmFsYW5jZU1vc2FpY3MgPSAobm9Nb3NhaWMgPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGhvbGRNb3NhaWNzKSwgW3sKICAgICAgICBtb3NhaWNJZEhleDogbmV0d29ya0N1cnJlbmN5Lm1vc2FpY0lkSGV4LAogICAgICAgIGRpdmlzaWJpbGl0eTogbmV0d29ya0N1cnJlbmN5LmRpdmlzaWJpbGl0eSwKICAgICAgICBuYW1lOiBuZXR3b3JrQ3VycmVuY3kubmFtZXNwYWNlSWRGdWxsbmFtZSwKICAgICAgICBpc0N1cnJlbmN5TW9zYWljOiB0cnVlLAogICAgICAgIGJhbGFuY2U6IDAKICAgICAgfV0pIDogX3RvQ29uc3VtYWJsZUFycmF5KGhvbGRNb3NhaWNzKSkuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIG0uaXNDdXJyZW5jeU1vc2FpYyB8fCBtLmJhbGFuY2UgPiAwOwogICAgICB9KTsKICAgICAgVnVlLnNldChzdGF0ZSwgJ21vc2FpY3MnLCB1bmlxdWVNb3NhaWNzKTsKICAgICAgVnVlLnNldChzdGF0ZSwgJ2JhbGFuY2VNb3NhaWNzJywgYmFsYW5jZU1vc2FpY3MpOwogICAgICBWdWUuc2V0KHN0YXRlLCAnb3duZWRNb3NhaWNzJywgb3duZWRNb3NhaWNzKTsKICAgICAgVnVlLnNldChzdGF0ZSwgJ2hvbGRNb3NhaWNzJywgaG9sZE1vc2FpY3MuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgcmV0dXJuIG0ub3duZXJSYXdQbGFpbiA9PT0gY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKSB8fCBtLmJhbGFuY2UgPiAwOwogICAgICB9KSk7CiAgICB9LAogICAgYWNjb3VudE1vc2FpY0NvbmZpZ3VyYXRpb25zOiBmdW5jdGlvbiBhY2NvdW50TW9zYWljQ29uZmlndXJhdGlvbnMoc3RhdGUsIF9hY2NvdW50TW9zYWljQ29uZmlndXJhdGlvbnMpIHsKICAgICAgcmV0dXJuIFZ1ZS5zZXQoc3RhdGUsICdhY2NvdW50TW9zYWljQ29uZmlndXJhdGlvbnMnLCBfYWNjb3VudE1vc2FpY0NvbmZpZ3VyYXRpb25zKTsKICAgIH0sCiAgICBpc0ZldGNoaW5nTW9zYWljczogZnVuY3Rpb24gaXNGZXRjaGluZ01vc2FpY3Moc3RhdGUsIF9pc0ZldGNoaW5nTW9zYWljcykgewogICAgICByZXR1cm4gVnVlLnNldChzdGF0ZSwgJ2lzRmV0Y2hpbmdNb3NhaWNzJywgX2lzRmV0Y2hpbmdNb3NhaWNzKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmMi5nZXR0ZXJzOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciBjYWxsYmFjazsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SW5pdGlhbGl6ZWQnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH07IC8vIGFjcXVpcmUgYXN5bmMgbG9jayB1bnRpbCBpbml0aWFsaXplZAoKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gTG9jay5pbml0aWFsaXplKGNhbGxiYWNrLCB7CiAgICAgICAgICAgICAgICAgIGdldHRlcnM6IGdldHRlcnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CiAgICB9LAogICAgdW5pbml0aWFsaXplOiBmdW5jdGlvbiB1bmluaXRpYWxpemUoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmMy5nZXR0ZXJzOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgY2FsbGJhY2s7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzMiwgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21taXQoJ3NldEluaXRpYWxpemVkJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBMb2NrLnVuaW5pdGlhbGl6ZShjYWxsYmFjaywgewogICAgICAgICAgICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwogICAgfSwKICAgIExPQURfTkVUV09SS19DVVJSRU5DSUVTOiBmdW5jdGlvbiBMT0FEX05FVFdPUktfQ1VSUkVOQ0lFUyhfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNC5yb290R2V0dGVyczsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgbW9zYWljU2VydmljZSwgcmVwb3NpdG9yeUZhY3RvcnksIGdlbmVyYXRpb25IYXNoOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbW9zYWljU2VydmljZSA9IG5ldyBNb3NhaWNTZXJ2aWNlKCk7CiAgICAgICAgICAgICAgICByZXBvc2l0b3J5RmFjdG9yeSA9IHJvb3RHZXR0ZXJzWyduZXR3b3JrL3JlcG9zaXRvcnlGYWN0b3J5J107CiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uSGFzaCA9IHJvb3RHZXR0ZXJzWyduZXR3b3JrL2dlbmVyYXRpb25IYXNoJ107CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gbW9zYWljU2VydmljZS5nZXROZXR3b3JrQ3VycmVuY2llcyhyZXBvc2l0b3J5RmFjdG9yeSwgZ2VuZXJhdGlvbkhhc2gpLnBpcGUodGFwKGZ1bmN0aW9uIChuZXR3b3JrQ3VycmVuY2llcykgewogICAgICAgICAgICAgICAgICBjb21taXQoJ25ldHdvcmtDdXJyZW5jeScsIG5ldHdvcmtDdXJyZW5jaWVzLm5ldHdvcmtDdXJyZW5jeSk7CiAgICAgICAgICAgICAgICB9KSwgZmlyc3QoKSkudG9Qcm9taXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBMT0FEX01PU0FJQ1M6IGZ1bmN0aW9uIExPQURfTU9TQUlDUyhfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNS5yb290R2V0dGVyczsKICAgICAgdmFyIHJlcG9zaXRvcnlGYWN0b3J5ID0gcm9vdEdldHRlcnNbJ25ldHdvcmsvcmVwb3NpdG9yeUZhY3RvcnknXTsKICAgICAgdmFyIG5ldHdvcmtDdXJyZW5jeSA9IHJvb3RHZXR0ZXJzWydtb3NhaWMvbmV0d29ya0N1cnJlbmN5J107CiAgICAgIHZhciBhY2NvdW50c0luZm8gPSByb290R2V0dGVyc1snYWNjb3VudC9hY2NvdW50c0luZm8nXSB8fCBbXTsKICAgICAgdmFyIGdlbmVyYXRpb25IYXNoID0gcm9vdEdldHRlcnNbJ25ldHdvcmsvZ2VuZXJhdGlvbkhhc2gnXTsKICAgICAgdmFyIG1vc2FpY01ldGFkYXRhTGlzdCA9IHJvb3RHZXR0ZXJzWydtZXRhZGF0YS9tb3NhaWNNZXRhZGF0YUxpc3QnXTsKICAgICAgY29tbWl0KCdpc0ZldGNoaW5nTW9zYWljcycsIHRydWUpOwogICAgICBuZXcgTW9zYWljU2VydmljZSgpLmdldE1vc2FpY3MocmVwb3NpdG9yeUZhY3RvcnksIGdlbmVyYXRpb25IYXNoLCBuZXR3b3JrQ3VycmVuY3ksIGFjY291bnRzSW5mbykuc3Vic2NyaWJlKGZ1bmN0aW9uIChtb3NhaWNzKSB7CiAgICAgICAgdmFyIGN1cnJlbnRTaWduZXJBZGRyZXNzID0gcm9vdEdldHRlcnNbJ2FjY291bnQvY3VycmVudFNpZ25lckFkZHJlc3MnXTsKCiAgICAgICAgaWYgKCFjdXJyZW50U2lnbmVyQWRkcmVzcykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29tbWl0KCdtb3NhaWNzJywgewogICAgICAgICAgbW9zYWljczogbW9zYWljcywKICAgICAgICAgIGN1cnJlbnRTaWduZXJBZGRyZXNzOiBjdXJyZW50U2lnbmVyQWRkcmVzcywKICAgICAgICAgIG5ldHdvcmtDdXJyZW5jeTogbmV0d29ya0N1cnJlbmN5LAogICAgICAgICAgbW9zYWljTWV0YWRhdGFMaXN0OiBtb3NhaWNNZXRhZGF0YUxpc3QKICAgICAgICB9KTsKICAgICAgfSkuYWRkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY29tbWl0KCdpc0ZldGNoaW5nTW9zYWljcycsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgUkVTRVRfTU9TQUlDUzogZnVuY3Rpb24gUkVTRVRfTU9TQUlDUyhfcmVmNikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNi5yb290R2V0dGVyczsKICAgICAgdmFyIG5ldHdvcmtDdXJyZW5jeSA9IHJvb3RHZXR0ZXJzWydtb3NhaWMvbmV0d29ya0N1cnJlbmN5J107CiAgICAgIGNvbW1pdCgnbW9zYWljcycsIHsKICAgICAgICBtb3NhaWNzOiBbXSwKICAgICAgICB1bmRlZmluZWQ6IHVuZGVmaW5lZCwKICAgICAgICBuZXR3b3JrQ3VycmVuY3k6IG5ldHdvcmtDdXJyZW5jeQogICAgICB9KTsKICAgIH0sCiAgICBTSUdORVJfQ0hBTkdFRDogZnVuY3Rpb24gU0lHTkVSX0NIQU5HRUQoX3JlZjcpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjcucm9vdEdldHRlcnMsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjcuZ2V0dGVyczsKICAgICAgdmFyIGN1cnJlbnRTaWduZXJBZGRyZXNzID0gcm9vdEdldHRlcnNbJ2FjY291bnQvY3VycmVudFNpZ25lckFkZHJlc3MnXTsKICAgICAgdmFyIG5ldHdvcmtDdXJyZW5jeSA9IHJvb3RHZXR0ZXJzWydtb3NhaWMvbmV0d29ya0N1cnJlbmN5J107CgogICAgICBpZiAoIWN1cnJlbnRTaWduZXJBZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgbW9zYWljU2VydmljZSA9IG5ldyBNb3NhaWNTZXJ2aWNlKCk7CiAgICAgIGNvbW1pdCgnYWNjb3VudE1vc2FpY0NvbmZpZ3VyYXRpb25zJywgbW9zYWljU2VydmljZS5nZXRNb3NhaWNDb25maWd1cmF0aW9uc0J5QWNjb3VudChyb290R2V0dGVyc1snYWNjb3VudC9jdXJyZW50QWNjb3VudCddKSk7CiAgICAgIGNvbW1pdCgnbW9zYWljcycsIHsKICAgICAgICBtb3NhaWNzOiBnZXR0ZXJzWydtb3NhaWNzJ10sCiAgICAgICAgY3VycmVudFNpZ25lckFkZHJlc3M6IGN1cnJlbnRTaWduZXJBZGRyZXNzLAogICAgICAgIG5ldHdvcmtDdXJyZW5jeTogbmV0d29ya0N1cnJlbmN5CiAgICAgIH0pOwogICAgfSwKICAgIEhJREVfTU9TQUlDOiBmdW5jdGlvbiBISURFX01PU0FJQyhfcmVmOCwgX3JlZjkpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICAgICAgdmFyIG1vc2FpY0lkID0gX3JlZjkubW9zYWljSWQsCiAgICAgICAgICBhY2NvdW50ID0gX3JlZjkuYWNjb3VudDsKICAgICAgY29tbWl0KCdhY2NvdW50TW9zYWljQ29uZmlndXJhdGlvbnMnLCBuZXcgTW9zYWljU2VydmljZSgpLmNoYW5nZU1vc2FpY0NvbmZpZ3VyYXRpb24obW9zYWljSWQsIGFjY291bnQsIHsKICAgICAgICBoaWRkZW46IHRydWUKICAgICAgfSkpOwogICAgfSwKICAgIFNIT1dfTU9TQUlDOiBmdW5jdGlvbiBTSE9XX01PU0FJQyhfcmVmMTAsIF9yZWYxMSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjEwLmNvbW1pdDsKICAgICAgdmFyIG1vc2FpY0lkID0gX3JlZjExLm1vc2FpY0lkLAogICAgICAgICAgYWNjb3VudCA9IF9yZWYxMS5hY2NvdW50OwogICAgICBjb21taXQoJ2FjY291bnRNb3NhaWNDb25maWd1cmF0aW9ucycsIG5ldyBNb3NhaWNTZXJ2aWNlKCkuY2hhbmdlTW9zYWljQ29uZmlndXJhdGlvbihtb3NhaWNJZCwgYWNjb3VudCwgewogICAgICAgIGhpZGRlbjogZmFsc2UKICAgICAgfSkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/hero/lared-wallet/src/store/Mosaic.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport Vue from 'vue';\nimport { AccountInfo, Address, MosaicId, RepositoryFactory } from 'symbol-sdk';\n// internal dependencies\nimport { AwaitLock } from './AwaitLock';\nimport { MosaicService } from '@/services/MosaicService';\nimport { NetworkCurrencyModel } from '@/core/database/entities/NetworkCurrencyModel';\nimport { MosaicModel } from '@/core/database/entities/MosaicModel';\nimport { MosaicConfigurationModel } from '@/core/database/entities/MosaicConfigurationModel';\nimport { first, tap } from 'rxjs/operators';\nimport { MetadataModel } from '@/core/database/entities/MetadataModel';\nimport { MetadataService } from '@/services/MetadataService';\n\nconst Lock = AwaitLock.create();\n\n// mosaic state typing\ninterface MosaicState {\n    initialized: boolean;\n    networkCurrency: NetworkCurrencyModel;\n    mosaics: MosaicModel[];\n    balanceMosaics: MosaicModel[];\n    holdMosaics: MosaicModel[];\n    ownedMosaics: MosaicModel[];\n    networkMosaicId: MosaicId;\n    networkMosaicName: string;\n    networkMosaicTicker: string;\n    accountMosaicConfigurations: Record<string, MosaicConfigurationModel>;\n    isFetchingMosaics: boolean;\n}\n\n// mosaic state initial definition\nconst mosaicState: MosaicState = {\n    initialized: false,\n    networkMosaicId: null,\n    mosaics: [],\n    balanceMosaics: [],\n    holdMosaics: [],\n    ownedMosaics: [],\n    networkCurrency: null,\n    networkMosaicName: '',\n    networkMosaicTicker: '',\n    accountMosaicConfigurations: {},\n    isFetchingMosaics: false,\n};\n\nexport default {\n    namespaced: true,\n    state: mosaicState,\n    getters: {\n        getInitialized: (state: MosaicState) => state.initialized,\n        networkCurrency: (state: MosaicState) => state.networkCurrency,\n        mosaics: (state: MosaicState) => state.mosaics,\n        ownedMosaics: (state: MosaicState) => state.ownedMosaics,\n        holdMosaics: (state: MosaicState) => state.holdMosaics,\n        balanceMosaics: (state: MosaicState) => state.balanceMosaics,\n        networkMosaic: (state: MosaicState) => state.networkMosaicId,\n        networkMosaicTicker: (state: MosaicState) => state.networkMosaicTicker,\n        accountMosaicConfigurations: (state: MosaicState) => state.accountMosaicConfigurations,\n        networkMosaicName: (state: MosaicState) => state.networkMosaicName,\n        isFetchingMosaics: (state: MosaicState) => state.isFetchingMosaics,\n        networkBalanceMosaics: (state: MosaicState) => state.balanceMosaics.find((m) => m.mosaicIdHex === state.networkMosaicId.toHex()),\n    },\n    mutations: {\n        setInitialized: (state: MosaicState, initialized: boolean) => {\n            state.initialized = initialized;\n        },\n        networkCurrency: (state: MosaicState, networkCurrency: NetworkCurrencyModel) => {\n            Vue.set(state, 'networkCurrency', networkCurrency);\n            Vue.set(state, 'networkMosaicId', new MosaicId(networkCurrency.mosaicIdHex));\n            Vue.set(state, 'networkMosaicName', networkCurrency.namespaceIdFullname);\n            Vue.set(state, 'networkMosaicTicker', networkCurrency.ticker);\n        },\n        mosaics: (\n            state: MosaicState,\n            {\n                mosaics,\n                currentSignerAddress,\n                networkCurrency,\n                mosaicMetadataList,\n            }: {\n                mosaics: MosaicModel[];\n                currentSignerAddress: Address;\n                networkCurrency: NetworkCurrencyModel;\n                mosaicMetadataList: MetadataModel[];\n            },\n        ) => {\n            const uniqueMosaics = mosaics.map((mosaic) => {\n                mosaic.metadataList = MetadataService.getMosaicMetadataByTargetId(mosaicMetadataList, mosaic.mosaicIdHex);\n                return mosaic;\n            });\n            const ownedMosaics = uniqueMosaics.filter(\n                (m) => m.ownerRawPlain === currentSignerAddress.plain() && m.addressRawPlain === currentSignerAddress.plain(),\n            );\n\n            const holdMosaics = uniqueMosaics\n                .filter((m) => m.addressRawPlain === currentSignerAddress.plain())\n                .sort((m1, m2) => {\n                    const owner1 = m1.ownerRawPlain === currentSignerAddress.plain();\n                    const owner2 = m2.ownerRawPlain === currentSignerAddress.plain();\n                    return Number(owner1) - Number(owner2);\n                });\n\n            const noMosaic = networkCurrency && !holdMosaics.find((m) => m.isCurrencyMosaic);\n\n            const balanceMosaics = (noMosaic\n                ? [\n                      ...holdMosaics,\n                      {\n                          mosaicIdHex: networkCurrency.mosaicIdHex,\n                          divisibility: networkCurrency.divisibility,\n                          name: networkCurrency.namespaceIdFullname,\n                          isCurrencyMosaic: true,\n                          balance: 0,\n                      } as MosaicModel,\n                  ]\n                : [...holdMosaics]\n            ).filter((m) => m.isCurrencyMosaic || m.balance > 0);\n            Vue.set(state, 'mosaics', uniqueMosaics);\n            Vue.set(state, 'balanceMosaics', balanceMosaics);\n            Vue.set(state, 'ownedMosaics', ownedMosaics);\n            Vue.set(\n                state,\n                'holdMosaics',\n                holdMosaics.filter((m) => m.ownerRawPlain === currentSignerAddress.plain() || m.balance > 0),\n            );\n        },\n        accountMosaicConfigurations: (state: MosaicState, accountMosaicConfigurations: Record<string, MosaicConfigurationModel>) =>\n            Vue.set(state, 'accountMosaicConfigurations', accountMosaicConfigurations),\n\n        isFetchingMosaics: (state: MosaicState, isFetchingMosaics: boolean) => Vue.set(state, 'isFetchingMosaics', isFetchingMosaics),\n    },\n    actions: {\n        async initialize({ commit, getters }) {\n            const callback = async () => {\n                commit('setInitialized', true);\n            };\n            // acquire async lock until initialized\n            await Lock.initialize(callback, { getters });\n        },\n        async uninitialize({ commit, getters }) {\n            const callback = async () => {\n                commit('setInitialized', false);\n            };\n            await Lock.uninitialize(callback, { getters });\n        },\n\n        async LOAD_NETWORK_CURRENCIES({ commit, rootGetters }) {\n            const mosaicService = new MosaicService();\n            const repositoryFactory: RepositoryFactory = rootGetters['network/repositoryFactory'];\n            const generationHash: string = rootGetters['network/generationHash'];\n            await mosaicService\n                .getNetworkCurrencies(repositoryFactory, generationHash)\n                .pipe(\n                    tap((networkCurrencies) => {\n                        commit('networkCurrency', networkCurrencies.networkCurrency);\n                    }),\n                    first(),\n                )\n                .toPromise();\n        },\n\n        LOAD_MOSAICS({ commit, rootGetters }) {\n            const repositoryFactory: RepositoryFactory = rootGetters['network/repositoryFactory'];\n            const networkCurrency: NetworkCurrencyModel = rootGetters['mosaic/networkCurrency'];\n            const accountsInfo: AccountInfo[] = rootGetters['account/accountsInfo'] || [];\n            const generationHash = rootGetters['network/generationHash'];\n            const mosaicMetadataList: MetadataModel[] = rootGetters['metadata/mosaicMetadataList'];\n\n            commit('isFetchingMosaics', true);\n\n            new MosaicService()\n                .getMosaics(repositoryFactory, generationHash, networkCurrency, accountsInfo)\n                .subscribe((mosaics) => {\n                    const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n                    if (!currentSignerAddress) {\n                        return;\n                    }\n                    commit('mosaics', {\n                        mosaics: mosaics,\n                        currentSignerAddress,\n                        networkCurrency,\n                        mosaicMetadataList,\n                    });\n                })\n                .add(() => commit('isFetchingMosaics', false));\n        },\n\n        RESET_MOSAICS({ commit, rootGetters }) {\n            const networkCurrency: NetworkCurrencyModel = rootGetters['mosaic/networkCurrency'];\n            commit('mosaics', { mosaics: [], undefined, networkCurrency });\n        },\n\n        SIGNER_CHANGED({ commit, rootGetters, getters }) {\n            const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n            const networkCurrency: NetworkCurrencyModel = rootGetters['mosaic/networkCurrency'];\n            if (!currentSignerAddress) {\n                return;\n            }\n            const mosaicService = new MosaicService();\n            commit('accountMosaicConfigurations', mosaicService.getMosaicConfigurationsByAccount(rootGetters['account/currentAccount']));\n            commit('mosaics', {\n                mosaics: getters['mosaics'],\n                currentSignerAddress,\n                networkCurrency,\n            });\n        },\n\n        HIDE_MOSAIC({ commit }, { mosaicId, account }) {\n            commit(\n                'accountMosaicConfigurations',\n                new MosaicService().changeMosaicConfiguration(mosaicId, account, {\n                    hidden: true,\n                }),\n            );\n        },\n        SHOW_MOSAIC({ commit }, { mosaicId, account }) {\n            commit(\n                'accountMosaicConfigurations',\n                new MosaicService().changeMosaicConfiguration(mosaicId, account, {\n                    hidden: false,\n                }),\n            );\n        },\n    },\n};\n"],"sourceRoot":""}]}