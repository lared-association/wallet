{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/store/Transaction.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/store/Transaction.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSAiW29iamVjdCBBcmd1bWVudHNdIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgppbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KLy9leHRlcm5hbCBkZXBlbmRlbmNpZXMKCmltcG9ydCB7IEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uLCBUcmFuc2FjdGlvblR5cGUsIFB1YmxpY0FjY291bnQsIEFnZ3JlZ2F0ZVRyYW5zYWN0aW9uQ29zaWduYXR1cmUsIFRyYW5zYWN0aW9uR3JvdXAsIE9yZGVyIH0gZnJvbSAnc3ltYm9sLXNkayc7CmltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJzsKaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOwppbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7IC8vIGludGVybmFsIGRlcGVuZGVuY2llcwoKaW1wb3J0IHsgQXdhaXRMb2NrIH0gZnJvbSAnLi9Bd2FpdExvY2snOwppbXBvcnQgeyBUcmFuc2FjdGlvbkZpbHRlclNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL1RyYW5zYWN0aW9uRmlsdGVyU2VydmljZSc7CnZhciBMb2NrID0gQXdhaXRMb2NrLmNyZWF0ZSgpOwpleHBvcnQgdmFyIFRyYW5zYWN0aW9uR3JvdXBTdGF0ZTsKCihmdW5jdGlvbiAoVHJhbnNhY3Rpb25Hcm91cFN0YXRlKSB7CiAgVHJhbnNhY3Rpb25Hcm91cFN0YXRlWyJjb25maXJtZWQiXSA9ICJjb25maXJtZWQiOwogIFRyYW5zYWN0aW9uR3JvdXBTdGF0ZVsidW5jb25maXJtZWQiXSA9ICJ1bmNvbmZpcm1lZCI7CiAgVHJhbnNhY3Rpb25Hcm91cFN0YXRlWyJwYXJ0aWFsIl0gPSAicGFydGlhbCI7CiAgVHJhbnNhY3Rpb25Hcm91cFN0YXRlWyJhbGwiXSA9ICJhbGwiOwp9KShUcmFuc2FjdGlvbkdyb3VwU3RhdGUgfHwgKFRyYW5zYWN0aW9uR3JvdXBTdGF0ZSA9IHt9KSk7CgpleHBvcnQgdmFyIFRyYW5zYWN0aW9uRmlsdGVyT3B0aW9uczsKCihmdW5jdGlvbiAoVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zKSB7CiAgVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zWyJjb25maXJtZWQiXSA9ICJpc0NvbmZpcm1lZFNlbGVjdGVkIjsKICBUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnNbInVuY29uZmlybWVkIl0gPSAiaXNVbmNvbmZpcm1lZFNlbGVjdGVkIjsKICBUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnNbInBhcnRpYWwiXSA9ICJpc1BhcnRpYWxTZWxlY3RlZCI7CiAgVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zWyJzZW50Il0gPSAiaXNTZW50U2VsZWN0ZWQiOwogIFRyYW5zYWN0aW9uRmlsdGVyT3B0aW9uc1sicmVjZWl2ZWQiXSA9ICJpc1JlY2VpdmVkU2VsZWN0ZWQiOwp9KShUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnMgfHwgKFRyYW5zYWN0aW9uRmlsdGVyT3B0aW9ucyA9IHt9KSk7CgpleHBvcnQgdmFyIEZpbHRlck9wdGlvbiA9IGZ1bmN0aW9uIEZpbHRlck9wdGlvbigpIHsKICB2YXIgb3B0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnMuY29uZmlybWVkOwogIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CgogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJPcHRpb24pOwoKICB0aGlzLm9wdGlvbiA9IG9wdGlvbjsKICB0aGlzLnZhbHVlID0gdmFsdWU7Cn07CmV4cG9ydCB2YXIgVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zU3RhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFRyYW5zYWN0aW9uRmlsdGVyT3B0aW9uc1N0YXRlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zYWN0aW9uRmlsdGVyT3B0aW9uc1N0YXRlKTsKCiAgICB0aGlzLmlzQ29uZmlybWVkU2VsZWN0ZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNVbmNvbmZpcm1lZFNlbGVjdGVkID0gZmFsc2U7CiAgICB0aGlzLmlzUGFydGlhbFNlbGVjdGVkID0gZmFsc2U7CiAgICB0aGlzLmlzU2VudFNlbGVjdGVkID0gZmFsc2U7CiAgICB0aGlzLmlzUmVjZWl2ZWRTZWxlY3RlZCA9IGZhbHNlOwogIH0KICAvKioKICAgKiBSZXR1cm5zIGZhbHNlIHdoZW4gYWxsIGZyb20gYW55IGdyb3VwIG9yIG5vdGhpbmcgc2VsZWN0ZWQuCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zU3RhdGUsIFt7CiAgICBrZXk6ICJzZXRGaWx0ZXJPcHRpb24iLAoKICAgIC8qKgogICAgICogU2V0cyBzZWxlY3RlZCBrZXktdmFsdWUgcGFpci4KICAgICAqIEBwYXJhbSBmaWx0ZXJPcHRpb24gb25lIG9mIGV4aXN0aW5nIGZpbHRlciBvcHRpb25zIGFuZCB2YWx1ZQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyT3B0aW9uKGZpbHRlck9wdGlvbikgewogICAgICB0aGlzW2ZpbHRlck9wdGlvbi5vcHRpb25dID0gZmlsdGVyT3B0aW9uLnZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVja3MgaWYgYWxsIHByb3BlcnR5IGZhbHN5LgogICAgICovCgogIH0sIHsKICAgIGtleTogImNoZWNrQWxsVW5zZWxlY3RlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tBbGxVbnNlbGVjdGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gIV90aGlzW2tleV07CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImlzRmlsdGVyU2hvdWxkQmVBcHBsaWVkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5jaGVja0FsbFVuc2VsZWN0ZWQoKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGlzQWxsQnlDb25maXJtZWRTdGF0dXNTZWxlY3RlZCA9IHRoaXMuaXNDb25maXJtZWRTZWxlY3RlZCAmJiB0aGlzLmlzVW5jb25maXJtZWRTZWxlY3RlZCAmJiB0aGlzLmlzUGFydGlhbFNlbGVjdGVkOwogICAgICByZXR1cm4gIWlzQWxsQnlDb25maXJtZWRTdGF0dXNTZWxlY3RlZDsKICAgIH0KICB9XSk7CgogIHJldHVybiBUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnNTdGF0ZTsKfSgpOwovKioKICogSGVscGVyIHRvIGZvcm1hdCB0cmFuc2FjdGlvbiBncm91cCBpbiBuYW1lIG9mIHN0YXRlIHZhcmlhYmxlLgogKgogKiBAaW50ZXJuYWwKICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwCiAqIEByZXR1cm4ge3N0cmluZ30gT25lIG9mICdjb25maXJtZWRUcmFuc2FjdGlvbnMnLCAndW5jb25maXJtZWRUcmFuc2FjdGlvbnMnIG9yCiAqICAgJ3BhcnRpYWxUcmFuc2FjdGlvbnMnCiAqLwoKdmFyIHRyYW5zYWN0aW9uR3JvdXBUb1N0YXRlVmFyaWFibGUgPSBmdW5jdGlvbiB0cmFuc2FjdGlvbkdyb3VwVG9TdGF0ZVZhcmlhYmxlKGdyb3VwKSB7CiAgcmV0dXJuIGdyb3VwICsgJ1RyYW5zYWN0aW9ucyc7Cn07Cgp2YXIgdHJhbnNhY3Rpb25Db21wYXJhdG9yID0gZnVuY3Rpb24gdHJhbnNhY3Rpb25Db21wYXJhdG9yKHQxLCB0MikgewogIC8vIC0gdW5jb25maXJtZWQvcGFydGlhbCBzb3J0ZWQgYnkgaW5kZXgKICByZXR1cm4gdDEudHJhbnNhY3Rpb25JbmZvLmluZGV4IC0gdDIudHJhbnNhY3Rpb25JbmZvLmluZGV4Owp9OwoKdmFyIGNvbmZpcm1lZFRyYW5zYWN0aW9uQ29tcGFyYXRvciA9IGZ1bmN0aW9uIGNvbmZpcm1lZFRyYW5zYWN0aW9uQ29tcGFyYXRvcih0MSwgdDIpIHsKICB2YXIgaW5mbzEgPSB0MS50cmFuc2FjdGlvbkluZm87CiAgdmFyIGluZm8yID0gdDIudHJhbnNhY3Rpb25JbmZvOyAvLyAtIGNvbmZpcm1lZCBzb3J0ZWQgYnkgaGVpZ2h0IHRoZW4gaW5kZXgKCiAgdmFyIGRpZmZIZWlnaHQgPSBpbmZvMi5oZWlnaHQuY29tcGFjdCgpIC0gaW5mbzEuaGVpZ2h0LmNvbXBhY3QoKTsKICB2YXIgZGlmZkluZGV4ID0gaW5mbzEuaW5kZXggLSBpbmZvMi5pbmRleDsKICByZXR1cm4gZGlmZkhlaWdodCAhPT0gMCA/IGRpZmZIZWlnaHQgOiBkaWZmSW5kZXg7Cn07CgpmdW5jdGlvbiBjb25kaXRpb25hbFNvcnQoYXJyYXksIGNvbXBhcmF0b3IpIHsKICBpZiAoIWFycmF5KSB7CiAgICByZXR1cm4gYXJyYXk7CiAgfQoKICByZXR1cm4gYXJyYXkuc29ydChjb21wYXJhdG9yKTsKfQoKdmFyIHRyYW5zYWN0aW9uU3RhdGUgPSB7CiAgaW5pdGlhbGl6ZWQ6IGZhbHNlLAogIGlzRmV0Y2hpbmdUcmFuc2FjdGlvbnM6IGZhbHNlLAogIHRyYW5zYWN0aW9uczogW10sCiAgZmlsdGVyZWRUcmFuc2FjdGlvbnM6IFtdLAogIGNvbmZpcm1lZFRyYW5zYWN0aW9uczogW10sCiAgdW5jb25maXJtZWRUcmFuc2FjdGlvbnM6IFtdLAogIHBhcnRpYWxUcmFuc2FjdGlvbnM6IFtdLAogIGZpbHRlck9wdGlvbnM6IG5ldyBUcmFuc2FjdGlvbkZpbHRlck9wdGlvbnNTdGF0ZSgpLAogIGN1cnJlbnRDb25maXJtZWRQYWdlOiB7CiAgICBwYWdlTnVtYmVyOiAxLAogICAgaXNMYXN0UGFnZTogZmFsc2UKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB0cmFuc2FjdGlvblN0YXRlLAogIGdldHRlcnM6IHsKICAgIGdldEluaXRpYWxpemVkOiBmdW5jdGlvbiBnZXRJbml0aWFsaXplZChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaW5pdGlhbGl6ZWQ7CiAgICB9LAogICAgaXNGZXRjaGluZ1RyYW5zYWN0aW9uczogZnVuY3Rpb24gaXNGZXRjaGluZ1RyYW5zYWN0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuaXNGZXRjaGluZ1RyYW5zYWN0aW9uczsKICAgIH0sCiAgICB0cmFuc2FjdGlvbnM6IGZ1bmN0aW9uIHRyYW5zYWN0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudHJhbnNhY3Rpb25zOwogICAgfSwKICAgIGZpbHRlcmVkVHJhbnNhY3Rpb25zOiBmdW5jdGlvbiBmaWx0ZXJlZFRyYW5zYWN0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZmlsdGVyZWRUcmFuc2FjdGlvbnM7CiAgICB9LAogICAgZmlsdGVyT3B0aW9uczogZnVuY3Rpb24gZmlsdGVyT3B0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZmlsdGVyT3B0aW9uczsKICAgIH0sCiAgICBjdXJyZW50Q29uZmlybWVkUGFnZTogZnVuY3Rpb24gY3VycmVudENvbmZpcm1lZFBhZ2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRDb25maXJtZWRQYWdlOwogICAgfSwKICAgIGNvbmZpcm1lZFRyYW5zYWN0aW9uczogZnVuY3Rpb24gY29uZmlybWVkVHJhbnNhY3Rpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jb25maXJtZWRUcmFuc2FjdGlvbnM7CiAgICB9LAogICAgdW5jb25maXJtZWRUcmFuc2FjdGlvbnM6IGZ1bmN0aW9uIHVuY29uZmlybWVkVHJhbnNhY3Rpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51bmNvbmZpcm1lZFRyYW5zYWN0aW9uczsKICAgIH0sCiAgICBwYXJ0aWFsVHJhbnNhY3Rpb25zOiBmdW5jdGlvbiBwYXJ0aWFsVHJhbnNhY3Rpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wYXJ0aWFsVHJhbnNhY3Rpb25zOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRJbml0aWFsaXplZDogZnVuY3Rpb24gc2V0SW5pdGlhbGl6ZWQoc3RhdGUsIGluaXRpYWxpemVkKSB7CiAgICAgIHN0YXRlLmluaXRpYWxpemVkID0gaW5pdGlhbGl6ZWQ7CiAgICB9LAogICAgaXNGZXRjaGluZ1RyYW5zYWN0aW9uczogZnVuY3Rpb24gaXNGZXRjaGluZ1RyYW5zYWN0aW9ucyhzdGF0ZSwgX2lzRmV0Y2hpbmdUcmFuc2FjdGlvbnMpIHsKICAgICAgc3RhdGUuaXNGZXRjaGluZ1RyYW5zYWN0aW9ucyA9IF9pc0ZldGNoaW5nVHJhbnNhY3Rpb25zOwogICAgfSwKICAgIGNvbmZpcm1lZFRyYW5zYWN0aW9uczogZnVuY3Rpb24gY29uZmlybWVkVHJhbnNhY3Rpb25zKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciB0cmFuc2FjdGlvbnMgPSBfcmVmLnRyYW5zYWN0aW9ucywKICAgICAgICAgIHJlZnJlc2ggPSBfcmVmLnJlZnJlc2gsCiAgICAgICAgICBwYWdlSW5mbyA9IF9yZWYucGFnZUluZm87CgogICAgICAvLyBpZiBpdCdzIGEgcmVmcmVzaCByZXF1ZXN0IHRoZW4gcmVmcmVzaCB0aGUgbGlzdCwgZWxzZSBjb25jYXQgdGhlIG5ldyBpdGVtcyB0byB0aGUgbGlzdAogICAgICBpZiAocmVmcmVzaCkgewogICAgICAgIHN0YXRlLmNvbmZpcm1lZFRyYW5zYWN0aW9ucyA9IGNvbmRpdGlvbmFsU29ydCh0cmFuc2FjdGlvbnMsIGNvbmZpcm1lZFRyYW5zYWN0aW9uQ29tcGFyYXRvcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuY29uZmlybWVkVHJhbnNhY3Rpb25zID0gY29uZGl0aW9uYWxTb3J0KHN0YXRlLmNvbmZpcm1lZFRyYW5zYWN0aW9ucy5jb25jYXQodHJhbnNhY3Rpb25zKSwgY29uZmlybWVkVHJhbnNhY3Rpb25Db21wYXJhdG9yKTsKICAgICAgfQoKICAgICAgc3RhdGUuY3VycmVudENvbmZpcm1lZFBhZ2UgPSBwYWdlSW5mbzsKICAgIH0sCiAgICB1bmNvbmZpcm1lZFRyYW5zYWN0aW9uczogZnVuY3Rpb24gdW5jb25maXJtZWRUcmFuc2FjdGlvbnMoc3RhdGUsIF9yZWYyKSB7CiAgICAgIHZhciB0cmFuc2FjdGlvbnMgPSBfcmVmMi50cmFuc2FjdGlvbnM7CiAgICAgIHN0YXRlLnVuY29uZmlybWVkVHJhbnNhY3Rpb25zID0gY29uZGl0aW9uYWxTb3J0KHRyYW5zYWN0aW9ucywgdHJhbnNhY3Rpb25Db21wYXJhdG9yKTsKICAgIH0sCiAgICBwYXJ0aWFsVHJhbnNhY3Rpb25zOiBmdW5jdGlvbiBwYXJ0aWFsVHJhbnNhY3Rpb25zKHN0YXRlLCBfcmVmMykgewogICAgICB2YXIgdHJhbnNhY3Rpb25zID0gX3JlZjMudHJhbnNhY3Rpb25zOwogICAgICBzdGF0ZS5wYXJ0aWFsVHJhbnNhY3Rpb25zID0gY29uZGl0aW9uYWxTb3J0KHRyYW5zYWN0aW9ucywgdHJhbnNhY3Rpb25Db21wYXJhdG9yKTsKICAgIH0sCiAgICBzZXRBbGxUcmFuc2FjdGlvbnM6IGZ1bmN0aW9uIHNldEFsbFRyYW5zYWN0aW9ucyhzdGF0ZSkgewogICAgICBzdGF0ZS50cmFuc2FjdGlvbnMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLnBhcnRpYWxUcmFuc2FjdGlvbnMpLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUudW5jb25maXJtZWRUcmFuc2FjdGlvbnMpLCBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuY29uZmlybWVkVHJhbnNhY3Rpb25zKSk7CiAgICB9LAogICAgZmlsdGVyVHJhbnNhY3Rpb25zOiBmdW5jdGlvbiBmaWx0ZXJUcmFuc2FjdGlvbnMoc3RhdGUsIF9yZWY0KSB7CiAgICAgIHZhciBmaWx0ZXJPcHRpb24gPSBfcmVmNC5maWx0ZXJPcHRpb24sCiAgICAgICAgICBjdXJyZW50U2lnbmVyQWRkcmVzcyA9IF9yZWY0LmN1cnJlbnRTaWduZXJBZGRyZXNzLAogICAgICAgICAgX3JlZjQkc2hvdWxkRmlsdGVyT3B0ID0gX3JlZjQuc2hvdWxkRmlsdGVyT3B0aW9uQ2hhbmdlLAogICAgICAgICAgc2hvdWxkRmlsdGVyT3B0aW9uQ2hhbmdlID0gX3JlZjQkc2hvdWxkRmlsdGVyT3B0ID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjQkc2hvdWxkRmlsdGVyT3B0OwoKICAgICAgaWYgKHNob3VsZEZpbHRlck9wdGlvbkNoYW5nZSkgewogICAgICAgIGlmIChmaWx0ZXJPcHRpb24pIHsKICAgICAgICAgIHN0YXRlLmZpbHRlck9wdGlvbnMuc2V0RmlsdGVyT3B0aW9uKGZpbHRlck9wdGlvbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0YXRlLmZpbHRlck9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25GaWx0ZXJPcHRpb25zU3RhdGUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHN0YXRlLmZpbHRlcmVkVHJhbnNhY3Rpb25zID0gVHJhbnNhY3Rpb25GaWx0ZXJTZXJ2aWNlLmZpbHRlcihzdGF0ZSwgY3VycmVudFNpZ25lckFkZHJlc3MpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0LAogICAgICAgICAgZ2V0dGVycyA9IF9yZWY1LmdldHRlcnM7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBjYWxsYmFjazsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMyLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGFjZWhvbGRlciBmb3IgaW5pdGlhbGl6YXRpb24gaWYgbmVjZXNzYXJ5LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRJbml0aWFsaXplZCcsIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfTsgLy8gYXF1aXJlIGFzeW5jIGxvY2sgdW50aWwgaW5pdGlhbGl6ZWQKCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIExvY2suaW5pdGlhbGl6ZShjYWxsYmFjaywgewogICAgICAgICAgICAgICAgICBnZXR0ZXJzOiBnZXR0ZXJzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwogICAgfSwKICAgIHVuaW5pdGlhbGl6ZTogZnVuY3Rpb24gdW5pbml0aWFsaXplKF9yZWY2KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjYuZ2V0dGVycywKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjYuZGlzcGF0Y2g7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgIHZhciBjYWxsYmFjazsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnUkVTRVRfVFJBTlNBQ1RJT05TJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SW5pdGlhbGl6ZWQnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIExvY2sudW5pbml0aWFsaXplKGNhbGxiYWNrLCB7CiAgICAgICAgICAgICAgICAgIGdldHRlcnM6IGdldHRlcnMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSk7CiAgICB9LAogICAgTE9BRF9UUkFOU0FDVElPTlM6IGZ1bmN0aW9uIExPQURfVFJBTlNBQ1RJT05TKF9yZWY3KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQsCiAgICAgICAgICByb290R2V0dGVycyA9IF9yZWY3LnJvb3RHZXR0ZXJzOwoKICAgICAgdmFyIF9yZWY4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7CiAgICAgICAgcGFnZVNpemU6IDIwLAogICAgICAgIHBhZ2VOdW1iZXI6IDEKICAgICAgfSwKICAgICAgICAgIHBhZ2VTaXplID0gX3JlZjgucGFnZVNpemUsCiAgICAgICAgICBwYWdlTnVtYmVyID0gX3JlZjgucGFnZU51bWJlcjsKCiAgICAgIHZhciBjdXJyZW50U2lnbmVyQWRkcmVzcyA9IHJvb3RHZXR0ZXJzWydhY2NvdW50L2N1cnJlbnRTaWduZXJBZGRyZXNzJ107CgogICAgICBpZiAoIWN1cnJlbnRTaWduZXJBZGRyZXNzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgcmVwb3NpdG9yeUZhY3RvcnkgPSByb290R2V0dGVyc1snbmV0d29yay9yZXBvc2l0b3J5RmFjdG9yeSddOwogICAgICB2YXIgdHJhbnNhY3Rpb25SZXBvc2l0b3J5ID0gcmVwb3NpdG9yeUZhY3RvcnkuY3JlYXRlVHJhbnNhY3Rpb25SZXBvc2l0b3J5KCk7CgogICAgICB2YXIgc3Vic2NyaWJlVHJhbnNhY3Rpb25zID0gZnVuY3Rpb24gc3Vic2NyaWJlVHJhbnNhY3Rpb25zKGdyb3VwLCB0cmFuc2FjdGlvbkNhbGwpIHsKICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHRyYW5zYWN0aW9uR3JvdXBUb1N0YXRlVmFyaWFibGUoZ3JvdXApOwogICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkNhbGwucGlwZShtYXAoZnVuY3Rpb24gKHRyYW5zYWN0aW9uc1BhZ2UpIHsKICAgICAgICAgIGNvbW1pdChhdHRyaWJ1dGVOYW1lLCB7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uczogdHJhbnNhY3Rpb25zUGFnZS5kYXRhIHx8IFtdLAogICAgICAgICAgICByZWZyZXNoOiB0cmFuc2FjdGlvbnNQYWdlLnBhZ2VOdW1iZXIgPT09IDEsCiAgICAgICAgICAgIHBhZ2VJbmZvOiB7CiAgICAgICAgICAgICAgcGFnZU51bWJlcjogdHJhbnNhY3Rpb25zUGFnZS5wYWdlTnVtYmVyLAogICAgICAgICAgICAgIGlzTGFzdFBhZ2U6IHRyYW5zYWN0aW9uc1BhZ2UuaXNMYXN0UGFnZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbnNQYWdlLmRhdGE7CiAgICAgICAgfSkpOwogICAgICB9OwoKICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBbXTsKICAgICAgY29tbWl0KCdpc0ZldGNoaW5nVHJhbnNhY3Rpb25zJywgdHJ1ZSk7CiAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpYmVUcmFuc2FjdGlvbnMoVHJhbnNhY3Rpb25Hcm91cFN0YXRlLmNvbmZpcm1lZCwgdHJhbnNhY3Rpb25SZXBvc2l0b3J5LnNlYXJjaCh7CiAgICAgICAgZ3JvdXA6IFRyYW5zYWN0aW9uR3JvdXAuQ29uZmlybWVkLAogICAgICAgIGFkZHJlc3M6IGN1cnJlbnRTaWduZXJBZGRyZXNzLAogICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSwKICAgICAgICBwYWdlTnVtYmVyOiBwYWdlTnVtYmVyLAogICAgICAgIG9yZGVyOiBPcmRlci5EZXNjCiAgICAgIH0pKSk7CgogICAgICBpZiAocGFnZU51bWJlciA9PT0gMSkgewogICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpYmVUcmFuc2FjdGlvbnMoVHJhbnNhY3Rpb25Hcm91cFN0YXRlLnVuY29uZmlybWVkLCB0cmFuc2FjdGlvblJlcG9zaXRvcnkuc2VhcmNoKHsKICAgICAgICAgIGdyb3VwOiBUcmFuc2FjdGlvbkdyb3VwLlVuY29uZmlybWVkLAogICAgICAgICAgYWRkcmVzczogY3VycmVudFNpZ25lckFkZHJlc3MsCiAgICAgICAgICBwYWdlU2l6ZTogMTAwLAogICAgICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgICAgIG9yZGVyOiBPcmRlci5EZXNjCiAgICAgICAgfSkpKTsKICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaWJlVHJhbnNhY3Rpb25zKFRyYW5zYWN0aW9uR3JvdXBTdGF0ZS5wYXJ0aWFsLCB0cmFuc2FjdGlvblJlcG9zaXRvcnkuc2VhcmNoKHsKICAgICAgICAgIGdyb3VwOiBUcmFuc2FjdGlvbkdyb3VwLlBhcnRpYWwsCiAgICAgICAgICBhZGRyZXNzOiBjdXJyZW50U2lnbmVyQWRkcmVzcywKICAgICAgICAgIHBhZ2VTaXplOiAxMDAsCiAgICAgICAgICBwYWdlTnVtYmVyOiAxLAogICAgICAgICAgb3JkZXI6IE9yZGVyLkRlc2MKICAgICAgICB9KSkpOwogICAgICB9CgogICAgICBjb21iaW5lTGF0ZXN0KHN1YnNjcmlwdGlvbnMpLnN1YnNjcmliZSh7CiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKCkgewogICAgICAgICAgY29tbWl0KCdzZXRBbGxUcmFuc2FjdGlvbnMnKTsKICAgICAgICAgIGNvbW1pdCgnZmlsdGVyVHJhbnNhY3Rpb25zJywgewogICAgICAgICAgICBmaWx0ZXJPcHRpb246IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnRTaWduZXJBZGRyZXNzOiBjdXJyZW50U2lnbmVyQWRkcmVzcy5wbGFpbigpLAogICAgICAgICAgICBzaG91bGRGaWx0ZXJPcHRpb25DaGFuZ2U6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbW1pdCgnaXNGZXRjaGluZ1RyYW5zYWN0aW9ucycsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIExPQURfVFJBTlNBQ1RJT05fREVUQUlMUzogZnVuY3Rpb24gTE9BRF9UUkFOU0FDVElPTl9ERVRBSUxTKF9yZWY5LCBfcmVmMTApIHsKICAgICAgdmFyIHJvb3RHZXR0ZXJzID0gX3JlZjkucm9vdEdldHRlcnM7CiAgICAgIHZhciBncm91cCA9IF9yZWYxMC5ncm91cCwKICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaCA9IF9yZWYxMC50cmFuc2FjdGlvbkhhc2g7CgogICAgICBpZiAoIWdyb3VwKSB7CiAgICAgICAgdGhyb3cgRXJyb3IoIk1pc3NpbmcgbWFuZGF0b3J5IGZpZWxkICdncm91cCcgZm9yIGFjdGlvbiB0cmFuc2FjdGlvbi9MT0FEX1RSQU5TQUNUSU9OX0RFVEFJTFMuIik7CiAgICAgIH0KCiAgICAgIGlmICghdHJhbnNhY3Rpb25IYXNoKSB7CiAgICAgICAgdGhyb3cgRXJyb3IoIk1pc3NpbmcgbWFuZGF0b3J5IGZpZWxkICd0cmFuc2FjdGlvbkhhc2gnIGZvciBhY3Rpb24gdHJhbnNhY3Rpb24vTE9BRF9UUkFOU0FDVElPTl9ERVRBSUxTLiIpOwogICAgICB9IC8vIHByZXBhcmUKCgogICAgICB2YXIgcmVwb3NpdG9yeUZhY3RvcnkgPSByb290R2V0dGVyc1snbmV0d29yay9yZXBvc2l0b3J5RmFjdG9yeSddOwogICAgICB2YXIgdHJhbnNhY3Rpb25SZXBvc2l0b3J5ID0gcmVwb3NpdG9yeUZhY3RvcnkuY3JlYXRlVHJhbnNhY3Rpb25SZXBvc2l0b3J5KCk7CiAgICAgIHZhciBzZGtHcm91cCA9IFRyYW5zYWN0aW9uR3JvdXAuQ29uZmlybWVkOwoKICAgICAgaWYgKCFbVHJhbnNhY3Rpb25Hcm91cFN0YXRlLmFsbCwgVHJhbnNhY3Rpb25Hcm91cFN0YXRlLmNvbmZpcm1lZF0uaW5jbHVkZXMoZ3JvdXApKSB7CiAgICAgICAgc2RrR3JvdXAgPSBncm91cCA9PT0gVHJhbnNhY3Rpb25Hcm91cFN0YXRlLnBhcnRpYWwgPyBUcmFuc2FjdGlvbkdyb3VwLlBhcnRpYWwgOiBUcmFuc2FjdGlvbkdyb3VwLlVuY29uZmlybWVkOwogICAgICB9IC8vIGZldGNoIHRyYW5zYWN0aW9uIGRldGFpbHMKCgogICAgICByZXR1cm4gdHJhbnNhY3Rpb25SZXBvc2l0b3J5LmdldFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSGFzaCwgc2RrR3JvdXApLnRvUHJvbWlzZSgpOwogICAgfSwKICAgIEZFVENIX1RSQU5TQUNUSU9OX1NUQVRVUzogZnVuY3Rpb24gRkVUQ0hfVFJBTlNBQ1RJT05fU1RBVFVTKF9yZWYxMSwgX3JlZjEyKSB7CiAgICAgIHZhciByb290R2V0dGVycyA9IF9yZWYxMS5yb290R2V0dGVyczsKICAgICAgdmFyIHRyYW5zYWN0aW9uSGFzaCA9IF9yZWYxMi50cmFuc2FjdGlvbkhhc2g7CgogICAgICBpZiAoIXRyYW5zYWN0aW9uSGFzaCkgewogICAgICAgIHRocm93IEVycm9yKCJNaXNzaW5nIG1hbmRhdG9yeSBmaWVsZCAndHJhbnNhY3Rpb25IYXNoJyBmb3IgYWN0aW9uIHRyYW5zYWN0aW9uL0ZFVENIX1RSQU5TQUNUSU9OX1NUQVRVUy4iKTsKICAgICAgfSAvLyBwcmVwYXJlCgoKICAgICAgdmFyIHJlcG9zaXRvcnlGYWN0b3J5ID0gcm9vdEdldHRlcnNbJ25ldHdvcmsvcmVwb3NpdG9yeUZhY3RvcnknXTsKICAgICAgdmFyIHRyYW5zYWN0aW9uU3RhdHVzUmVwb3NpdG9yeSA9IHJlcG9zaXRvcnlGYWN0b3J5LmNyZWF0ZVRyYW5zYWN0aW9uU3RhdHVzUmVwb3NpdG9yeSgpOyAvLyBmZXRjaCB0cmFuc2FjdGlvbiBzdGF0dXMKCiAgICAgIHJldHVybiB0cmFuc2FjdGlvblN0YXR1c1JlcG9zaXRvcnkuZ2V0VHJhbnNhY3Rpb25TdGF0dXModHJhbnNhY3Rpb25IYXNoKS50b1Byb21pc2UoKTsKICAgIH0sCiAgICBTSUdORVJfQ0hBTkdFRDogZnVuY3Rpb24gU0lHTkVSX0NIQU5HRUQoX3JlZjEzKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYxMy5kaXNwYXRjaDsKICAgICAgZGlzcGF0Y2goJ0xPQURfVFJBTlNBQ1RJT05TJyk7CiAgICB9LAogICAgUkVTRVRfVFJBTlNBQ1RJT05TOiBmdW5jdGlvbiBSRVNFVF9UUkFOU0FDVElPTlMoX3JlZjE0KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMTQuY29tbWl0OwogICAgICBPYmplY3Qua2V5cyhUcmFuc2FjdGlvbkdyb3VwU3RhdGUpLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7CiAgICAgICAgaWYgKGdyb3VwICE9PSBUcmFuc2FjdGlvbkdyb3VwU3RhdGUuYWxsKSB7CiAgICAgICAgICBjb21taXQodHJhbnNhY3Rpb25Hcm91cFRvU3RhdGVWYXJpYWJsZShncm91cCksIHsKICAgICAgICAgICAgdHJhbnNhY3Rpb25zOiBbXSwKICAgICAgICAgICAgcGFnZUluZm86IHsKICAgICAgICAgICAgICBwYWdlTnVtYmVyOiAxLAogICAgICAgICAgICAgIGlzTGFzdFBhZ2U6IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgQUREX1RSQU5TQUNUSU9OOiBmdW5jdGlvbiBBRERfVFJBTlNBQ1RJT04oX3JlZjE1LCBfcmVmMTYpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxNS5jb21taXQsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjE1LmdldHRlcnMsCiAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYxNS5yb290R2V0dGVyczsKICAgICAgdmFyIGdyb3VwID0gX3JlZjE2Lmdyb3VwLAogICAgICAgICAgdHJhbnNhY3Rpb24gPSBfcmVmMTYudHJhbnNhY3Rpb247CgogICAgICBpZiAoIWdyb3VwKSB7CiAgICAgICAgdGhyb3cgRXJyb3IoIk1pc3NpbmcgbWFuZGF0b3J5IGZpZWxkICdncm91cCcgZm9yIGFjdGlvbiB0cmFuc2FjdGlvbi9BRERfVFJBTlNBQ1RJT04uIik7CiAgICAgIH0KCiAgICAgIGlmICghdHJhbnNhY3Rpb24pIHsKICAgICAgICB0aHJvdyBFcnJvcigiTWlzc2luZyBtYW5kYXRvcnkgZmllbGQgJ3RyYW5zYWN0aW9uJyBmb3IgYWN0aW9uIHRyYW5zYWN0aW9uL0FERF9UUkFOU0FDVElPTi4iKTsKICAgICAgfSAvLyBmb3JtYXQgdHJhbnNhY3Rpb25BdHRyaWJ1dGUgdG8gc3RvcmUgdmFyaWFibGUgbmFtZQoKCiAgICAgIHZhciB0cmFuc2FjdGlvbkF0dHJpYnV0ZSA9IHRyYW5zYWN0aW9uR3JvdXBUb1N0YXRlVmFyaWFibGUoZ3JvdXApOwogICAgICB2YXIgY3VycmVudFNpZ25lckFkZHJlc3MgPSByb290R2V0dGVyc1snYWNjb3VudC9jdXJyZW50U2lnbmVyQWRkcmVzcyddOyAvLyByZWdpc3RlciB0cmFuc2FjdGlvbgoKICAgICAgdmFyIHRyYW5zYWN0aW9ucyA9IGdldHRlcnNbdHJhbnNhY3Rpb25BdHRyaWJ1dGVdIHx8IFtdOwoKICAgICAgaWYgKCF0cmFuc2FjdGlvbnMuZmluZChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LnRyYW5zYWN0aW9uSW5mby5oYXNoID09PSB0cmFuc2FjdGlvbi50cmFuc2FjdGlvbkluZm8uaGFzaDsKICAgICAgfSkpIHsKICAgICAgICAvLyB1cGRhdGUgc3RhdGUKICAgICAgICBjb21taXQodHJhbnNhY3Rpb25BdHRyaWJ1dGUsIHsKICAgICAgICAgIHRyYW5zYWN0aW9uczogW3RyYW5zYWN0aW9uXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRyYW5zYWN0aW9ucykpLAogICAgICAgICAgcmVmcmVzaDogdHJ1ZSwKICAgICAgICAgIHBhZ2VJbmZvOiBnZXR0ZXJzWydjdXJyZW50Q29uZmlybWVkUGFnZSddCiAgICAgICAgfSk7CiAgICAgICAgY29tbWl0KCdzZXRBbGxUcmFuc2FjdGlvbnMnKTsKICAgICAgICBjb21taXQoJ2ZpbHRlclRyYW5zYWN0aW9ucycsIHsKICAgICAgICAgIGZpbHRlck9wdGlvbjogbnVsbCwKICAgICAgICAgIGN1cnJlbnRTaWduZXJBZGRyZXNzOiBjdXJyZW50U2lnbmVyQWRkcmVzcy5wbGFpbigpLAogICAgICAgICAgc2hvdWxkRmlsdGVyT3B0aW9uQ2hhbmdlOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgUkVNT1ZFX1RSQU5TQUNUSU9OOiBmdW5jdGlvbiBSRU1PVkVfVFJBTlNBQ1RJT04oX3JlZjE3LCBfcmVmMTgpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYxNy5jb21taXQsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZjE3LmdldHRlcnMsCiAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYxNy5yb290R2V0dGVyczsKICAgICAgdmFyIGdyb3VwID0gX3JlZjE4Lmdyb3VwLAogICAgICAgICAgdHJhbnNhY3Rpb25IYXNoID0gX3JlZjE4LnRyYW5zYWN0aW9uSGFzaDsKCiAgICAgIGlmICghZ3JvdXApIHsKICAgICAgICB0aHJvdyBFcnJvcigiTWlzc2luZyBtYW5kYXRvcnkgZmllbGQgJ2dyb3VwJyBmb3IgYWN0aW9uIHRyYW5zYWN0aW9uL1JFTU9WRV9UUkFOU0FDVElPTi4iKTsKICAgICAgfQoKICAgICAgaWYgKCF0cmFuc2FjdGlvbkhhc2gpIHsKICAgICAgICB0aHJvdyBFcnJvcigiTWlzc2luZyBtYW5kYXRvcnkgZmllbGQgJ3RyYW5zYWN0aW9uSGFzaCcgZm9yIGFjdGlvbiB0cmFuc2FjdGlvbi9SRU1PVkVfVFJBTlNBQ1RJT04uIik7CiAgICAgIH0gLy8gZm9ybWF0IHRyYW5zYWN0aW9uQXR0cmlidXRlIHRvIHN0b3JlIHZhcmlhYmxlIG5hbWUKCgogICAgICB2YXIgdHJhbnNhY3Rpb25BdHRyaWJ1dGUgPSB0cmFuc2FjdGlvbkdyb3VwVG9TdGF0ZVZhcmlhYmxlKGdyb3VwKTsKICAgICAgdmFyIGN1cnJlbnRTaWduZXJBZGRyZXNzID0gcm9vdEdldHRlcnNbJ2FjY291bnQvY3VycmVudFNpZ25lckFkZHJlc3MnXTsgLy8gcmVnaXN0ZXIgdHJhbnNhY3Rpb24KCiAgICAgIHZhciB0cmFuc2FjdGlvbnMgPSBnZXR0ZXJzW3RyYW5zYWN0aW9uQXR0cmlidXRlXSB8fCBbXTsKICAgICAgY29tbWl0KHRyYW5zYWN0aW9uQXR0cmlidXRlLCB7CiAgICAgICAgdHJhbnNhY3Rpb25zOiB0cmFuc2FjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gdC50cmFuc2FjdGlvbkluZm8uaGFzaCAhPT0gdHJhbnNhY3Rpb25IYXNoOwogICAgICAgIH0pLAogICAgICAgIHJlZnJlc2g6IHRydWUsCiAgICAgICAgcGFnZUluZm86IGdldHRlcnNbJ2N1cnJlbnRDb25maXJtZWRQYWdlJ10KICAgICAgfSk7CiAgICAgIGNvbW1pdCgnc2V0QWxsVHJhbnNhY3Rpb25zJyk7CiAgICAgIGNvbW1pdCgnZmlsdGVyVHJhbnNhY3Rpb25zJywgewogICAgICAgIGZpbHRlck9wdGlvbjogbnVsbCwKICAgICAgICBjdXJyZW50U2lnbmVyQWRkcmVzczogY3VycmVudFNpZ25lckFkZHJlc3MucGxhaW4oKSwKICAgICAgICBzaG91bGRGaWx0ZXJPcHRpb25DaGFuZ2U6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIE9OX05FV19UUkFOU0FDVElPTjogZnVuY3Rpb24gT05fTkVXX1RSQU5TQUNUSU9OKF9yZWYxOSwgdHJhbnNhY3Rpb24pIHsKICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZjE5LmRpc3BhdGNoOwogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciB0cmFuc2FjdGlvblR5cGVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAvLyBleHRyYWN0IHRyYW5zYWN0aW9uIHR5cGVzIGZyb20gdGhlIHRyYW5zYWN0aW9uCiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblR5cGVzID0gXy51bmlxKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgQWdncmVnYXRlVHJhbnNhY3Rpb24gPyB0cmFuc2FjdGlvbi5pbm5lclRyYW5zYWN0aW9ucy5tYXAoZnVuY3Rpb24gKF9yZWYyMCkgewogICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9yZWYyMC50eXBlOwogICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTsKICAgICAgICAgICAgICAgIH0pIDogW3RyYW5zYWN0aW9uLnR5cGVdKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnTE9BRF9UUkFOU0FDVElPTlMnKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdtZXRhZGF0YS9MT0FEX01FVEFEQVRBX0xJU1QnLCB7fSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gYWRkIGFjdGlvbnMgdG8gdGhlIGRpc3BhdGNoZXIgYWNjb3JkaW5nIHRvIHRoZSB0cmFuc2FjdGlvbiB0eXBlcwogICAgICAgICAgICAgICAgaWYgKFtUcmFuc2FjdGlvblR5cGUuTkFNRVNQQUNFX1JFR0lTVFJBVElPTiwgVHJhbnNhY3Rpb25UeXBlLk1PU0FJQ19BTElBUywgVHJhbnNhY3Rpb25UeXBlLkFERFJFU1NfQUxJQVNdLnNvbWUoZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uVHlwZXMuc29tZShmdW5jdGlvbiAoYikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBiID09PSBhOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKSB7CiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCduYW1lc3BhY2UvTE9BRF9OQU1FU1BBQ0VTJywge30sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSAvLyBSZWxvYWRpbmcgQmFsYW5jZXMKCgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnYWNjb3VudC9MT0FEX0FDQ09VTlRfSU5GTycsIHt9LCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ21vc2FpYy9MT0FEX01PU0FJQ1MnLCB7fSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICAvLy8gZW5kLXJlZ2lvbiBzY29wZWQgYWN0aW9ucwogICAgQUREX0NPU0lHTkFUVVJFOiBmdW5jdGlvbiBBRERfQ09TSUdOQVRVUkUoX3JlZjIxLCB0cmFuc2FjdGlvbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIxLmNvbW1pdCwKICAgICAgICAgIGdldHRlcnMgPSBfcmVmMjEuZ2V0dGVycywKICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjIxLnJvb3RHZXR0ZXJzOwoKICAgICAgaWYgKCF0cmFuc2FjdGlvbiB8fCAhdHJhbnNhY3Rpb24ucGFyZW50SGFzaCkgewogICAgICAgIHRocm93IEVycm9yKCJNaXNzaW5nIG1hbmRhdG9yeSBmaWVsZCAncGFyZW50SGFzaCcgZm9yIGFjdGlvbiB0cmFuc2FjdGlvbi9BRERfQ09TSUdOQVRVUkUuIik7CiAgICAgIH0KCiAgICAgIHZhciB0cmFuc2FjdGlvbkF0dHJpYnV0ZSA9IHRyYW5zYWN0aW9uR3JvdXBUb1N0YXRlVmFyaWFibGUoVHJhbnNhY3Rpb25Hcm91cFN0YXRlLnBhcnRpYWwpOwogICAgICB2YXIgdHJhbnNhY3Rpb25zID0gZ2V0dGVyc1t0cmFuc2FjdGlvbkF0dHJpYnV0ZV0gfHwgW107IC8vIHJldHVybiBpZiBubyB0cmFuc2FjdGlvbnMKCiAgICAgIGlmICghdHJhbnNhY3Rpb25zLmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGluZGV4ID0gdHJhbnNhY3Rpb25zLmZpbmRJbmRleChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LnRyYW5zYWN0aW9uSW5mby5oYXNoID09PSB0cmFuc2FjdGlvbi5wYXJlbnRIYXNoOwogICAgICB9KTsgLy8gcGFydGlhbCB0eCB1bmtub3duLCBAVE9ETzogaGFuZGxlIHRoaXMgY2FzZSAoZmV0Y2ggcGFydGlhbHMpCgogICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGNvbnZlcnQgQ29zaWduYXR1cmVTaWduZWRUcmFuc2FjdGlvbiB0byBBZ2dyZWdhdGVUcmFuc2FjdGlvbkNvc2lnbmF0dXJlCgoKICAgICAgdmFyIGdlbmVyYXRpb25IYXNoID0gcm9vdEdldHRlcnNbJ25ldHdvcmsvZ2VuZXJhdGlvbkhhc2gnXTsKICAgICAgdmFyIGNvc2lnbmVyID0gUHVibGljQWNjb3VudC5jcmVhdGVGcm9tUHVibGljS2V5KHRyYW5zYWN0aW9uLnNpZ25lclB1YmxpY0tleSwgZ2VuZXJhdGlvbkhhc2gpOwogICAgICB2YXIgY29zaWduYXR1cmUgPSBuZXcgQWdncmVnYXRlVHJhbnNhY3Rpb25Db3NpZ25hdHVyZSh0cmFuc2FjdGlvbi5zaWduYXR1cmUsIGNvc2lnbmVyKTsKICAgICAgdmFyIGN1cnJlbnRTaWduZXJBZGRyZXNzID0gcm9vdEdldHRlcnNbJ2FjY291bnQvY3VycmVudFNpZ25lckFkZHJlc3MnXTsgLy8gdXBkYXRlIHRoZSBwYXJ0aWFsIHRyYW5zYWN0aW9uIGNvc2lnbmF0dXJlcwoKICAgICAgdHJhbnNhY3Rpb25zW2luZGV4XSA9IHRyYW5zYWN0aW9uc1tpbmRleF0uYWRkQ29zaWduYXR1cmVzKFtjb3NpZ25hdHVyZV0pOwogICAgICBjb21taXQoJ3BhcnRpYWxUcmFuc2FjdGlvbnMnLCB0cmFuc2FjdGlvbnMpOwogICAgICBjb21taXQoJ3NldEFsbFRyYW5zYWN0aW9ucycpOwogICAgICBjb21taXQoJ2ZpbHRlclRyYW5zYWN0aW9ucycsIHsKICAgICAgICBmaWx0ZXJPcHRpb246IG51bGwsCiAgICAgICAgY3VycmVudFNpZ25lckFkZHJlc3M6IGN1cnJlbnRTaWduZXJBZGRyZXNzLnBsYWluKCksCiAgICAgICAgc2hvdWxkRmlsdGVyT3B0aW9uQ2hhbmdlOiBmYWxzZQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/hero/lared-wallet/src/store/Transaction.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\n//external dependencies\nimport {\n    Address,\n    AggregateTransaction,\n    CosignatureSignedTransaction,\n    RepositoryFactory,\n    Transaction,\n    TransactionType,\n    PublicAccount,\n    AggregateTransactionCosignature,\n    TransactionGroup,\n    Page,\n    TransactionStatus,\n    Order,\n} from 'symbol-sdk';\nimport { combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as _ from 'lodash';\n\n// internal dependencies\nimport { AwaitLock } from './AwaitLock';\nimport { TransactionFilterService } from '@/services/TransactionFilterService';\n\nconst Lock = AwaitLock.create();\n\nexport enum TransactionGroupState {\n    confirmed = 'confirmed',\n    unconfirmed = 'unconfirmed',\n    partial = 'partial',\n    all = 'all',\n}\n\nexport enum TransactionFilterOptions {\n    confirmed = 'isConfirmedSelected',\n    unconfirmed = 'isUnconfirmedSelected',\n    partial = 'isPartialSelected',\n    sent = 'isSentSelected',\n    received = 'isReceivedSelected',\n}\n\nexport class FilterOption {\n    constructor(public option: TransactionFilterOptions = TransactionFilterOptions.confirmed, public value: boolean = false) {}\n}\n\nexport class TransactionFilterOptionsState {\n    public isConfirmedSelected: boolean = false;\n    public isUnconfirmedSelected: boolean = false;\n    public isPartialSelected: boolean = false;\n    public isSentSelected: boolean = false;\n    public isReceivedSelected: boolean = false;\n\n    /**\n     * Returns false when all from any group or nothing selected.\n     */\n    public get isFilterShouldBeApplied(): boolean {\n        if (this.checkAllUnselected()) {\n            return false;\n        }\n\n        const isAllByConfirmedStatusSelected = this.isConfirmedSelected && this.isUnconfirmedSelected && this.isPartialSelected;\n\n        return !isAllByConfirmedStatusSelected;\n    }\n\n    /**\n     * Sets selected key-value pair.\n     * @param filterOption one of existing filter options and value\n     */\n    public setFilterOption(filterOption: FilterOption): void {\n        this[filterOption.option] = filterOption.value;\n    }\n\n    /**\n     * Checks if all property falsy.\n     */\n    private checkAllUnselected(): boolean {\n        return Object.keys(this).every((key) => !this[key]);\n    }\n}\n\n/**\n * Helper to format transaction group in name of state variable.\n *\n * @internal\n * @param {string} group\n * @return {string} One of 'confirmedTransactions', 'unconfirmedTransactions' or\n *   'partialTransactions'\n */\nconst transactionGroupToStateVariable = (group: TransactionGroupState): string => {\n    return group + 'Transactions';\n};\n\nconst transactionComparator = (t1, t2) => {\n    // - unconfirmed/partial sorted by index\n    return t1.transactionInfo.index - t2.transactionInfo.index;\n};\nconst confirmedTransactionComparator = (t1, t2) => {\n    const info1 = t1.transactionInfo;\n    const info2 = t2.transactionInfo;\n    // - confirmed sorted by height then index\n    const diffHeight = info2.height.compact() - info1.height.compact();\n    const diffIndex = info1.index - info2.index;\n    return diffHeight !== 0 ? diffHeight : diffIndex;\n};\n\nfunction conditionalSort<T>(array: T[] | undefined, comparator: (a: T, b: T) => number): T[] | undefined {\n    if (!array) {\n        return array;\n    }\n    return array.sort(comparator);\n}\n\nexport interface PageInfo {\n    pageNumber: number;\n    isLastPage: boolean;\n}\nexport interface TransactionState {\n    initialized: boolean;\n    isFetchingTransactions: boolean;\n    transactions: Transaction[];\n    filteredTransactions: Transaction[];\n    confirmedTransactions: Transaction[];\n    unconfirmedTransactions: Transaction[];\n    partialTransactions: Transaction[];\n    filterOptions: TransactionFilterOptionsState;\n    currentConfirmedPage: PageInfo;\n}\n\nconst transactionState: TransactionState = {\n    initialized: false,\n    isFetchingTransactions: false,\n    transactions: [],\n    filteredTransactions: [],\n    confirmedTransactions: [],\n    unconfirmedTransactions: [],\n    partialTransactions: [],\n    filterOptions: new TransactionFilterOptionsState(),\n    currentConfirmedPage: { pageNumber: 1, isLastPage: false },\n};\nexport default {\n    namespaced: true,\n    state: transactionState,\n    getters: {\n        getInitialized: (state: TransactionState) => state.initialized,\n        isFetchingTransactions: (state: TransactionState) => state.isFetchingTransactions,\n        transactions: (state: TransactionState) => state.transactions,\n        filteredTransactions: (state: TransactionState) => {\n            return state.filteredTransactions;\n        },\n        filterOptions: (state: TransactionState) => state.filterOptions,\n        currentConfirmedPage: (state: TransactionState) => state.currentConfirmedPage,\n        confirmedTransactions: (state: TransactionState) => state.confirmedTransactions,\n        unconfirmedTransactions: (state: TransactionState) => state.unconfirmedTransactions,\n        partialTransactions: (state: TransactionState) => state.partialTransactions,\n    },\n    mutations: {\n        setInitialized: (state: TransactionState, initialized: boolean) => {\n            state.initialized = initialized;\n        },\n        isFetchingTransactions: (state: TransactionState, isFetchingTransactions: boolean) => {\n            state.isFetchingTransactions = isFetchingTransactions;\n        },\n        confirmedTransactions: (\n            state: TransactionState,\n            { transactions, refresh, pageInfo }: { transactions: Transaction[]; refresh: boolean; pageInfo: PageInfo },\n        ) => {\n            // if it's a refresh request then refresh the list, else concat the new items to the list\n            if (refresh) {\n                state.confirmedTransactions = conditionalSort(transactions, confirmedTransactionComparator);\n            } else {\n                state.confirmedTransactions = conditionalSort(\n                    state.confirmedTransactions.concat(transactions),\n                    confirmedTransactionComparator,\n                );\n            }\n            state.currentConfirmedPage = pageInfo;\n        },\n        unconfirmedTransactions: (\n            state: TransactionState,\n            { transactions }: { transactions: Transaction[]; refresh: boolean; pageInfo: PageInfo },\n        ) => {\n            state.unconfirmedTransactions = conditionalSort(transactions, transactionComparator);\n        },\n        partialTransactions: (\n            state: TransactionState,\n            { transactions }: { transactions: Transaction[]; refresh: boolean; pageInfo: PageInfo },\n        ) => {\n            state.partialTransactions = conditionalSort(transactions, transactionComparator);\n        },\n        setAllTransactions: (state: TransactionState) => {\n            state.transactions = [...state.partialTransactions, ...state.unconfirmedTransactions, ...state.confirmedTransactions];\n        },\n        filterTransactions: (\n            state: TransactionState,\n            {\n                filterOption,\n                currentSignerAddress,\n                shouldFilterOptionChange = true,\n            }: { filterOption?: FilterOption; currentSignerAddress: string; shouldFilterOptionChange: boolean },\n        ) => {\n            if (shouldFilterOptionChange) {\n                if (filterOption) {\n                    state.filterOptions.setFilterOption(filterOption);\n                } else {\n                    state.filterOptions = new TransactionFilterOptionsState();\n                }\n            }\n\n            state.filteredTransactions = TransactionFilterService.filter(state, currentSignerAddress);\n        },\n    },\n    actions: {\n        async initialize({ commit, getters }) {\n            const callback = async () => {\n                // Placeholder for initialization if necessary.\n                commit('setInitialized', true);\n            };\n            // aquire async lock until initialized\n            await Lock.initialize(callback, { getters });\n        },\n\n        async uninitialize({ commit, getters, dispatch }) {\n            const callback = async () => {\n                await dispatch('RESET_TRANSACTIONS');\n                commit('setInitialized', false);\n            };\n            await Lock.uninitialize(callback, { getters });\n        },\n\n        LOAD_TRANSACTIONS(\n            { commit, rootGetters },\n            { pageSize, pageNumber }: { pageSize: number; pageNumber: number } = {\n                pageSize: 20,\n                pageNumber: 1,\n            },\n        ) {\n            const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n            if (!currentSignerAddress) {\n                return;\n            }\n            const repositoryFactory: RepositoryFactory = rootGetters['network/repositoryFactory'];\n            const transactionRepository = repositoryFactory.createTransactionRepository();\n            const subscribeTransactions = (\n                group: TransactionGroupState,\n                transactionCall: Observable<Page<Transaction>>,\n            ): Observable<Transaction[]> => {\n                const attributeName = transactionGroupToStateVariable(group);\n                return transactionCall.pipe(\n                    map((transactionsPage) => {\n                        commit(attributeName, {\n                            transactions: transactionsPage.data || [],\n                            refresh: transactionsPage.pageNumber === 1,\n                            pageInfo: {\n                                pageNumber: transactionsPage.pageNumber,\n                                isLastPage: transactionsPage.isLastPage,\n                            },\n                        });\n                        return transactionsPage.data;\n                    }),\n                );\n            };\n\n            const subscriptions: Observable<Transaction[]>[] = [];\n            commit('isFetchingTransactions', true);\n\n            subscriptions.push(\n                subscribeTransactions(\n                    TransactionGroupState.confirmed,\n                    transactionRepository.search({\n                        group: TransactionGroup.Confirmed,\n                        address: currentSignerAddress,\n                        pageSize,\n                        pageNumber,\n                        order: Order.Desc,\n                    }),\n                ),\n            );\n\n            if (pageNumber === 1) {\n                subscriptions.push(\n                    subscribeTransactions(\n                        TransactionGroupState.unconfirmed,\n                        transactionRepository.search({\n                            group: TransactionGroup.Unconfirmed,\n                            address: currentSignerAddress,\n                            pageSize: 100,\n                            pageNumber: 1, // not paginating\n                            order: Order.Desc,\n                        }),\n                    ),\n                );\n\n                subscriptions.push(\n                    subscribeTransactions(\n                        TransactionGroupState.partial,\n                        transactionRepository.search({\n                            group: TransactionGroup.Partial,\n                            address: currentSignerAddress,\n                            pageSize: 100,\n                            pageNumber: 1, // not paginating\n                            order: Order.Desc,\n                        }),\n                    ),\n                );\n            }\n\n            combineLatest(subscriptions).subscribe({\n                complete: () => {\n                    commit('setAllTransactions');\n                    commit('filterTransactions', {\n                        filterOption: null,\n                        currentSignerAddress: currentSignerAddress.plain(),\n                        shouldFilterOptionChange: false,\n                    });\n                    commit('isFetchingTransactions', false);\n                },\n            });\n        },\n\n        LOAD_TRANSACTION_DETAILS(\n            { rootGetters },\n            { group, transactionHash }: { group: TransactionGroupState; transactionHash: string },\n        ): Promise<Transaction | AggregateTransaction> {\n            if (!group) {\n                throw Error(\"Missing mandatory field 'group' for action transaction/LOAD_TRANSACTION_DETAILS.\");\n            }\n\n            if (!transactionHash) {\n                throw Error(\"Missing mandatory field 'transactionHash' for action transaction/LOAD_TRANSACTION_DETAILS.\");\n            }\n\n            // prepare\n            const repositoryFactory: RepositoryFactory = rootGetters['network/repositoryFactory'];\n            const transactionRepository = repositoryFactory.createTransactionRepository();\n\n            let sdkGroup = TransactionGroup.Confirmed;\n            if (![TransactionGroupState.all, TransactionGroupState.confirmed].includes(group)) {\n                sdkGroup = group === TransactionGroupState.partial ? TransactionGroup.Partial : TransactionGroup.Unconfirmed;\n            }\n\n            // fetch transaction details\n            return transactionRepository.getTransaction(transactionHash, sdkGroup).toPromise();\n        },\n\n        FETCH_TRANSACTION_STATUS(\n            { rootGetters },\n            { transactionHash }: { transactionHash: string },\n        ): Promise<Transaction | TransactionStatus> {\n            if (!transactionHash) {\n                throw Error(\"Missing mandatory field 'transactionHash' for action transaction/FETCH_TRANSACTION_STATUS.\");\n            }\n\n            // prepare\n            const repositoryFactory: RepositoryFactory = rootGetters['network/repositoryFactory'];\n            const transactionStatusRepository = repositoryFactory.createTransactionStatusRepository();\n\n            // fetch transaction status\n            return transactionStatusRepository.getTransactionStatus(transactionHash).toPromise();\n        },\n\n        SIGNER_CHANGED({ dispatch }) {\n            dispatch('LOAD_TRANSACTIONS');\n        },\n\n        RESET_TRANSACTIONS({ commit }) {\n            Object.keys(TransactionGroupState).forEach((group: TransactionGroupState) => {\n                if (group !== TransactionGroupState.all) {\n                    commit(transactionGroupToStateVariable(group), {\n                        transactions: [],\n                        pageInfo: { pageNumber: 1, isLastPage: false },\n                    });\n                }\n            });\n        },\n\n        ADD_TRANSACTION(\n            { commit, getters, rootGetters },\n            { group, transaction }: { group: TransactionGroupState; transaction: Transaction },\n        ) {\n            if (!group) {\n                throw Error(\"Missing mandatory field 'group' for action transaction/ADD_TRANSACTION.\");\n            }\n\n            if (!transaction) {\n                throw Error(\"Missing mandatory field 'transaction' for action transaction/ADD_TRANSACTION.\");\n            }\n            // format transactionAttribute to store variable name\n            const transactionAttribute = transactionGroupToStateVariable(group);\n\n            const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n\n            // register transaction\n            const transactions = getters[transactionAttribute] || [];\n            if (!transactions.find((t) => t.transactionInfo.hash === transaction.transactionInfo.hash)) {\n                // update state\n                commit(transactionAttribute, {\n                    transactions: [transaction, ...transactions],\n                    refresh: true,\n                    pageInfo: getters['currentConfirmedPage'],\n                });\n\n                commit('setAllTransactions');\n                commit('filterTransactions', {\n                    filterOption: null,\n                    currentSignerAddress: currentSignerAddress.plain(),\n                    shouldFilterOptionChange: false,\n                });\n            }\n        },\n\n        REMOVE_TRANSACTION(\n            { commit, getters, rootGetters },\n            { group, transactionHash }: { group: TransactionGroupState; transactionHash: string },\n        ) {\n            if (!group) {\n                throw Error(\"Missing mandatory field 'group' for action transaction/REMOVE_TRANSACTION.\");\n            }\n\n            if (!transactionHash) {\n                throw Error(\"Missing mandatory field 'transactionHash' for action transaction/REMOVE_TRANSACTION.\");\n            }\n            // format transactionAttribute to store variable name\n            const transactionAttribute = transactionGroupToStateVariable(group);\n\n            const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n\n            // register transaction\n            const transactions = getters[transactionAttribute] || [];\n            commit(transactionAttribute, {\n                transactions: transactions.filter((t) => t.transactionInfo.hash !== transactionHash),\n                refresh: true,\n                pageInfo: getters['currentConfirmedPage'],\n            });\n\n            commit('setAllTransactions');\n            commit('filterTransactions', {\n                filterOption: null,\n                currentSignerAddress: currentSignerAddress.plain(),\n                shouldFilterOptionChange: false,\n            });\n        },\n\n        async ON_NEW_TRANSACTION({ dispatch }, transaction: Transaction) {\n            if (!transaction) {\n                return;\n            }\n\n            // extract transaction types from the transaction\n            const transactionTypes: TransactionType[] = _.uniq(\n                transaction instanceof AggregateTransaction ? transaction.innerTransactions.map(({ type }) => type) : [transaction.type],\n            );\n\n            await dispatch('LOAD_TRANSACTIONS');\n\n            // reload metadata list first so that mosaics and namespaces can be updated\n            await dispatch('metadata/LOAD_METADATA_LIST', {}, { root: true });\n\n            // add actions to the dispatcher according to the transaction types\n            if (\n                [TransactionType.NAMESPACE_REGISTRATION, TransactionType.MOSAIC_ALIAS, TransactionType.ADDRESS_ALIAS].some((a) =>\n                    transactionTypes.some((b) => b === a),\n                )\n            ) {\n                dispatch('namespace/LOAD_NAMESPACES', {}, { root: true });\n            }\n\n            // Reloading Balances\n            await dispatch('account/LOAD_ACCOUNT_INFO', {}, { root: true });\n            dispatch('mosaic/LOAD_MOSAICS', {}, { root: true });\n        },\n        /// end-region scoped actions\n\n        ADD_COSIGNATURE({ commit, getters, rootGetters }, transaction: CosignatureSignedTransaction) {\n            if (!transaction || !transaction.parentHash) {\n                throw Error(\"Missing mandatory field 'parentHash' for action transaction/ADD_COSIGNATURE.\");\n            }\n            const transactionAttribute = transactionGroupToStateVariable(TransactionGroupState.partial);\n            const transactions: AggregateTransaction[] = getters[transactionAttribute] || [];\n\n            // return if no transactions\n            if (!transactions.length) {\n                return;\n            }\n\n            const index = transactions.findIndex((t) => t.transactionInfo.hash === transaction.parentHash);\n\n            // partial tx unknown, @TODO: handle this case (fetch partials)\n            if (index === -1) {\n                return;\n            }\n\n            // convert CosignatureSignedTransaction to AggregateTransactionCosignature\n            const generationHash = rootGetters['network/generationHash'];\n            const cosigner = PublicAccount.createFromPublicKey(transaction.signerPublicKey, generationHash);\n            const cosignature = new AggregateTransactionCosignature(transaction.signature, cosigner);\n            const currentSignerAddress: Address = rootGetters['account/currentSignerAddress'];\n\n            // update the partial transaction cosignatures\n            transactions[index] = transactions[index].addCosignatures([cosignature]);\n\n            commit('partialTransactions', transactions);\n            commit('setAllTransactions');\n            commit('filterTransactions', {\n                filterOption: null,\n                currentSignerAddress: currentSignerAddress.plain(),\n                shouldFilterOptionChange: false,\n            });\n        },\n    },\n};\n"],"sourceRoot":""}]}