{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/views/forms/FormNodeEdit/FormNodeEditTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/views/forms/FormNodeEdit/FormNodeEditTs.ts","mtime":1606213958969},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgewogIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7CiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7CgogICAgdHJ5IHsKICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksCiAgICAgICAgcmVzdWx0OwoKICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgewogICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOwoKICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7CiAgfTsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50IH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7IC8vQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1Sb3cgZnJvbSAnQC9jb21wb25lbnRzL0Zvcm1Sb3cvRm9ybVJvdy52dWUnOyAvL0B0cy1pZ25vcmUKCmltcG9ydCB7IFZhbGlkYXRpb25PYnNlcnZlciwgVmFsaWRhdGlvblByb3ZpZGVyLCB2YWxpZGF0ZSB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBFcnJvclRvb2x0aXAgZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yVG9vbHRpcC9FcnJvclRvb2x0aXAudnVlJzsgLy9AdHMtaWdub3JlCgppbXBvcnQgUGVlclNlbGVjdG9yIGZyb20gJ0AvY29tcG9uZW50cy9QZWVyU2VsZWN0b3IvUGVlclNlbGVjdG9yLnZ1ZSc7CmltcG9ydCB7IFZhbGlkYXRpb25SdWxlc2V0IH0gZnJvbSAnQC9jb3JlL3ZhbGlkYXRpb24vVmFsaWRhdGlvblJ1bGVzZXQnOwppbXBvcnQgeyBVUkxIZWxwZXJzIH0gZnJvbSAnQC9jb3JlL3V0aWxzL1VSTEhlbHBlcnMnOwppbXBvcnQgeyBOb3RpZmljYXRpb25UeXBlIH0gZnJvbSAnQC9jb3JlL3V0aWxzL05vdGlmaWNhdGlvblR5cGUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IE5ldHdvcmtUeXBlIH0gZnJvbSAnc3ltYm9sLXNkayc7CmltcG9ydCB7IE5ldHdvcmtTZXJ2aWNlIH0gZnJvbSAnQC9zZXJ2aWNlcy9OZXR3b3JrU2VydmljZSc7Cgp2YXIgRm9ybU5vZGVFZGl0VHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoRm9ybU5vZGVFZGl0VHMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZvcm1Ob2RlRWRpdFRzKTsKCiAgZnVuY3Rpb24gRm9ybU5vZGVFZGl0VHMoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1Ob2RlRWRpdFRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuaXNHZXR0aW5nTm9kZUluZm8gPSBmYWxzZTsKICAgIF90aGlzLmZvcm1JdGVtcyA9IHsKICAgICAgbm9kZVVybDogJycsCiAgICAgIG5ldHdvcmtUeXBlOiAnJywKICAgICAgbmV0d29ya0hhc2g6ICcnCiAgICB9OwogICAgX3RoaXMudmFsaWRhdGlvblJ1bGVzID0gVmFsaWRhdGlvblJ1bGVzZXQ7CiAgICBfdGhpcy5ub2RlRGVsYXkgPSAwOwogICAgX3RoaXMuY3VzdG9tTm9kZURhdGEgPSBbXTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtTm9kZUVkaXRUcywgW3sKICAgIGtleTogIm9uU3VibWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdGhpcy5hZGRQZWVyKCk7CiAgICB9CiAgICAvKioKICAgICAqIEFkZCBhIG5ldyBwZWVyIHRvIHN0b3JhZ2UKICAgICAqIEByZXR1cm4ge3ZvaWR9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWRkUGVlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGVlcigpIHsKICAgICAgLy8gdmFsaWRhdGUgYW5kIHBhcnNlIGlucHV0CiAgICAgIHZhciBub2RlVXJsID0gVVJMSGVscGVycy5nZXROb2RlVXJsKHRoaXMuZm9ybUl0ZW1zLm5vZGVVcmwpOyAvLyByZXR1cm4gaWYgbm9kZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UKCiAgICAgIGlmICh0aGlzLmtub3dOb2Rlcy5maW5kKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgcmV0dXJuIG5vZGUudXJsID09PSBub2RlVXJsOwogICAgICB9KSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX0VSUk9SJywgTm90aWZpY2F0aW9uVHlwZS5OT0RFX0VYSVNUU19FUlJPUik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIHJlYWQgbmV0d29yayB0eXBlIGZyb20gbm9kZSBwcmUtc2F2aW5nCgoKICAgICAgdHJ5IHsKICAgICAgICAvLyBoaWRlIGxvYWRpbmcgb3ZlcmxheQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCduZXR3b3JrL0FERF9LTk9XTl9QRUVSJywgbm9kZVVybCk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfU1VDQ0VTUycsIE5vdGlmaWNhdGlvblR5cGUuT1BFUkFUSU9OX1NVQ0NFU1MpOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkaWFnbm9zdGljL0FERF9ERUJVRycsICdQZWVyU2VsZWN0b3IgYWRkZWQgcGVlcjogJyArIG5vZGVVcmwpOyAvLyByZXNldCB0aGUgZm9ybSBpbnB1dAoKICAgICAgICB0aGlzLmZvcm1JdGVtcy5ub2RlVXJsID0gJyc7CiAgICAgICAgdGhpcy4kcmVmcy5vYnNlcnZlci5yZXNldCgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gaGlkZSBsb2FkaW5nIG92ZXJsYXkKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZGlhZ25vc3RpYy9BRERfRVJST1InLCAnUGVlclNlbGVjdG9yIHVucmVhY2hhYmxlIGhvc3Qgd2l0aCBVUkw6ICcgKyBub2RlVXJsKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9FUlJPUicsIHRoaXMuJHQoTm90aWZpY2F0aW9uVHlwZS5FUlJPUl9QRUVSX1VOUkVBQ0hBQkxFKSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRJbmZvRnJvbVVybCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5mb0Zyb21VcmwoKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbmV0d29ya1NlcnZpY2UsIF9yZWYsIG5ldHdvcmtNb2RlbCwgaXNDYW5kaWRhdGVVcmxBdmFpbGFibGU7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLiRyZWZzLm9ic2VydmVyLmZpZWxkcyAmJiB0aGlzLiRyZWZzLm9ic2VydmVyLmZpZWxkcy5ub2RlVXJsLmludmFsaWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1JdGVtcy5uZXR3b3JrSGFzaCA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5mb3JtSXRlbXMubmV0d29ya1R5cGUgPSAnJzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBuZXR3b3JrU2VydmljZSA9IG5ldyBOZXR3b3JrU2VydmljZSgpOwogICAgICAgICAgICAgICAgdGhpcy5pc0dldHRpbmdOb2RlSW5mbyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldHdvcmtTZXJ2aWNlLmdldE5ldHdvcmtNb2RlbCh0aGlzLmZvcm1JdGVtcy5ub2RlVXJsKS50b1Byb21pc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3JlZiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBuZXR3b3JrTW9kZWwgPSBfcmVmLm5ldHdvcmtNb2RlbDsKICAgICAgICAgICAgICAgIGlzQ2FuZGlkYXRlVXJsQXZhaWxhYmxlID0gX3JlZi5pc0NhbmRpZGF0ZVVybEF2YWlsYWJsZTsKCiAgICAgICAgICAgICAgICBpZiAoaXNDYW5kaWRhdGVVcmxBdmFpbGFibGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbm90aWZpY2F0aW9uL0FERF9XQVJOSU5HJywgdGhpcy4kdChOb3RpZmljYXRpb25UeXBlLklOVkFMSURfTk9ERSkpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGlmICghKE5ldHdvcmtUeXBlW3RoaXMuY3VycmVudFByb2ZpbGUubmV0d29ya1R5cGVdICE9PSBOZXR3b3JrVHlwZVtuZXR3b3JrTW9kZWwubmV0d29ya1R5cGVdKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX1dBUk5JTkcnLCB0aGlzLiR0KE5vdGlmaWNhdGlvblR5cGUuTkVUV09SS19UWVBFX0lOVkFMSUQpKSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1JdGVtcy5uZXR3b3JrVHlwZSA9IE5ldHdvcmtUeXBlW25ldHdvcmtNb2RlbC5uZXR3b3JrVHlwZV07CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1JdGVtcy5uZXR3b3JrSGFzaCA9IG5ldHdvcmtNb2RlbC5nZW5lcmF0aW9uSGFzaDsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxODsKICAgICAgICAgICAgICAgIHRoaXMuaXNHZXR0aW5nTm9kZUluZm8gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMTgpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s2LCwgMTgsIDIxXV0pOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlSW5wdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUlucHV0KHZhbHVlKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGlzVmFsaWRVcmwsIGFzc29jaWF0aW9uVmFsdWVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5mb3JtSXRlbXMubmV0d29ya1R5cGUgJiYgKHRoaXMuZm9ybUl0ZW1zLm5ldHdvcmtUeXBlID0gJycpOwogICAgICAgICAgICAgICAgdGhpcy5mb3JtSXRlbXMubmV0d29ya0hhc2ggJiYgKHRoaXMuZm9ybUl0ZW1zLm5ldHdvcmtIYXNoID0gJycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHZhbHVlLCB0aGlzLnZhbGlkYXRpb25SdWxlcy51cmwpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpc1ZhbGlkVXJsID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRVcmwpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbU5vZGVEYXRhID0gW107CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uVmFsdWVzID0gLy4rXHUwMDNhXGR7Mix9Ly50ZXN0KHZhbHVlKSA/IFt2YWx1ZV0gOiBbdmFsdWUgKyAnOjMwMDAnXTsKICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tTm9kZURhdGEgPSAhdmFsdWUgPyBbXSA6IGFzc29jaWF0aW9uVmFsdWVzOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEZvcm1Ob2RlRWRpdFRzOwp9KFZ1ZSk7CgpGb3JtTm9kZUVkaXRUcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVmFsaWRhdGlvbk9ic2VydmVyOiBWYWxpZGF0aW9uT2JzZXJ2ZXIsCiAgICBWYWxpZGF0aW9uUHJvdmlkZXI6IFZhbGlkYXRpb25Qcm92aWRlciwKICAgIEVycm9yVG9vbHRpcDogRXJyb3JUb29sdGlwLAogICAgRm9ybVJvdzogRm9ybVJvdywKICAgIFBlZXJTZWxlY3RvcjogUGVlclNlbGVjdG9yCiAgfSwKICBjb21wdXRlZDogT2JqZWN0LmFzc2lnbih7fSwgbWFwR2V0dGVycyh7CiAgICBrbm93Tm9kZXM6ICduZXR3b3JrL2tub3dOb2RlcycsCiAgICBjdXJyZW50UHJvZmlsZTogJ3Byb2ZpbGUvY3VycmVudFByb2ZpbGUnCiAgfSkpCn0pXSwgRm9ybU5vZGVFZGl0VHMpOwpleHBvcnQgeyBGb3JtTm9kZUVkaXRUcyB9Ow=="},{"version":3,"sources":["/home/hero/lared-wallet/src/views/forms/FormNodeEdit/FormNodeEditTs.ts"],"names":[],"mappings":"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","sourcesContent":["import { Vue, Component } from 'vue-property-decorator';\n//@ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n//@ts-ignore\nimport { ValidationObserver, ValidationProvider, validate } from 'vee-validate';\n// @ts-ignore\nimport ErrorTooltip from '@/components/ErrorTooltip/ErrorTooltip.vue';\n//@ts-ignore\nimport PeerSelector from '@/components/PeerSelector/PeerSelector.vue';\nimport { ValidationRuleset } from '@/core/validation/ValidationRuleset';\nimport { URLHelpers } from '@/core/utils/URLHelpers';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { mapGetters } from 'vuex';\nimport { NodeModel } from '@/core/database/entities/NodeModel';\nimport { NetworkType } from 'symbol-sdk';\nimport { NetworkService } from '@/services/NetworkService';\nimport { ProfileModel } from '@/core/database/entities/ProfileModel';\n\n@Component({\n    components: {\n        ValidationObserver,\n        ValidationProvider,\n        ErrorTooltip,\n        FormRow,\n        PeerSelector,\n    },\n    computed: {\n        ...mapGetters({\n            knowNodes: 'network/knowNodes',\n            currentProfile: 'profile/currentProfile',\n        }),\n    },\n})\nexport class FormNodeEditTs extends Vue {\n    /**\n     * Current profile\n     */\n    public currentProfile: ProfileModel;\n    public isGettingNodeInfo: boolean = false;\n    public formItems = {\n        nodeUrl: '',\n        networkType: '',\n        networkHash: '',\n    };\n    public $refs!: {\n        observer: InstanceType<typeof ValidationObserver>;\n    };\n    public validationRules = ValidationRuleset;\n    public knowNodes: NodeModel[];\n    public nodeDelay: number = 0;\n\n    public onSubmit() {\n        this.addPeer();\n    }\n    /**\n     * Add a new peer to storage\n     * @return {void}\n     */\n    public addPeer() {\n        // validate and parse input\n        const nodeUrl = URLHelpers.getNodeUrl(this.formItems.nodeUrl);\n\n        // return if node already exists in the database\n        if (this.knowNodes.find((node) => node.url === nodeUrl)) {\n            this.$store.dispatch('notification/ADD_ERROR', NotificationType.NODE_EXISTS_ERROR);\n            return;\n        }\n\n        // read network type from node pre-saving\n        try {\n            // hide loading overlay\n            this.$store.dispatch('network/ADD_KNOWN_PEER', nodeUrl);\n            this.$store.dispatch('notification/ADD_SUCCESS', NotificationType.OPERATION_SUCCESS);\n            this.$store.dispatch('diagnostic/ADD_DEBUG', 'PeerSelector added peer: ' + nodeUrl);\n\n            // reset the form input\n            this.formItems.nodeUrl = '';\n            this.$refs.observer.reset();\n        } catch (e) {\n            // hide loading overlay\n            this.$store.dispatch('diagnostic/ADD_ERROR', 'PeerSelector unreachable host with URL: ' + nodeUrl);\n            this.$store.dispatch('notification/ADD_ERROR', this.$t(NotificationType.ERROR_PEER_UNREACHABLE));\n        }\n    }\n    public async getInfoFromUrl() {\n        if (this.$refs.observer.fields && this.$refs.observer.fields.nodeUrl.invalid) {\n            this.formItems.networkHash = '';\n            this.formItems.networkType = '';\n            return;\n        }\n        const networkService = new NetworkService();\n        this.isGettingNodeInfo = true;\n        try {\n            const { networkModel, isCandidateUrlAvailable } = await networkService.getNetworkModel(this.formItems.nodeUrl).toPromise();\n            if (!isCandidateUrlAvailable) {\n                return this.$store.dispatch('notification/ADD_WARNING', this.$t(NotificationType.INVALID_NODE));\n            }\n            if (NetworkType[this.currentProfile.networkType] !== NetworkType[networkModel.networkType]) {\n                return this.$store.dispatch('notification/ADD_WARNING', this.$t(NotificationType.NETWORK_TYPE_INVALID));\n            }\n            this.formItems.networkType = NetworkType[networkModel.networkType];\n            this.formItems.networkHash = networkModel.generationHash;\n        } finally {\n            this.isGettingNodeInfo = false;\n        }\n    }\n    public customNodeData = [];\n    public async handleInput(value: string) {\n        this.formItems.networkType && (this.formItems.networkType = '');\n        this.formItems.networkHash && (this.formItems.networkHash = '');\n        const isValidUrl = await validate(value, this.validationRules.url);\n        if (!isValidUrl) {\n            this.customNodeData = [];\n            return;\n        }\n        const associationValues: Array<string> = /.+\\u003a\\d{2,}/.test(value) ? [value] : [value + ':3000'];\n        this.customNodeData = !value ? [] : associationValues;\n    }\n}\n"],"sourceRoot":""}]}