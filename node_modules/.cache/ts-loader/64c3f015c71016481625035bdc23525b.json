{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormAggregateTransaction/FormAggregateTransactionTs.ts","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormAggregateTransaction/FormAggregateTransactionTs.ts","mtime":1611927227514},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/.babelrc","mtime":1611927226200},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvbW50L2MvVXNlcnMvanVzdGkvRGVza3RvcC9TVVBFUkhPVy9TeW1ib2xXYWxsZXQvbGFyZWQtd2FsbGV0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvciI7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9CgpmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfQoKZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH0KCmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH0KCmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIHNlbGY7IH0KCmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09ICJmdW5jdGlvbiIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfQoKZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfQoKaW1wb3J0IHsgX19hd2FpdGVyLCBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybVRyYW5zZmVyVHJhbnNhY3Rpb24gZnJvbSAnQC92aWV3cy9mb3Jtcy9Gb3JtVHJhbnNmZXJUcmFuc2FjdGlvbi9Gb3JtVHJhbnNmZXJUcmFuc2FjdGlvbi52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybU5hbWVzcGFjZVJlZ2lzdHJhdGlvblRyYW5zYWN0aW9uIGZyb20gJ0Avdmlld3MvZm9ybXMvRm9ybU5hbWVzcGFjZVJlZ2lzdHJhdGlvblRyYW5zYWN0aW9uL0Zvcm1OYW1lc3BhY2VSZWdpc3RyYXRpb25UcmFuc2FjdGlvbi52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgRm9ybU1vc2FpY0RlZmluaXRpb25UcmFuc2FjdGlvbiBmcm9tICdAL3ZpZXdzL2Zvcm1zL0Zvcm1Nb3NhaWNEZWZpbml0aW9uVHJhbnNhY3Rpb24vRm9ybU1vc2FpY0RlZmluaXRpb25UcmFuc2FjdGlvbi52dWUnOwppbXBvcnQgeyBUcmFuc2ZlclRyYW5zYWN0aW9uLCBQbGFpbk1lc3NhZ2UsIFVJbnQ2NCwgQWRkcmVzcywgTmFtZXNwYWNlSWQsIFB1YmxpY0FjY291bnQsIE1vc2FpY0RlZmluaXRpb25UcmFuc2FjdGlvbiwgTW9zYWljTm9uY2UsIE1vc2FpY0lkLCBNb3NhaWNGbGFncywgTmFtZXNwYWNlUmVnaXN0cmF0aW9uVHJhbnNhY3Rpb24gfSBmcm9tICdzeW1ib2wtc2RrJzsKaW1wb3J0IHsgRm9ybVRyYW5zYWN0aW9uQmFzZSB9IGZyb20gJ0Avdmlld3MvZm9ybXMvRm9ybVRyYW5zYWN0aW9uQmFzZS9Gb3JtVHJhbnNhY3Rpb25CYXNlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1XcmFwcGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb3JtV3JhcHBlci9Gb3JtV3JhcHBlcic7CmltcG9ydCB7IFZhbGlkYXRpb25PYnNlcnZlciB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBNYXhGZWVTZWxlY3RvciBmcm9tICdAL2NvbXBvbmVudHMvTWF4RmVlU2VsZWN0b3IvTWF4RmVlU2VsZWN0b3IudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IEZvcm1Sb3cgZnJvbSAnQC9jb21wb25lbnRzL0Zvcm1Sb3cvRm9ybVJvdy52dWUnOyAvLyBAdHMtaWdub3JlCgppbXBvcnQgTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbiBmcm9tICdAL3ZpZXdzL21vZGFscy9Nb2RhbFRyYW5zYWN0aW9uQ29uZmlybWF0aW9uL01vZGFsVHJhbnNhY3Rpb25Db25maXJtYXRpb24udnVlJzsKaW1wb3J0IHsgQWRkcmVzc1ZhbGlkYXRvciwgQWxpYXNWYWxpZGF0b3IgfSBmcm9tICdAL2NvcmUvdmFsaWRhdGlvbi92YWxpZGF0b3JzJzsKaW1wb3J0IHsgVHJhbnNhY3Rpb25Db21tYW5kTW9kZSB9IGZyb20gJ0Avc2VydmljZXMvVHJhbnNhY3Rpb25Db21tYW5kJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE1vZGFsRm9ybVByb2ZpbGVVbmxvY2sgZnJvbSAnQC92aWV3cy9tb2RhbHMvTW9kYWxGb3JtUHJvZmlsZVVubG9jay9Nb2RhbEZvcm1Qcm9maWxlVW5sb2NrLnZ1ZSc7Cgp2YXIgRm9ybUFnZ3JlZ2F0ZVRyYW5zYWN0aW9uVHMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Gb3JtVHJhbnNhY3Rpb25CYXNlKSB7CiAgX2luaGVyaXRzKEZvcm1BZ2dyZWdhdGVUcmFuc2FjdGlvblRzLCBfRm9ybVRyYW5zYWN0aW9uQmFzZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRm9ybUFnZ3JlZ2F0ZVRyYW5zYWN0aW9uVHMpOwoKICBmdW5jdGlvbiBGb3JtQWdncmVnYXRlVHJhbnNhY3Rpb25UcygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRm9ybUFnZ3JlZ2F0ZVRyYW5zYWN0aW9uVHMpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5mb3JtSXRlbXMgPSB7CiAgICAgIG1heEZlZTogMCwKICAgICAgcmVjaXBpZW50UmF3OiAnJywKICAgICAgc2lnbmVyUHVibGljS2V5OiAnJwogICAgfTsKICAgIC8qKgogICAgICogY3VycmVudGx5IHNlbGVjdGVkIHR4IHRpdGxlCiAgICAgKiBAdmFyIHtzdHJpbmd9CiAgICAgKi8KCiAgICBfdGhpcy50eFRpdGxlID0gJyc7CiAgICAvKioKICAgICAqIFdoZXRoZXIgYWNjb3VudCBpcyBjdXJyZW50bHkgYmVpbmcgdW5sb2NrZWQKICAgICAqIEB2YXIge2Jvb2xlYW59CiAgICAgKi8KCiAgICBfdGhpcy5pc1VubG9ja2luZ0FjY291bnQgPSBmYWxzZTsKICAgIC8qKgogICAgICogIGl0ZW1zIHRvIGJlIGJpbmRlZCB0byB0aGUgc2hvd24gZm9ybQogICAgICogQHZhciB7b2JqZWN0fQogICAgICovCgogICAgX3RoaXMuY3VycmVudFR4SXRlbXMgPSB7fTsKICAgIC8qKgogICAgICogY3VycmVudCBzZWxlY3RlZCBzYXZlZCB0cmFuc2FjdGlvbgogICAgICogQHZhciB7b2JqZWN0fQogICAgICovCgogICAgX3RoaXMuY3VycmVudFNlbGVjdGVkVHJhbnNhY3Rpb24gPSB7fTsKICAgIC8qKgogICAgICogb2JqZWN0IGNvbnRhaW5pbmcgdGl0bGUgYW5kIGNvbXBvbmVudCBmb3IgZWFjaCBuZXdseSBjcmVhdGVkIHR4IGJlZm9yZSBiZWluZyBzYXZlZAogICAgICogQHZhciB7b2JqZWN0fQogICAgICovCgogICAgX3RoaXMudHJhbnNhY3Rpb24gPSB7fTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhGb3JtQWdncmVnYXRlVHJhbnNhY3Rpb25UcywgW3sKICAgIGtleTogIm9uQ2xpY2tBZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tBZGQodHlwZSkgewogICAgICB0aGlzLnRyYW5zYWN0aW9uID0ge307CiAgICAgIHRoaXMuY3VycmVudFR4SXRlbXMgPSB7fTsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25bJ3RpdGxlJ10gPSAiIi5jb25jYXQodGhpcy4kdCgnc2ltcGxlX3RyYW5zYWN0aW9uJykpICsgdGhpcy5hZ2dyZWdhdGVUcmFuc2FjdGlvbkluZGV4OwogICAgICAgICAgdGhpcy50cmFuc2FjdGlvblsnY29tcG9uZW50J10gPSBGb3JtVHJhbnNmZXJUcmFuc2FjdGlvbjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uWyd0aXRsZSddID0gIiIuY29uY2F0KHRoaXMuJHQoJ21vc2FpY190cmFuc2FjdGlvbicpKSArIHRoaXMuYWdncmVnYXRlVHJhbnNhY3Rpb25JbmRleDsKICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25bJ2NvbXBvbmVudCddID0gRm9ybU1vc2FpY0RlZmluaXRpb25UcmFuc2FjdGlvbjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uWyd0aXRsZSddID0gIiIuY29uY2F0KHRoaXMuJHQoJ25hbWVzcGFjZV90cmFuc2FjdGlvbicpKSArIHRoaXMuYWdncmVnYXRlVHJhbnNhY3Rpb25JbmRleDsKICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25bJ2NvbXBvbmVudCddID0gRm9ybU5hbWVzcGFjZVJlZ2lzdHJhdGlvblRyYW5zYWN0aW9uOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkVHJhbnNhY3Rpb24gPSB0aGlzLnRyYW5zYWN0aW9uOwogICAgfSAvLyBvbiBjbGljayBkZWxldGUgdHJhbnNhY3Rpb24KCiAgfSwgewogICAga2V5OiAib25DbGlja0RlbGV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGlja0RlbGV0ZSh0aXRsZSkgewogICAgICAvLyB1bmxvY2sgYWNjb3VudCBiZWZvcmUgYmVpbmcgYWxsb3dlZCB0byBkZWxldGUgdHgKICAgICAgaWYgKHRoaXMuY3VycmVudEFjY291bnQpIHsKICAgICAgICB0aGlzLnR4VGl0bGUgPSB0aXRsZTsKICAgICAgICB0aGlzLmhhc0FjY291bnRVbmxvY2tNb2RhbCA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9IC8vIGZldGNoIGZvcm0gZGV0YWlscyBmb3IgdGhlIHNlbGVjdGVkIHRyYW5zYWN0aW9uCgogIH0sIHsKICAgIGtleTogIm9uU2VsZWN0VHgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VsZWN0VHgodGl0bGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWdncmVnYXRlVHJhbnNhY3Rpb24vR0VUX1RSQU5TQUNUSU9OX0ZST01fQUdHUkVHQVRFX0FSUkFZJywgdGl0bGUpLnRoZW4oZnVuY3Rpb24gKHZhbCkgewogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIF90aGlzMi5jdXJyZW50U2VsZWN0ZWRUcmFuc2FjdGlvbiA9IHZhbDsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMyLmN1cnJlbnRUeEl0ZW1zLCB2YWwuZm9ybUl0ZW1zKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgLyoqCiAgICAgKiBvbiBjbGljayBzYXZlIHRyYW5zYWN0aW9uLCBpdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHN0b3JlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25TYXZlVHJhbnNhY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2F2ZVRyYW5zYWN0aW9uKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZ2dyZWdhdGVUcmFuc2FjdGlvbi9PTl9TQVZFX1RSQU5TQUNUSU9OJywgewogICAgICAgICAgdGl0bGU6IHRoaXMuY3VycmVudFNlbGVjdGVkVHJhbnNhY3Rpb25bJ3RpdGxlJ10sCiAgICAgICAgICBmb3JtSXRlbXM6IHZhbHVlLAogICAgICAgICAgY29tcG9uZW50OiB0aGlzLmN1cnJlbnRTZWxlY3RlZFRyYW5zYWN0aW9uWydjb21wb25lbnQnXQogICAgICAgIH0pOwogICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkVHJhbnNhY3Rpb24gPSB7fTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBjcmVhdGUgdHJhbnNmZXIgdHJhbnNhY3Rpb24KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVUcmFuc2ZlclR4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVUcmFuc2ZlclR4KHR4KSB7CiAgICAgIHZhciBtYXhGZWUgPSBVSW50NjQuZnJvbVVpbnQodGhpcy5mb3JtSXRlbXMubWF4RmVlKTsKICAgICAgdGhpcy5mb3JtSXRlbXMucmVjaXBpZW50UmF3ID0gdHhbJ2Zvcm1JdGVtcyddWydyZWNpcGllbnRSYXcnXTsKICAgICAgdmFyIHNpZ25lciA9IFB1YmxpY0FjY291bnQuY3JlYXRlRnJvbVB1YmxpY0tleSh0eFsnZm9ybUl0ZW1zJ11bJ3NpZ25lclB1YmxpY0tleSddLCB0aGlzLm5ldHdvcmtUeXBlKTsKICAgICAgdmFyIHQ7CgogICAgICBpZiAoc2lnbmVyLmFkZHJlc3MucGxhaW4oKSAhPT0gdGhpcy5jdXJyZW50QWNjb3VudC5hZGRyZXNzKSB7CiAgICAgICAgdCA9IFRyYW5zZmVyVHJhbnNhY3Rpb24uY3JlYXRlKHRoaXMuY3JlYXRlRGVhZGxpbmUoKSwgdGhpcy5pbnN0YW50aWF0ZWRSZWNpcGllbnQsIC8vIEB0cy1pZ25vcmUKICAgICAgICAhdHhbJ2Zvcm1JdGVtcyddWydtb3NhaWNzJ10ubGVuZ3RoID8gW10gOiB0eFsnZm9ybUl0ZW1zJ11bJ21vc2FpY3MnXSwgdHhbJ2Zvcm1JdGVtcyddWydlbmNyeXB0TWVzc2FnZSddID8gdHhbJ2Zvcm1JdGVtcyddWydlbmN5cHRlZE1lc3NhZ2UnXSA6IFBsYWluTWVzc2FnZS5jcmVhdGUodHhbJ2Zvcm1JdGVtcyddWydtZXNzYWdlUGxhaW4nXSB8fCAnJyksIHRoaXMubmV0d29ya1R5cGUsIG1heEZlZSwgJycsIHNpZ25lcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdCA9IFRyYW5zZmVyVHJhbnNhY3Rpb24uY3JlYXRlKHRoaXMuY3JlYXRlRGVhZGxpbmUoKSwgdGhpcy5pbnN0YW50aWF0ZWRSZWNpcGllbnQsIC8vIEB0cy1pZ25vcmUKICAgICAgICAhdHhbJ2Zvcm1JdGVtcyddWydtb3NhaWNzJ10ubGVuZ3RoID8gW10gOiB0eFsnZm9ybUl0ZW1zJ11bJ21vc2FpY3MnXSwgdHhbJ2Zvcm1JdGVtcyddWydlbmNyeXB0TWVzc2FnZSddID8gdHhbJ2Zvcm1JdGVtcyddWydlbmN5cHRlZE1lc3NhZ2UnXSA6IFBsYWluTWVzc2FnZS5jcmVhdGUodHhbJ2Zvcm1JdGVtcyddWydtZXNzYWdlUGxhaW4nXSB8fCAnJyksIHRoaXMubmV0d29ya1R5cGUsIG1heEZlZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0OwogICAgfQogICAgLyoqCiAgICAgKiBjcmVhdGUgbW9zYWljIGRlZmluaXRpb24gdHJhbnNhY3Rpb24KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVNb3NhaWNUeCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTW9zYWljVHgodHgpIHsKICAgICAgdmFyIG1heEZlZSA9IFVJbnQ2NC5mcm9tVWludCh0aGlzLmZvcm1JdGVtcy5tYXhGZWUpOyAvL2NvbnN0IHB1YmxpY0FjY291bnQgPSBQdWJsaWNBY2NvdW50LmNyZWF0ZUZyb21QdWJsaWNLZXkodGhpcy5zZWxlY3RlZFNpZ25lci5wdWJsaWNLZXksIHRoaXMubmV0d29ya1R5cGUpCgogICAgICB2YXIgcmFuZG9tTm9uY2UgPSBNb3NhaWNOb25jZS5jcmVhdGVSYW5kb20oKTsgLy8gLSByZWFkIGZvcm0gZm9yIGRlZmluaXRpb24KCiAgICAgIHZhciBtb3NhaWNJZCA9IE1vc2FpY0lkLmNyZWF0ZUZyb21Ob25jZShyYW5kb21Ob25jZSwgdGhpcy5zZWxlY3RlZFNpZ25lci5hZGRyZXNzKTsgLy8gdGhlIGR1cmF0aW9uIG11c3QgYmUgMCB3aGVuIHRoZSBwZXJtYW5lbnQgdmFsdWUgb2YgdHJ1ZQoKICAgICAgaWYgKHR4Wydmb3JtSXRlbXMnXVsncGVybWFuZW50J10gPT0gdHJ1ZSkgewogICAgICAgIHR4Wydmb3JtSXRlbXMnXVsnZHVyYXRpb24nXSA9PSAwOwogICAgICB9CgogICAgICByZXR1cm4gTW9zYWljRGVmaW5pdGlvblRyYW5zYWN0aW9uLmNyZWF0ZSh0aGlzLmNyZWF0ZURlYWRsaW5lKCksIHJhbmRvbU5vbmNlLCBtb3NhaWNJZCwgTW9zYWljRmxhZ3MuY3JlYXRlKHR4Wydmb3JtSXRlbXMnXVsnc3VwcGx5TXV0YWJsZSddLCB0eFsnZm9ybUl0ZW1zJ11bJ3RyYW5zZmVyYWJsZSddLCB0aGlzWydmb3JtSXRlbXMnXVsncmVzdHJpY3RhYmxlJ10pLCB0eFsnZm9ybUl0ZW1zJ11bJ2RpdmlzaWJpbGl0eSddLCBVSW50NjQuZnJvbVVpbnQodHhbJ2Zvcm1JdGVtcyddWydkdXJhdGlvbiddKSwgdGhpcy5uZXR3b3JrVHlwZSwgbWF4RmVlKTsKICAgIH0KICAgIC8qKgogICAgICogY3JlYXRlIHJvb3QgbmFtZXNwYWNlIHRyYW5zYWN0aW9uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiQ3JlYXRlUm9vdE5hbWVTcGFjZVR4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBDcmVhdGVSb290TmFtZVNwYWNlVHgodHgpIHsKICAgICAgdmFyIG1heEZlZSA9IFVJbnQ2NC5mcm9tVWludCh0aGlzLmZvcm1JdGVtcy5tYXhGZWUpOwogICAgICByZXR1cm4gTmFtZXNwYWNlUmVnaXN0cmF0aW9uVHJhbnNhY3Rpb24uY3JlYXRlUm9vdE5hbWVzcGFjZSh0aGlzLmNyZWF0ZURlYWRsaW5lKCksIHR4Wydmb3JtSXRlbXMnXVsnbmV3TmFtZXNwYWNlTmFtZSddLCBVSW50NjQuZnJvbVVpbnQodHhbJ2Zvcm1JdGVtcyddWydkdXJhdGlvbiddKSwgdGhpcy5uZXR3b3JrVHlwZSwgbWF4RmVlKTsKICAgIH0gLy8gLyoqCiAgICAvLyAgKiBSZWNpcGllbnQgdXNlZCBpbiB0aGUgdHJhbnNhY3Rpb24KICAgIC8vICAqIEByZWFkb25seQogICAgLy8gICogQHByb3RlY3RlZAogICAgLy8gICogQHR5cGUge0FkZHJlc3N9CiAgICAvLyAgKi8KCiAgfSwgewogICAga2V5OiAicmVzZXRGb3JtIiwKCiAgICAvKioKICAgICAqIFJlc2V0IHRoZSBmb3JtIHdpdGggcHJvcGVydGllcwogICAgICogQHJldHVybiB7dm9pZH0KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgLy8gLSBtYXhGZWUgbXVzdCBiZSBhYnNvbHV0ZQogICAgICB0aGlzLmZvcm1JdGVtcy5tYXhGZWUgPSB0aGlzLmRlZmF1bHRGZWU7CiAgICAgIHRoaXMuZm9ybUl0ZW1zLnNpZ25lclB1YmxpY0tleSA9ICcnOwogICAgfQogICAgLyoqCiAgICAgKiBTZXR0ZXIgZm9yIFRSQU5TRkVSIHRyYW5zYWN0aW9ucyB0aGF0IHdpbGwgYmUgc3RhZ2VkCiAgICAgKiBAc2VlIHtGb3JtVHJhbnNhY3Rpb25CYXNlfQogICAgICogQHRocm93cyB7RXJyb3J9IElmIG5vdCBvdmVybG9hZGVkIGluIGRlcml2YXRlIGNvbXBvbmVudAogICAgICovCgogIH0sIHsKICAgIGtleTogInNldFRyYW5zYWN0aW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhbnNhY3Rpb25zKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgdHJhbnNhY3Rpb24gY2FuIG5vdCBiZSBzdGFnZWQnKTsKICAgIH0KICAgIC8qKgogICAgICogY2xlYXIgYWdncmVnYXRlIHRyYW5zYWN0aW9ucyBsaXN0IGFmdGVyIGluaXRpYXRpbmcgdGhlIHRyYW5zYWN0aW9uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25Db25maXJtYXRpb25TdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNvbmZpcm1hdGlvblN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhZ2dyZWdhdGVUcmFuc2FjdGlvbi9DTEVBUl9BR0dSRUdBVEVfVFJBTlNBQ1RJT05TX0xJU1QnKTsKICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRUcmFuc2FjdGlvbkNvbW1hbmRNb2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbkNvbW1hbmRNb2RlKHRyYW5zYWN0aW9ucykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlzTXVsdGlzaWdNb2RlKCkgfHwgdGhpcy5zaW1wbGVBZ2dyZWdhdGVUcmFuc2FjdGlvbi5zb21lKGZ1bmN0aW9uICh0eCkgewogICAgICAgIHJldHVybiB0eFsnZm9ybUl0ZW1zJ11bJ3NpZ25lckFkZHJlc3MnXSAhPT0gX3RoaXMzLmN1cnJlbnRBY2NvdW50LmFkZHJlc3M7CiAgICAgIH0pKSB7CiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uQ29tbWFuZE1vZGUuTVVMVElTSUdOOwogICAgICB9CgogICAgICBpZiAodHJhbnNhY3Rpb25zLmxlbmd0aCA+IDEpIHsKICAgICAgICByZXR1cm4gVHJhbnNhY3Rpb25Db21tYW5kTW9kZS5BR0dSRUdBVEU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uQ29tbWFuZE1vZGUuU0lNUExFOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldHRlciBmb3IgQWdncmVnYXRlIHRyYW5zYWN0aW9ucyB0aGF0IHdpbGwgYmUgc3RhZ2VkCiAgICAgKiBAc2VlIHtGb3JtVHJhbnNhY3Rpb25CYXNlfQogICAgICogQHJldHVybiB7VHJhbnNhY3Rpb25bXX0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRUcmFuc2FjdGlvbnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9ucygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgYWdncmVnYXRlVHJhbnNhY3Rpb25zID0gW107CgogICAgICBpZiAodGhpcy5zaW1wbGVBZ2dyZWdhdGVUcmFuc2FjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zaW1wbGVBZ2dyZWdhdGVUcmFuc2FjdGlvbi5tYXAoZnVuY3Rpb24gKHR4KSB7CiAgICAgICAgICB2YXIgdHJhbnNhY3Rpb247IC8vIEB0cy1pZ25vcmUKCiAgICAgICAgICBpZiAodHhbJ3RpdGxlJ10uaW5kZXhPZigiIi5jb25jYXQoX3RoaXM0LiR0KCdzaW1wbGVfdHJhbnNhY3Rpb24nKSkpICE9PSAtMSkgewogICAgICAgICAgICB0cmFuc2FjdGlvbiA9IF90aGlzNC5jcmVhdGVUcmFuc2ZlclR4KHR4KTsgLy8gQHRzLWlnbm9yZQogICAgICAgICAgfSBlbHNlIGlmICh0eFsndGl0bGUnXS5pbmRleE9mKCIiLmNvbmNhdChfdGhpczQuJHQoJ21vc2FpY190cmFuc2FjdGlvbicpKSkgIT09IC0xKSB7CiAgICAgICAgICAgIHRyYW5zYWN0aW9uID0gX3RoaXM0LmNyZWF0ZU1vc2FpY1R4KHR4KTsgLy8gQHRzLWlnbm9yZQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBfdGhpczQuQ3JlYXRlUm9vdE5hbWVTcGFjZVR4KHR4KTsKICAgICAgICAgIH0KCiAgICAgICAgICBhZ2dyZWdhdGVUcmFuc2FjdGlvbnMucHVzaCh0cmFuc2FjdGlvbik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhZ2dyZWdhdGVUcmFuc2FjdGlvbnM7CiAgICB9CiAgfSwgewogICAga2V5OiAib25BY2NvdW50VW5sb2NrZWQiLAoKICAgIC8qKgogICAgICogV2hlbiBhY2NvdW50IGlzIHVubG9ja2VkLCB0aGUgc3ViIGFjY291bnQgY2FuIGJlIGNyZWF0ZWQKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQWNjb3VudFVubG9ja2VkKCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FnZ3JlZ2F0ZVRyYW5zYWN0aW9uL09OX0RFTEVURV9UUkFOU0FDVElPTicsIHRoaXMudHhUaXRsZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkVHJhbnNhY3Rpb24gPSB7fTsKICAgICAgICAgICAgICAgIHRoaXMudHhUaXRsZSA9ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdub3RpZmljYXRpb24vQUREX0VSUk9SJywgJ0FuIGVycm9yIGhhcHBlbmVkLCBwbGVhc2UgdHJ5IGFnYWluLicpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDddXSk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN1Ym1pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHRoaXMuY29tbWFuZCA9IHRoaXMuY3JlYXRlVHJhbnNhY3Rpb25Db21tYW5kKCk7CiAgICAgIHRoaXMub25TaG93Q29uZmlybWF0aW9uTW9kYWwoKTsKICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnN0YW50aWF0ZWRSZWNpcGllbnQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciByZWNpcGllbnRSYXcgPSB0aGlzLmZvcm1JdGVtcy5yZWNpcGllbnRSYXc7CgogICAgICBpZiAoQWRkcmVzc1ZhbGlkYXRvci52YWxpZGF0ZShyZWNpcGllbnRSYXcpKSB7CiAgICAgICAgcmV0dXJuIEFkZHJlc3MuY3JlYXRlRnJvbVJhd0FkZHJlc3MocmVjaXBpZW50UmF3KTsKICAgICAgfSBlbHNlIGlmIChBbGlhc1ZhbGlkYXRvci52YWxpZGF0ZShyZWNpcGllbnRSYXcpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBOYW1lc3BhY2VJZChyZWNpcGllbnRSYXcpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzQWNjb3VudFVubG9ja01vZGFsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5pc1VubG9ja2luZ0FjY291bnQ7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZikgewogICAgICB0aGlzLmlzVW5sb2NraW5nQWNjb3VudCA9IGY7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRm9ybUFnZ3JlZ2F0ZVRyYW5zYWN0aW9uVHM7Cn0oRm9ybVRyYW5zYWN0aW9uQmFzZSk7CgpGb3JtQWdncmVnYXRlVHJhbnNhY3Rpb25UcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgRm9ybVdyYXBwZXI6IEZvcm1XcmFwcGVyLAogICAgVmFsaWRhdGlvbk9ic2VydmVyOiBWYWxpZGF0aW9uT2JzZXJ2ZXIsCiAgICBGb3JtVHJhbnNmZXJUcmFuc2FjdGlvbjogRm9ybVRyYW5zZmVyVHJhbnNhY3Rpb24sCiAgICBGb3JtTmFtZXNwYWNlUmVnaXN0cmF0aW9uVHJhbnNhY3Rpb246IEZvcm1OYW1lc3BhY2VSZWdpc3RyYXRpb25UcmFuc2FjdGlvbiwKICAgIEZvcm1Nb3NhaWNEZWZpbml0aW9uVHJhbnNhY3Rpb246IEZvcm1Nb3NhaWNEZWZpbml0aW9uVHJhbnNhY3Rpb24sCiAgICBGb3JtUm93OiBGb3JtUm93LAogICAgTWF4RmVlU2VsZWN0b3I6IE1heEZlZVNlbGVjdG9yLAogICAgTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbjogTW9kYWxUcmFuc2FjdGlvbkNvbmZpcm1hdGlvbiwKICAgIE1vZGFsRm9ybVByb2ZpbGVVbmxvY2s6IE1vZGFsRm9ybVByb2ZpbGVVbmxvY2sKICB9LAogIGNvbXB1dGVkOiBPYmplY3QuYXNzaWduKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHNpbXBsZUFnZ3JlZ2F0ZVRyYW5zYWN0aW9uOiAnYWdncmVnYXRlVHJhbnNhY3Rpb24vc2ltcGxlQWdncmVnYXRlVHJhbnNhY3Rpb24nLAogICAgYWdncmVnYXRlVHJhbnNhY3Rpb25JbmRleDogJ2FnZ3JlZ2F0ZVRyYW5zYWN0aW9uL2FnZ3JlZ2F0ZVRyYW5zYWN0aW9uSW5kZXgnLAogICAgbmV0d29ya1R5cGU6ICduZXR3b3JrL25ldHdvcmtUeXBlJywKICAgIGN1cnJlbnRBY2NvdW50OiAnYWNjb3VudC9jdXJyZW50QWNjb3VudCcKICB9KSkKfSldLCBGb3JtQWdncmVnYXRlVHJhbnNhY3Rpb25Ucyk7CmV4cG9ydCB7IEZvcm1BZ2dyZWdhdGVUcmFuc2FjdGlvblRzIH07"},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/src/views/forms/FormAggregateTransaction/FormAggregateTransactionTs.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component } from 'vue-property-decorator';\nimport { mapGetters } from 'vuex';\n// @ts-ignore\nimport FormTransferTransaction from '@/views/forms/FormTransferTransaction/FormTransferTransaction.vue';\n// @ts-ignore\nimport FormNamespaceRegistrationTransaction from '@/views/forms/FormNamespaceRegistrationTransaction/FormNamespaceRegistrationTransaction.vue';\n// @ts-ignore\nimport FormMosaicDefinitionTransaction from '@/views/forms/FormMosaicDefinitionTransaction/FormMosaicDefinitionTransaction.vue';\nimport {\n    TransferTransaction,\n    PlainMessage,\n    UInt64,\n    Address,\n    NetworkType,\n    Transaction,\n    NamespaceId,\n    PublicAccount,\n    MosaicDefinitionTransaction,\n    MosaicNonce,\n    MosaicId,\n    MosaicFlags,\n    NamespaceRegistrationTransaction,\n} from 'symbol-sdk';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\nimport { FormTransactionBase } from '@/views/forms/FormTransactionBase/FormTransactionBase';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper';\nimport { ValidationObserver } from 'vee-validate';\n// @ts-ignore\nimport MaxFeeSelector from '@/components/MaxFeeSelector/MaxFeeSelector.vue';\n// @ts-ignore\nimport FormRow from '@/components/FormRow/FormRow.vue';\n// @ts-ignore\nimport ModalTransactionConfirmation from '@/views/modals/ModalTransactionConfirmation/ModalTransactionConfirmation.vue';\nimport { AddressValidator, AliasValidator } from '@/core/validation/validators';\nimport { TransactionCommandMode } from '@/services/TransactionCommand';\n// @ts-ignore\nimport ModalFormProfileUnlock from '@/views/modals/ModalFormProfileUnlock/ModalFormProfileUnlock.vue';\n\n@Component({\n    components: {\n        FormWrapper,\n        ValidationObserver,\n        FormTransferTransaction,\n        FormNamespaceRegistrationTransaction,\n        FormMosaicDefinitionTransaction,\n        FormRow,\n        MaxFeeSelector,\n        ModalTransactionConfirmation,\n        ModalFormProfileUnlock,\n    },\n    computed: {\n        ...mapGetters({\n            simpleAggregateTransaction: 'aggregateTransaction/simpleAggregateTransaction',\n            aggregateTransactionIndex: 'aggregateTransaction/aggregateTransactionIndex',\n            networkType: 'network/networkType',\n            currentAccount: 'account/currentAccount',\n        }),\n    },\n})\nexport class FormAggregateTransactionTs extends FormTransactionBase {\n    private simpleAggregateTransaction: [];\n    private aggregateTransactionIndex: number;\n\n    public formItems = {\n        maxFee: 0,\n        recipientRaw: '',\n        signerPublicKey: '',\n    };\n    /**\n     * currently selected tx title\n     * @var {string}\n     */\n    private txTitle = '';\n    /**\n     * Whether account is currently being unlocked\n     * @var {boolean}\n     */\n    public isUnlockingAccount: boolean = false;\n\n    /**\n     *  items to be binded to the shown form\n     * @var {object}\n     */\n    private currentTxItems = {};\n\n    /**\n     * current selected saved transaction\n     * @var {object}\n     */\n    public currentSelectedTransaction = {};\n\n    /**\n     * object containing title and component for each newly created tx before being saved\n     * @var {object}\n     */\n    public transaction = {};\n\n    public networkType: NetworkType;\n\n    public currentAccount: AccountModel;\n\n    public onClickAdd(type: number): void {\n        this.transaction = {};\n        this.currentTxItems = {};\n\n        switch (type) {\n            case 1:\n                this.transaction['title'] = `${this.$t('simple_transaction')}` + this.aggregateTransactionIndex;\n                this.transaction['component'] = FormTransferTransaction;\n                break;\n            case 2:\n                this.transaction['title'] = `${this.$t('mosaic_transaction')}` + this.aggregateTransactionIndex;\n                this.transaction['component'] = FormMosaicDefinitionTransaction;\n                break;\n            case 3:\n                this.transaction['title'] = `${this.$t('namespace_transaction')}` + this.aggregateTransactionIndex;\n                this.transaction['component'] = FormNamespaceRegistrationTransaction;\n                break;\n        }\n        this.currentSelectedTransaction = this.transaction;\n    }\n\n    // on click delete transaction\n    public onClickDelete(title: string): void {\n        // unlock account before being allowed to delete tx\n        if (this.currentAccount) {\n            this.txTitle = title;\n            this.hasAccountUnlockModal = true;\n            return;\n        }\n    }\n\n    // fetch form details for the selected transaction\n    public onSelectTx(title: string) {\n        this.$store.dispatch('aggregateTransaction/GET_TRANSACTION_FROM_AGGREGATE_ARRAY', title).then((val) => {\n            if (val) {\n                this.currentSelectedTransaction = val;\n                Object.assign(this.currentTxItems, val.formItems);\n            }\n        });\n    }\n\n    /**\n     * on click save transaction, it should be added to the store\n     */\n    onSaveTransaction(value) {\n        if (value) {\n            this.$store.dispatch('aggregateTransaction/ON_SAVE_TRANSACTION', {\n                title: this.currentSelectedTransaction['title'],\n                formItems: value,\n                component: this.currentSelectedTransaction['component'],\n            });\n            this.currentSelectedTransaction = {};\n        }\n    }\n    /**\n     * create transfer transaction\n     */\n    private createTransferTx(tx: {}): TransferTransaction {\n        const maxFee = UInt64.fromUint(this.formItems.maxFee);\n        this.formItems.recipientRaw = tx['formItems']['recipientRaw'];\n        const signer = PublicAccount.createFromPublicKey(tx['formItems']['signerPublicKey'], this.networkType);\n        let t: TransferTransaction;\n        if (signer.address.plain() !== this.currentAccount.address) {\n            t = TransferTransaction.create(\n                this.createDeadline(),\n                this.instantiatedRecipient,\n                // @ts-ignore\n                !tx['formItems']['mosaics'].length ? [] : tx['formItems']['mosaics'],\n                tx['formItems']['encryptMessage']\n                    ? tx['formItems']['encyptedMessage']\n                    : PlainMessage.create(tx['formItems']['messagePlain'] || ''),\n                this.networkType,\n                maxFee,\n                '',\n                signer,\n            );\n        } else {\n            t = TransferTransaction.create(\n                this.createDeadline(),\n                this.instantiatedRecipient,\n                // @ts-ignore\n                !tx['formItems']['mosaics'].length ? [] : tx['formItems']['mosaics'],\n                tx['formItems']['encryptMessage']\n                    ? tx['formItems']['encyptedMessage']\n                    : PlainMessage.create(tx['formItems']['messagePlain'] || ''),\n                this.networkType,\n                maxFee,\n            );\n        }\n        return t;\n    }\n    /**\n     * create mosaic definition transaction\n     */\n    private createMosaicTx(tx: {}): MosaicDefinitionTransaction {\n        const maxFee = UInt64.fromUint(this.formItems.maxFee);\n        //const publicAccount = PublicAccount.createFromPublicKey(this.selectedSigner.publicKey, this.networkType)\n        const randomNonce = MosaicNonce.createRandom();\n        // - read form for definition\n        const mosaicId = MosaicId.createFromNonce(randomNonce, this.selectedSigner.address);\n        // the duration must be 0 when the permanent value of true\n        if (tx['formItems']['permanent'] == true) {\n            tx['formItems']['duration'] == 0;\n        }\n        return MosaicDefinitionTransaction.create(\n            this.createDeadline(),\n            randomNonce,\n            mosaicId,\n            MosaicFlags.create(tx['formItems']['supplyMutable'], tx['formItems']['transferable'], this['formItems']['restrictable']),\n            tx['formItems']['divisibility'],\n            UInt64.fromUint(tx['formItems']['duration']),\n            this.networkType,\n            maxFee,\n        );\n    }\n    /**\n     * create root namespace transaction\n     */\n    private CreateRootNameSpaceTx(tx: {}): NamespaceRegistrationTransaction {\n        const maxFee = UInt64.fromUint(this.formItems.maxFee);\n\n        return NamespaceRegistrationTransaction.createRootNamespace(\n            this.createDeadline(),\n            tx['formItems']['newNamespaceName'],\n            UInt64.fromUint(tx['formItems']['duration']),\n            this.networkType,\n            maxFee,\n        );\n    }\n\n    // /**\n    //  * Recipient used in the transaction\n    //  * @readonly\n    //  * @protected\n    //  * @type {Address}\n    //  */\n    protected get instantiatedRecipient(): Address | NamespaceId {\n        const { recipientRaw } = this.formItems;\n        if (AddressValidator.validate(recipientRaw)) {\n            return Address.createFromRawAddress(recipientRaw);\n        } else if (AliasValidator.validate(recipientRaw)) {\n            return new NamespaceId(recipientRaw);\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Reset the form with properties\n     * @return {void}\n     */\n    protected resetForm() {\n        // - maxFee must be absolute\n        this.formItems.maxFee = this.defaultFee;\n        this.formItems.signerPublicKey = '';\n    }\n\n    /**\n     * Setter for TRANSFER transactions that will be staged\n     * @see {FormTransactionBase}\n     * @throws {Error} If not overloaded in derivate component\n     */\n    protected setTransactions() {\n        throw new Error('This transaction can not be staged');\n    }\n\n    /**\n     * clear aggregate transactions list after initiating the transaction\n     */\n    public onConfirmationSuccess() {\n        this.$store.dispatch('aggregateTransaction/CLEAR_AGGREGATE_TRANSACTIONS_LIST');\n        this.resetForm();\n    }\n\n    protected getTransactionCommandMode(transactions: Transaction[]): TransactionCommandMode {\n        if (\n            this.isMultisigMode() ||\n            this.simpleAggregateTransaction.some((tx) => tx['formItems']['signerAddress'] !== this.currentAccount.address)\n        ) {\n            return TransactionCommandMode.MULTISIGN;\n        }\n        if (transactions.length > 1) {\n            return TransactionCommandMode.AGGREGATE;\n        } else {\n            return TransactionCommandMode.SIMPLE;\n        }\n    }\n\n    /**\n     * Getter for Aggregate transactions that will be staged\n     * @see {FormTransactionBase}\n     * @return {Transaction[]}\n     */\n    protected getTransactions(): Transaction[] {\n        const aggregateTransactions = [];\n        if (this.simpleAggregateTransaction.length > 0) {\n            this.simpleAggregateTransaction.map((tx) => {\n                let transaction: Transaction;\n                // @ts-ignore\n                if (tx['title'].indexOf(`${this.$t('simple_transaction')}`) !== -1) {\n                    transaction = this.createTransferTx(tx);\n                    // @ts-ignore\n                } else if (tx['title'].indexOf(`${this.$t('mosaic_transaction')}`) !== -1) {\n                    transaction = this.createMosaicTx(tx);\n                    // @ts-ignore\n                } else {\n                    transaction = this.CreateRootNameSpaceTx(tx);\n                }\n                aggregateTransactions.push(transaction);\n            });\n        }\n        return aggregateTransactions;\n    }\n\n    public get hasAccountUnlockModal(): boolean {\n        return this.isUnlockingAccount;\n    }\n\n    public set hasAccountUnlockModal(f: boolean) {\n        this.isUnlockingAccount = f;\n    }\n    /**\n     * When account is unlocked, the sub account can be created\n     */\n    public async onAccountUnlocked() {\n        try {\n            await this.$store.dispatch('aggregateTransaction/ON_DELETE_TRANSACTION', this.txTitle);\n            this.currentSelectedTransaction = {};\n            this.txTitle = '';\n        } catch (e) {\n            this.$store.dispatch('notification/ADD_ERROR', 'An error happened, please try again.');\n            console.error(e);\n        }\n    }\n\n    onSubmit() {\n        this.command = this.createTransactionCommand();\n        this.onShowConfirmationModal();\n        return this.command;\n    }\n}\n"],"sourceRoot":""}]}