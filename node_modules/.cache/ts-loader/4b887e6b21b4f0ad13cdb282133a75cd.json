{"remainingRequest":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js!/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js!/home/hero/lared-wallet/node_modules/ts-loader/index.js??ref--13-3!/home/hero/lared-wallet/src/components/MessageDisplay/MessageDisplayTs.ts","dependencies":[{"path":"/home/hero/lared-wallet/src/components/MessageDisplay/MessageDisplayTs.ts","mtime":1606213958957},{"path":"/home/hero/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hero/lared-wallet/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvaGVyby9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKCmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH0KCmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9CgpmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgewogIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsKICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gInVuZGVmaW5lZCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7CiAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOwogICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gImZ1bmN0aW9uIikgcmV0dXJuIHRydWU7CgogICAgdHJ5IHsKICAgICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksCiAgICAgICAgcmVzdWx0OwoKICAgIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkgewogICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOwoKICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7CiAgfTsKfQoKZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9CgpmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBzZWxmOyB9CgpmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9CgppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7Ci8qCiAqIENvcHlyaWdodCAyMDIwIE5FTSAoaHR0cHM6Ly9uZW0uaW8pCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKgogKi8KCmltcG9ydCB7IEVuY3J5cHRlZE1lc3NhZ2UsIE1lc3NhZ2VUeXBlIH0gZnJvbSAnc3ltYm9sLXNkayc7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCBGb3JtV3JhcHBlciBmcm9tICdAL2NvbXBvbmVudHMvRm9ybVdyYXBwZXIvRm9ybVdyYXBwZXIudnVlJzsgLy8gQHRzLWlnbm9yZQoKaW1wb3J0IE1vZGFsRm9ybVByb2ZpbGVVbmxvY2sgZnJvbSAnQC92aWV3cy9tb2RhbHMvTW9kYWxGb3JtUHJvZmlsZVVubG9jay9Nb2RhbEZvcm1Qcm9maWxlVW5sb2NrLnZ1ZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgTmFtZXNwYWNlSWQgfSBmcm9tICdzeW1ib2wtc2RrJzsKaW1wb3J0IHsgTm90aWZpY2F0aW9uVHlwZSB9IGZyb20gJ0AvY29yZS91dGlscy9Ob3RpZmljYXRpb25UeXBlJzsKCnZhciBNZXNzYWdlRGlzcGxheVRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKE1lc3NhZ2VEaXNwbGF5VHMsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE1lc3NhZ2VEaXNwbGF5VHMpOwoKICBmdW5jdGlvbiBNZXNzYWdlRGlzcGxheVRzKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXNzYWdlRGlzcGxheVRzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuaXNFbmNyeXB0ZWQgPSBmYWxzZTsKICAgIF90aGlzLm1lc3NhZ2VEaXNwbGF5ID0gJyc7CiAgICBfdGhpcy5zaG93VW5sb2NrQWNjb3VudE1vZGFsID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIEhvb2sgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkCiAgICogQHJldHVybiB7dm9pZH0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhNZXNzYWdlRGlzcGxheVRzLCBbewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgLy8gLSBsb2FkIHRyYW5zYWN0aW9uIGRldGFpbHMKICAgICAgdGhpcy5sb2FkRGV0YWlscygpOwogICAgfQogICAgLyoqCiAgICAgKiBMb2FkIHRyYW5zYWN0aW9uIGRldGFpbHMKICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibG9hZERldGFpbHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWREZXRhaWxzKCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuaXNFbmNyeXB0ZWQgPSB0aGlzLm1lc3NhZ2UudHlwZSA9PT0gTWVzc2FnZVR5cGUuRW5jcnlwdGVkTWVzc2FnZTsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VuY3J5cHRlZCkgewogICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VEaXNwbGF5ID0gdGhpcy51bmFubm91bmNlZCA/ICIiLmNvbmNhdCh0aGlzLm1lc3NhZ2UucGF5bG9hZCwgIiAoIikuY29uY2F0KHRoaXMuJHQoJ2VuY3J5cHRfbWVzc2FnZScpLCAiKSIpIDogJyoqKioqKic7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VEaXNwbGF5ID0gdGhpcy5tZXNzYWdlLnBheWxvYWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CiAgICB9CiAgICAvKioKICAgICAqIEhvb2sgY2FsbGVkIHdoZW4gdGhlIGFjY291bnQgaGFzIGJlZW4gdW5sb2NrZWQKICAgICAqIEBwYXJhbSB7QWNjb3VudH0gYWNjb3VudAogICAgICogQHJldHVybiB7Ym9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvbkFjY291bnRVbmxvY2tlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25BY2NvdW50VW5sb2NrZWQoYWNjb3VudCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuaGFzQWNjb3VudFVubG9ja01vZGFsID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5yZWNpcGllbnQgaW5zdGFuY2VvZiBOYW1lc3BhY2VJZCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCduYW1lc3BhY2UvR0VUX0xJTktFRF9BRERSRVNTJywgdGhpcy5yZWNpcGllbnQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKF90aGlzMi5saW5rZWRBZGRyZXNzKSB7CiAgICAgICAgICAgIF90aGlzMi5kZWNyeXB0TWVzc2FnZShhY2NvdW50LnByaXZhdGVLZXksIF90aGlzMi5saW5rZWRBZGRyZXNzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goJ25vdGlmaWNhdGlvbi9BRERfRVJST1InLCBfdGhpczIuJHQoTm90aWZpY2F0aW9uVHlwZS5SRUNJUElFTlRfTElOS0VEX0FERFJFU1NfSU5WQUxJRCkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGVjcnlwdE1lc3NhZ2UoYWNjb3VudC5wcml2YXRlS2V5LCB0aGlzLnJlY2lwaWVudCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogR2V0dGVyIGZvciBtb2RhbCB2aXNhYmlsaXR5IHByb3BlcnR5CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZGVjcnlwdE1lc3NhZ2UiLAoKICAgIC8qKgogICAgICogR2V0IGRlY3J5cHRlZCBtZXNzYWdlCiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSBDdXJyZW50IGFjY291bnQgcHJpdmF0ZSBrZXkKICAgICAqIEBwYXJhbSByZWNpcGllbnQ6IHJlY2lwaWVudCBhZGRyZXNzLgogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVjcnlwdE1lc3NhZ2UocHJpdmF0ZUtleSwgcmVjaXBpZW50KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLyoqCiAgICAgICAqIElmIHRyYW5zYWN0aW9uIHJlY2lwaWVudCA9PT0gY3VycmVudCBhY2NvdW50IHVzZSBzaWduZXIgdG8gZGVjcnlwdCBtZXNzYWdlCiAgICAgICAqIE90aGVyd2lzZSB1c2UgdGhlIHJlY2lwaWVudCBmb3IgZGVjcnlwdGlvbgogICAgICAgKiAqLwogICAgICBpZiAocmVjaXBpZW50LnBsYWluKCkgPT09IHRoaXMuY3VycmVudEFjY291bnQuYWRkcmVzcykgewogICAgICAgIHRoaXMuZGVjcnlwdGVkTWVzc2FnZSA9IEVuY3J5cHRlZE1lc3NhZ2UuZGVjcnlwdCh0aGlzLm1lc3NhZ2UsIHByaXZhdGVLZXksIHRoaXMuc2lnbmVyKTsKICAgICAgICB0aGlzLmlzRW5jcnlwdGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlRGlzcGxheSA9IHRoaXMuZGVjcnlwdGVkTWVzc2FnZS5wYXlsb2FkOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhY2NvdW50L0dFVF9SRUNJUElFTlQnLCB0aGlzLnJlY2lwaWVudCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuZGVjcnlwdGVkTWVzc2FnZSA9IEVuY3J5cHRlZE1lc3NhZ2UuZGVjcnlwdChfdGhpczMubWVzc2FnZSwgcHJpdmF0ZUtleSwgX3RoaXMzLmN1cnJlbnRSZWNpcGllbnQpOwogICAgICAgICAgX3RoaXMzLmlzRW5jcnlwdGVkID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMubWVzc2FnZURpc3BsYXkgPSBfdGhpczMuZGVjcnlwdGVkTWVzc2FnZS5wYXlsb2FkOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzQWNjb3VudFVubG9ja01vZGFsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zaG93VW5sb2NrQWNjb3VudE1vZGFsOwogICAgfQogICAgLyoqCiAgICAgKiBTZXR0ZXIgZm9yIG1vZGFsIHZpc2FiaWxpdHkgcHJvcGVydHkKICAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZikgewogICAgICB0aGlzLnNob3dVbmxvY2tBY2NvdW50TW9kYWwgPSBmOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1lc3NhZ2VEaXNwbGF5VHM7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogbnVsbAp9KV0sIE1lc3NhZ2VEaXNwbGF5VHMucHJvdG90eXBlLCAibWVzc2FnZSIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6IG51bGwKfSldLCBNZXNzYWdlRGlzcGxheVRzLnByb3RvdHlwZSwgImluY29taW5nIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogbnVsbAp9KV0sIE1lc3NhZ2VEaXNwbGF5VHMucHJvdG90eXBlLCAicmVjaXBpZW50Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoewogICJkZWZhdWx0IjogdHJ1ZQp9KV0sIE1lc3NhZ2VEaXNwbGF5VHMucHJvdG90eXBlLCAidW5hbm5vdW5jZWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgImRlZmF1bHQiOiBudWxsCn0pXSwgTWVzc2FnZURpc3BsYXlUcy5wcm90b3R5cGUsICJzaWduZXIiLCB2b2lkIDApOwoKTWVzc2FnZURpc3BsYXlUcyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgRm9ybVdyYXBwZXI6IEZvcm1XcmFwcGVyLAogICAgTW9kYWxGb3JtUHJvZmlsZVVubG9jazogTW9kYWxGb3JtUHJvZmlsZVVubG9jawogIH0sCiAgY29tcHV0ZWQ6IE9iamVjdC5hc3NpZ24oe30sIG1hcEdldHRlcnMoewogICAgY3VycmVudEFjY291bnQ6ICdhY2NvdW50L2N1cnJlbnRBY2NvdW50JywKICAgIGN1cnJlbnRSZWNpcGllbnQ6ICdhY2NvdW50L2N1cnJlbnRSZWNpcGllbnQnLAogICAgbGlua2VkQWRkcmVzczogJ25hbWVzcGFjZS9saW5rZWRBZGRyZXNzJwogIH0pKQp9KV0sIE1lc3NhZ2VEaXNwbGF5VHMpOwpleHBvcnQgeyBNZXNzYWdlRGlzcGxheVRzIH07"},{"version":3,"sources":["/home/hero/lared-wallet/src/components/MessageDisplay/MessageDisplayTs.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nimport { Address, EncryptedMessage, MessageType, Account, UnresolvedAddress, Message } from 'symbol-sdk';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n// @ts-ignore\nimport FormWrapper from '@/components/FormWrapper/FormWrapper.vue';\n// @ts-ignore\nimport ModalFormProfileUnlock from '@/views/modals/ModalFormProfileUnlock/ModalFormProfileUnlock.vue';\nimport { PublicAccount } from 'symbol-sdk';\nimport { mapGetters } from 'vuex';\nimport { PlainMessage } from 'symbol-sdk';\nimport { NamespaceId } from 'symbol-sdk';\nimport { NotificationType } from '@/core/utils/NotificationType';\nimport { AccountModel } from '@/core/database/entities/AccountModel';\n\n@Component({\n    components: {\n        FormWrapper,\n        ModalFormProfileUnlock,\n    },\n    computed: {\n        ...mapGetters({\n            currentAccount: 'account/currentAccount',\n            currentRecipient: 'account/currentRecipient',\n            linkedAddress: 'namespace/linkedAddress',\n        }),\n    },\n})\nexport class MessageDisplayTs extends Vue {\n    @Prop({\n        default: null,\n    })\n    message: Message;\n    @Prop({\n        default: null,\n    })\n    incoming: boolean;\n    @Prop({\n        default: null,\n    })\n    recipient: UnresolvedAddress;\n    @Prop({\n        default: true,\n    })\n    unannounced: boolean;\n    @Prop({\n        default: null,\n    })\n    signer: PublicAccount;\n\n    private isEncrypted = false;\n    private messageDisplay = '';\n    private showUnlockAccountModal = false;\n    private decryptedMessage: PlainMessage;\n    private currentRecipient: PublicAccount;\n    private linkedAddress: Address | null;\n    private currentAccount: AccountModel;\n\n    /**\n     * Hook called when the component is mounted\n     * @return {void}\n     */\n    public created() {\n        // - load transaction details\n        this.loadDetails();\n    }\n\n    /**\n     * Load transaction details\n     * @return {Promise<void>}\n     */\n    protected async loadDetails(): Promise<void> {\n        this.isEncrypted = this.message.type === MessageType.EncryptedMessage;\n        if (this.isEncrypted) {\n            this.messageDisplay = this.unannounced ? `${this.message.payload} (${this.$t('encrypt_message')})` : '******';\n        } else {\n            this.messageDisplay = this.message.payload;\n        }\n    }\n\n    /**\n     * Hook called when the account has been unlocked\n     * @param {Account} account\n     * @return {boolean}\n     */\n    protected onAccountUnlocked(account: Account) {\n        this.hasAccountUnlockModal = false;\n        if (this.recipient instanceof NamespaceId) {\n            this.$store.dispatch('namespace/GET_LINKED_ADDRESS', this.recipient).then(() => {\n                if (this.linkedAddress) {\n                    this.decryptMessage(account.privateKey, this.linkedAddress);\n                } else {\n                    this.$store.dispatch('notification/ADD_ERROR', this.$t(NotificationType.RECIPIENT_LINKED_ADDRESS_INVALID));\n                }\n            });\n        } else {\n            this.decryptMessage(account.privateKey, this.recipient);\n        }\n    }\n\n    /**\n     * Getter for modal visability property\n     */\n    protected get hasAccountUnlockModal(): boolean {\n        return this.showUnlockAccountModal;\n    }\n\n    /**\n     * Setter for modal visability property\n     */\n    protected set hasAccountUnlockModal(f: boolean) {\n        this.showUnlockAccountModal = f;\n    }\n\n    /**\n     * Get decrypted message\n     * @param privateKey Current account private key\n     * @param recipient: recipient address.\n     */\n    private decryptMessage(privateKey: string, recipient: Address) {\n        /**\n         * If transaction recipient === current account use signer to decrypt message\n         * Otherwise use the recipient for decryption\n         * */\n\n        if (recipient.plain() === this.currentAccount.address) {\n            this.decryptedMessage = EncryptedMessage.decrypt(this.message, privateKey, this.signer);\n            this.isEncrypted = false;\n            this.messageDisplay = this.decryptedMessage.payload;\n        } else {\n            this.$store.dispatch('account/GET_RECIPIENT', this.recipient as Address).then(() => {\n                this.decryptedMessage = EncryptedMessage.decrypt(this.message, privateKey, this.currentRecipient);\n                this.isEncrypted = false;\n                this.messageDisplay = this.decryptedMessage.payload;\n            });\n        }\n    }\n}\n"],"sourceRoot":""}]}