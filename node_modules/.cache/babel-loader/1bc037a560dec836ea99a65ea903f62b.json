{"remainingRequest":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js!/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/modules/lared-paper-wallets/index.js","dependencies":[{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/modules/lared-paper-wallets/index.js","mtime":1611927226295},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwovKgogKiBDb3B5cmlnaHQgMjAyMCBORU0gKGh0dHBzOi8vbmVtLmlvKQogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICoKICovCgp2YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IHJlcXVpcmUoIi9tbnQvYy9Vc2Vycy9qdXN0aS9EZXNrdG9wL1NVUEVSSE9XL1N5bWJvbFdhbGxldC9sYXJlZC13YWxsZXQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIik7CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyB0aHJvdyBfZTI7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UzKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMzsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfQoKZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH0KCnZhciBfX2F3YWl0ZXIgPSB0aGlzICYmIHRoaXMuX19hd2FpdGVyIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHsKICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgcmVzb2x2ZSh2YWx1ZSk7CiAgICB9KTsKICB9CgogIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsKICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7CiAgICB9CgogICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOwogIH0pOwp9OwoKdmFyIF9faW1wb3J0RGVmYXVsdCA9IHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQgfHwgZnVuY3Rpb24gKG1vZCkgewogIHJldHVybiBtb2QgJiYgbW9kLl9fZXNNb2R1bGUgPyBtb2QgOiB7CiAgICAiZGVmYXVsdCI6IG1vZAogIH07Cn07CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuTGFyZWRQYXBlcldhbGxldCA9IHZvaWQgMDsKCnZhciBwZGZfbGliXzEgPSByZXF1aXJlKCJwZGYtbGliIik7Cgp2YXIgZm9udGtpdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIkBwZGYtbGliL2ZvbnRraXQiKSk7Cgp2YXIgc3ltYm9sX3FyX2xpYnJhcnlfMSA9IHJlcXVpcmUoInN5bWJvbC1xci1saWJyYXJ5Iik7Cgp2YXIgZW5jb2RlZEZvbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKCIuL3Jlc291cmNlcy9lbmNvZGVkRm9udCIpKTsKCnZhciBlbmNvZGVkQmFzZVBkZl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIi4vcmVzb3VyY2VzL2VuY29kZWRCYXNlUGRmIikpOwoKdmFyIGVuY29kZWRCYXNlUHJpdmF0ZUtleVBkZl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIi4vcmVzb3VyY2VzL2VuY29kZWRCYXNlUHJpdmF0ZUtleVBkZiIpKTsKLyoqCiAqIERlZmF1bHQgZ2VuZXJhdGlvbiBoYXNoCiAqLwoKCnZhciBERUZBVUxUX0dFTkVSQVRJT05fSEFTSF9TRUVEID0gIjU3RjdEQTIwNTAwODAyNkM3NzZDQjZBRUQ4NDMzOTNGMDRDRDQ1OEUwQUEyRDlGMUQ1RjMxQTQwMjA3MkIyRDYiOwovKioKICogUHJpbnRpbmcgY29uc3RhbnRzCiAqLwoKdmFyIE1ORU1PTklDX1BPU0lUSU9OID0gewogIHg6IDIwMCwKICB5OiAzNgp9Owp2YXIgQUREUkVTU19QT1NJVElPTiA9IHsKICB4OiAyMDAsCiAgeTogOTAKfTsKdmFyIE1ORU1PTklDX1FSX1BPU0lUSU9OID0gewogIHg6IDI5MCwKICB5OiAxODAsCiAgd2lkdGg6IDEyMCwKICBoZWlnaHQ6IDEyMAp9Owp2YXIgQUREUkVTU19RUl9QT1NJVElPTiA9IHsKICB4OiA0NjUsCiAgeTogMTgwLAogIHdpZHRoOiAxMjAsCiAgaGVpZ2h0OiAxMjAKfTsKLyoqCiAqIExhcmVkIFBhcGVyIHdhbGxldCBjbGFzcwogKi8KCnZhciBMYXJlZFBhcGVyV2FsbGV0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBMYXJlZFBhcGVyV2FsbGV0KGhkQWNjb3VudEluZm8sIGFjY291bnRJbmZvcywgbmV0d29yaykgewogICAgdmFyIGdlbmVyYXRpb25IYXNoU2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogREVGQVVMVF9HRU5FUkFUSU9OX0hBU0hfU0VFRDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFyZWRQYXBlcldhbGxldCk7CgogICAgdGhpcy5oZEFjY291bnQgPSBoZEFjY291bnRJbmZvOwogICAgdGhpcy5hY2NvdW50SW5mb3MgPSBhY2NvdW50SW5mb3M7CiAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrOwogICAgdGhpcy5nZW5lcmF0aW9uSGFzaFNlZWQgPSBnZW5lcmF0aW9uSGFzaFNlZWQ7CiAgfQogIC8qKgogICAqIEV4cG9ydHMgYXMgYSBQREYgVWluOEFycmF5CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoTGFyZWRQYXBlcldhbGxldCwgW3sKICAgIGtleTogInRvUGRmIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b1BkZigpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwbGFpblBkZkZpbGUsIHBkZkRvYywgbm90b1NhbnNGb250Qnl0ZXMsIG5vdG9TYW5zRm9udCwgX2l0ZXJhdG9yLCBfc3RlcCwgYWNjb3VudDsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBsYWluUGRmRmlsZSA9IG5ldyBCdWZmZXIoZW5jb2RlZEJhc2VQZGZfMS5kZWZhdWx0LCAiYmFzZTY0Iik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBwZGZfbGliXzEuUERGRG9jdW1lbnQubG9hZChwbGFpblBkZkZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBwZGZEb2MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgbm90b1NhbnNGb250Qnl0ZXMgPSBuZXcgQnVmZmVyKGVuY29kZWRGb250XzEuZGVmYXVsdCwgImJhc2U2NCIpOwogICAgICAgICAgICAgICAgcGRmRG9jLnJlZ2lzdGVyRm9udGtpdChmb250a2l0XzEuZGVmYXVsdCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBwZGZEb2MuZW1iZWRGb250KG5vdG9TYW5zRm9udEJ5dGVzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgbm90b1NhbnNGb250ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlTW5lbW9uaWNQYWdlKHBkZkRvYywgbm90b1NhbnNGb250KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHBkZkRvYyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmFjY291bnRJbmZvcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYWNjb3VudCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVBY2NvdW50UGFnZShhY2NvdW50LCBwZGZEb2MpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgcGRmRG9jID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEzKTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjc7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDI3KTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHBkZkRvYy5zYXZlKCkpOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1sxMywgMjQsIDI3LCAzMF1dKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgdGhlIG1uZW1vbmljIHBhZ2UgaW50byB0aGUgZ2l2ZW4gcGRmRG9jCiAgICAgKiBAcGFyYW0gcGRmRG9jCiAgICAgKiBAcGFyYW0gZm9udAogICAgICovCgogIH0sIHsKICAgIGtleTogIndyaXRlTW5lbW9uaWNQYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZU1uZW1vbmljUGFnZShwZGZEb2MsIGZvbnQpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcGFnZXMsIHBhZ2UsIG1uZW1vbmljV29yZHMsIGZpcnN0TW5lbW9uaWMsIHNlY29uZE1uZW1vbmljLCBwbGFpbk1uZW1vbmljUVIsIGNvbnRhY3RRUjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhZ2VzID0gcGRmRG9jLmdldFBhZ2VzKCk7CiAgICAgICAgICAgICAgICBwYWdlID0gcGFnZXNbMF07CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUFkZHJlc3ModGhpcy5oZEFjY291bnQucm9vdEFjY291bnRBZGRyZXNzLCBwYWdlLCBmb250KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgbW5lbW9uaWNXb3JkcyA9IHRoaXMuaGRBY2NvdW50Lm1uZW1vbmljLnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICBmaXJzdE1uZW1vbmljID0gbW5lbW9uaWNXb3Jkcy5zbGljZSgwLCBNYXRoLnJvdW5kKG1uZW1vbmljV29yZHMubGVuZ3RoIC8gMikpOwogICAgICAgICAgICAgICAgc2Vjb25kTW5lbW9uaWMgPSBtbmVtb25pY1dvcmRzLnNsaWNlKE1hdGgucm91bmQobW5lbW9uaWNXb3Jkcy5sZW5ndGggLyAyKSwgbW5lbW9uaWNXb3Jkcy5sZW5ndGgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVQcml2YXRlSW5mbyhbZmlyc3RNbmVtb25pYy5qb2luKCIgIiksIHNlY29uZE1uZW1vbmljLmpvaW4oIiAiKV0sIHBhZ2UsIGZvbnQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBwbGFpbk1uZW1vbmljUVIgPSBuZXcgc3ltYm9sX3FyX2xpYnJhcnlfMS5NbmVtb25pY1FSKHRoaXMuaGRBY2NvdW50Lm1uZW1vbmljLCB0aGlzLm5ldHdvcmssIHRoaXMuZ2VuZXJhdGlvbkhhc2hTZWVkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVByaXZhdGVRUihwbGFpbk1uZW1vbmljUVIsIHBkZkRvYywgcGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjb250YWN0UVIgPSBuZXcgc3ltYm9sX3FyX2xpYnJhcnlfMS5Db250YWN0UVIoIlJvb3QgYWNjb3VudCIsIHRoaXMuaGRBY2NvdW50LnJvb3RBY2NvdW50UHVibGljS2V5LCB0aGlzLm5ldHdvcmssIHRoaXMuZ2VuZXJhdGlvbkhhc2hTZWVkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVB1YmxpY1FSKGNvbnRhY3RRUiwgcGRmRG9jLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBwZGZEb2MpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgdGhlIGFjY291bnQgcGFnZSBpbnRvIHRoZSBnaXZlbiBwZGZEb2MKICAgICAqIEBwYXJhbSBhY2NvdW50CiAgICAgKiBAcGFyYW0gcGRmRG9jCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid3JpdGVBY2NvdW50UGFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVBY2NvdW50UGFnZShhY2NvdW50LCBwZGZEb2MpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgbmV3UGxhaW5QZGZGaWxlLCBuZXdQZGZEb2MsIG5vdG9TYW5zRm9udEJ5dGVzLCBmb250LCBhY2NvdW50UGFnZSwgYWNjb3VudFFSLCBjb250YWN0UVIsIF95aWVsZCRwZGZEb2MkY29weVBhZywgX3lpZWxkJHBkZkRvYyRjb3B5UGFnMjsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXdQbGFpblBkZkZpbGUgPSBuZXcgQnVmZmVyKGVuY29kZWRCYXNlUHJpdmF0ZUtleVBkZl8xLmRlZmF1bHQsICJiYXNlNjQiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBwZGZfbGliXzEuUERGRG9jdW1lbnQubG9hZChuZXdQbGFpblBkZkZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBuZXdQZGZEb2MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIG5vdG9TYW5zRm9udEJ5dGVzID0gbmV3IEJ1ZmZlcihlbmNvZGVkRm9udF8xLmRlZmF1bHQsICJiYXNlNjQiKTsKICAgICAgICAgICAgICAgIG5ld1BkZkRvYy5yZWdpc3RlckZvbnRraXQoZm9udGtpdF8xLmRlZmF1bHQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIG5ld1BkZkRvYy5lbWJlZEZvbnQobm90b1NhbnNGb250Qnl0ZXMpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBmb250ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBhY2NvdW50UGFnZSA9IG5ld1BkZkRvYy5nZXRQYWdlcygpWzBdOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlQWRkcmVzcyhhY2NvdW50LmFkZHJlc3MsIGFjY291bnRQYWdlLCBmb250KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVByaXZhdGVJbmZvKFthY2NvdW50LnByaXZhdGVLZXldLCBhY2NvdW50UGFnZSwgZm9udCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBhY2NvdW50UVIgPSBuZXcgc3ltYm9sX3FyX2xpYnJhcnlfMS5BY2NvdW50UVIoYWNjb3VudC5wcml2YXRlS2V5LCB0aGlzLm5ldHdvcmssIHRoaXMuZ2VuZXJhdGlvbkhhc2hTZWVkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZVByaXZhdGVRUihhY2NvdW50UVIsIG5ld1BkZkRvYywgYWNjb3VudFBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgY29udGFjdFFSID0gbmV3IHN5bWJvbF9xcl9saWJyYXJ5XzEuQ29udGFjdFFSKGFjY291bnQubmFtZSwgYWNjb3VudC5wdWJsaWNLZXksIHRoaXMubmV0d29yaywgdGhpcy5nZW5lcmF0aW9uSGFzaFNlZWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndyaXRlUHVibGljUVIoY29udGFjdFFSLCBuZXdQZGZEb2MsIGFjY291bnRQYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gcGRmRG9jLmNvcHlQYWdlcyhuZXdQZGZEb2MsIFswXSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfeWllbGQkcGRmRG9jJGNvcHlQYWcgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF95aWVsZCRwZGZEb2MkY29weVBhZzIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkcGRmRG9jJGNvcHlQYWcsIDEpOwogICAgICAgICAgICAgICAgYWNjb3VudFBhZ2UgPSBfeWllbGQkcGRmRG9jJGNvcHlQYWcyWzBdOwogICAgICAgICAgICAgICAgcGRmRG9jLmFkZFBhZ2UoYWNjb3VudFBhZ2UpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHBkZkRvYyk7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CiAgICB9CiAgICAvKioKICAgICAqIFdyaXRlcyBhZGRyZXNzIGludG8gdGhlIGdpdmVuIHBkZkRvYwogICAgICogQHBhcmFtIGFkZHJlc3MKICAgICAqIEBwYXJhbSBwYWdlCiAgICAgKiBAcGFyYW0gZm9udAogICAgICovCgogIH0sIHsKICAgIGtleTogIndyaXRlQWRkcmVzcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVBZGRyZXNzKGFkZHJlc3MsIHBhZ2UsIGZvbnQpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhZ2UuZHJhd1RleHQoYWRkcmVzcywgewogICAgICAgICAgICAgICAgICB4OiBBRERSRVNTX1BPU0lUSU9OLngsCiAgICAgICAgICAgICAgICAgIHk6IEFERFJFU1NfUE9TSVRJT04ueSwKICAgICAgICAgICAgICAgICAgc2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgIGZvbnQ6IGZvbnQsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiBwZGZfbGliXzEucmdiKDYxIC8gMjU2LCA2MSAvIDI1NiwgNjEgLyAyNTYpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgcHJpdmF0ZSBpbmZvIGludG8gdGhlIHBkZkRvYwogICAgICogQHBhcmFtIHByaXZhdGVMaW5lcwogICAgICogQHBhcmFtIHBhZ2UKICAgICAqIEBwYXJhbSBmb250CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid3JpdGVQcml2YXRlSW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVQcml2YXRlSW5mbyhwcml2YXRlTGluZXMsIHBhZ2UsIGZvbnQpIHsKICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgaTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcml2YXRlTGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgcGFnZS5kcmF3VGV4dChwcml2YXRlTGluZXNbaV0sIHsKICAgICAgICAgICAgICAgICAgICB4OiBNTkVNT05JQ19QT1NJVElPTi54LAogICAgICAgICAgICAgICAgICAgIHk6IE1ORU1PTklDX1BPU0lUSU9OLnkgLSAxNiAqIGksCiAgICAgICAgICAgICAgICAgICAgc2l6ZTogOSwKICAgICAgICAgICAgICAgICAgICBmb250OiBmb250LAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwZGZfbGliXzEucmdiKDYxIC8gMjU2LCA2MSAvIDI1NiwgNjEgLyAyNTYpCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBwYWdlKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwogICAgfQogICAgLyoqCiAgICAgKiBXcml0ZXMgdGhlIHByaXZhdGUgUVIgKG1uZW1vbmljIG9yIHByaXZhdGUga2V5KSBpbnRvIHRoZSBnaXZlbiBwZGZEb2MKICAgICAqIEBwYXJhbSBxcgogICAgICogQHBhcmFtIHBkZkRvYwogICAgICogQHBhcmFtIHBhZ2UKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ3cml0ZVByaXZhdGVRUiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVQcml2YXRlUVIocXIsIHBkZkRvYywgcGFnZSkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciBxckJhc2U2NCwgcG5nOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHFyLnRvQmFzZTY0KCkudG9Qcm9taXNlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHFyQmFzZTY0ID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcGRmRG9jLmVtYmVkUG5nKHFyQmFzZTY0KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcG5nID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBwYWdlLmRyYXdJbWFnZShwbmcsIHsKICAgICAgICAgICAgICAgICAgeDogTU5FTU9OSUNfUVJfUE9TSVRJT04ueCwKICAgICAgICAgICAgICAgICAgeTogTU5FTU9OSUNfUVJfUE9TSVRJT04ueSwKICAgICAgICAgICAgICAgICAgd2lkdGg6IE1ORU1PTklDX1FSX1BPU0lUSU9OLndpZHRoLAogICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1ORU1PTklDX1FSX1BPU0lUSU9OLmhlaWdodAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcGFnZSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKTsKICAgIH0KICAgIC8qKgogICAgICogV3JpdGVzIHRoZSBwdWJsaWMgUVIgaW50byB0aGUgZ2l2ZW4gcGRmRG9jCiAgICAgKiBAcGFyYW0gcXIKICAgICAqIEBwYXJhbSBwZGZEb2MKICAgICAqIEBwYXJhbSBwYWdlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid3JpdGVQdWJsaWNRUiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVQdWJsaWNRUihxciwgcGRmRG9jLCBwYWdlKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHFyQmFzZTY0LCBwbmc7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcXIudG9CYXNlNjQoKS50b1Byb21pc2UoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcXJCYXNlNjQgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBwZGZEb2MuZW1iZWRQbmcocXJCYXNlNjQpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBwbmcgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIHBhZ2UuZHJhd0ltYWdlKHBuZywgewogICAgICAgICAgICAgICAgICB4OiBBRERSRVNTX1FSX1BPU0lUSU9OLngsCiAgICAgICAgICAgICAgICAgIHk6IEFERFJFU1NfUVJfUE9TSVRJT04ueSwKICAgICAgICAgICAgICAgICAgd2lkdGg6IEFERFJFU1NfUVJfUE9TSVRJT04ud2lkdGgsCiAgICAgICAgICAgICAgICAgIGhlaWdodDogQUREUkVTU19RUl9QT1NJVElPTi5oZWlnaHQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTGFyZWRQYXBlcldhbGxldDsKfSgpOwoKZXhwb3J0cy5MYXJlZFBhcGVyV2FsbGV0ID0gTGFyZWRQYXBlcldhbGxldDs="},{"version":3,"sources":["/mnt/c/Users/justi/Desktop/SUPERHOW/SymbolWallet/lared-wallet/modules/lared-paper-wallets/index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","LaredPaperWallet","pdf_lib_1","require","fontkit_1","symbol_qr_library_1","encodedFont_1","encodedBasePdf_1","encodedBasePrivateKeyPdf_1","DEFAULT_GENERATION_HASH_SEED","MNEMONIC_POSITION","x","y","ADDRESS_POSITION","MNEMONIC_QR_POSITION","width","height","ADDRESS_QR_POSITION","hdAccountInfo","accountInfos","network","generationHashSeed","hdAccount","plainPdfFile","Buffer","default","PDFDocument","load","pdfDoc","notoSansFontBytes","registerFontkit","embedFont","notoSansFont","writeMnemonicPage","account","writeAccountPage","save","font","pages","getPages","page","writeAddress","rootAccountAddress","mnemonicWords","mnemonic","split","firstMnemonic","slice","Math","round","length","secondMnemonic","writePrivateInfo","join","plainMnemonicQR","MnemonicQR","writePrivateQR","contactQR","ContactQR","rootAccountPublicKey","writePublicQR","newPlainPdfFile","newPdfDoc","accountPage","address","privateKey","accountQR","AccountQR","name","publicKey","copyPages","addPage","drawText","size","color","rgb","privateLines","i","qr","toBase64","toPromise","qrBase64","embedPng","png","drawImage"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAASC,KAAT,CAAeC,KAAf,EAAsB;AAAE,WAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;AAAEA,MAAAA,OAAO,CAACD,KAAD,CAAP;AAAiB,KAA5C,CAApC;AAAoF;;AAC5G,SAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;AACvD,aAASC,SAAT,CAAmBJ,KAAnB,EAA0B;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;AAA8B,OAApC,CAAqC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC3F,aAASC,QAAT,CAAkBR,KAAlB,EAAyB;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;AAAkC,OAAxC,CAAyC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC9F,aAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,MAAAA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;AAAsF;;AAC9GH,IAAAA,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;AACH,GALM,CAAP;AAMH,CARD;;AASA,IAAIO,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAElB,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAkB,OAAO,CAACC,gBAAR,GAA2B,KAAK,CAAhC;;AACA,IAAMC,SAAS,GAAGC,OAAO,CAAC,SAAD,CAAzB;;AACA,IAAMC,SAAS,GAAGT,eAAe,CAACQ,OAAO,CAAC,kBAAD,CAAR,CAAjC;;AACA,IAAME,mBAAmB,GAAGF,OAAO,CAAC,mBAAD,CAAnC;;AACA,IAAMG,aAAa,GAAGX,eAAe,CAACQ,OAAO,CAAC,yBAAD,CAAR,CAArC;;AACA,IAAMI,gBAAgB,GAAGZ,eAAe,CAACQ,OAAO,CAAC,4BAAD,CAAR,CAAxC;;AACA,IAAMK,0BAA0B,GAAGb,eAAe,CAACQ,OAAO,CAAC,sCAAD,CAAR,CAAlD;AACA;AACA;AACA;;;AACA,IAAMM,4BAA4B,GAAG,kEAArC;AACA;AACA;AACA;;AACA,IAAMC,iBAAiB,GAAG;AACtBC,EAAAA,CAAC,EAAE,GADmB;AAEtBC,EAAAA,CAAC,EAAE;AAFmB,CAA1B;AAIA,IAAMC,gBAAgB,GAAG;AACrBF,EAAAA,CAAC,EAAE,GADkB;AAErBC,EAAAA,CAAC,EAAE;AAFkB,CAAzB;AAIA,IAAME,oBAAoB,GAAG;AACzBH,EAAAA,CAAC,EAAE,GADsB;AAEzBC,EAAAA,CAAC,EAAE,GAFsB;AAGzBG,EAAAA,KAAK,EAAE,GAHkB;AAIzBC,EAAAA,MAAM,EAAE;AAJiB,CAA7B;AAMA,IAAMC,mBAAmB,GAAG;AACxBN,EAAAA,CAAC,EAAE,GADqB;AAExBC,EAAAA,CAAC,EAAE,GAFqB;AAGxBG,EAAAA,KAAK,EAAE,GAHiB;AAIxBC,EAAAA,MAAM,EAAE;AAJgB,CAA5B;AAMA;AACA;AACA;;IACMf,gB;AACF,4BAAYiB,aAAZ,EAA2BC,YAA3B,EAAyCC,OAAzC,EAAqG;AAAA,QAAnDC,kBAAmD,uEAA9BZ,4BAA8B;;AAAA;;AACjG,SAAKa,SAAL,GAAiBJ,aAAjB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACH;AACD;AACJ;AACA;;;;;4BACY;AACJ,aAAO7C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC7B+C,gBAAAA,YAD6B,GACd,IAAIC,MAAJ,CAAWjB,gBAAgB,CAACkB,OAA5B,EAAqC,QAArC,CADc;AAAA;AAEtB,uBAAMvB,SAAS,CAACwB,WAAV,CAAsBC,IAAtB,CAA2BJ,YAA3B,CAAN;;AAFsB;AAE/BK,gBAAAA,MAF+B;AAG7BC,gBAAAA,iBAH6B,GAGT,IAAIL,MAAJ,CAAWlB,aAAa,CAACmB,OAAzB,EAAkC,QAAlC,CAHS;AAInCG,gBAAAA,MAAM,CAACE,eAAP,CAAuB1B,SAAS,CAACqB,OAAjC;AAJmC;AAKd,uBAAMG,MAAM,CAACG,SAAP,CAAiBF,iBAAjB,CAAN;;AALc;AAK7BG,gBAAAA,YAL6B;AAAA;AAM1B,uBAAM,KAAKC,iBAAL,CAAuBL,MAAvB,EAA+BI,YAA/B,CAAN;;AAN0B;AAMnCJ,gBAAAA,MANmC;AAAA,uDAOf,KAAKT,YAPU;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO1Be,gBAAAA,OAP0B;AAAA;AAQtB,uBAAM,KAAKC,gBAAL,CAAsBD,OAAtB,EAA+BN,MAA/B,CAAN;;AARsB;AAQ/BA,gBAAAA,MAR+B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA,iDAU5BA,MAAM,CAACQ,IAAP,EAV4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAYH;AACD;AACJ;AACA;AACA;AACA;;;;sCACsBR,M,EAAQS,I,EAAM;AAC5B,aAAO7D,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7B8D,gBAAAA,KAD6B,GACrBV,MAAM,CAACW,QAAP,EADqB;AAE7BC,gBAAAA,IAF6B,GAEtBF,KAAK,CAAC,CAAD,CAFiB;AAAA;AAGnC,uBAAM,KAAKG,YAAL,CAAkB,KAAKnB,SAAL,CAAeoB,kBAAjC,EAAqDF,IAArD,EAA2DH,IAA3D,CAAN;;AAHmC;AAI7BM,gBAAAA,aAJ6B,GAIb,KAAKrB,SAAL,CAAesB,QAAf,CAAwBC,KAAxB,CAA8B,GAA9B,CAJa;AAK7BC,gBAAAA,aAL6B,GAKbH,aAAa,CAACI,KAAd,CAAoB,CAApB,EAAuBC,IAAI,CAACC,KAAL,CAAWN,aAAa,CAACO,MAAd,GAAuB,CAAlC,CAAvB,CALa;AAM7BC,gBAAAA,cAN6B,GAMZR,aAAa,CAACI,KAAd,CAAoBC,IAAI,CAACC,KAAL,CAAWN,aAAa,CAACO,MAAd,GAAuB,CAAlC,CAApB,EAA0DP,aAAa,CAACO,MAAxE,CANY;AAAA;AAOnC,uBAAM,KAAKE,gBAAL,CAAsB,CAACN,aAAa,CAACO,IAAd,CAAmB,GAAnB,CAAD,EAA0BF,cAAc,CAACE,IAAf,CAAoB,GAApB,CAA1B,CAAtB,EAA2Eb,IAA3E,EAAiFH,IAAjF,CAAN;;AAPmC;AAQ7BiB,gBAAAA,eAR6B,GAQX,IAAIjD,mBAAmB,CAACkD,UAAxB,CAAmC,KAAKjC,SAAL,CAAesB,QAAlD,EAA4D,KAAKxB,OAAjE,EAA0E,KAAKC,kBAA/E,CARW;AAAA;AASnC,uBAAM,KAAKmC,cAAL,CAAoBF,eAApB,EAAqC1B,MAArC,EAA6CY,IAA7C,CAAN;;AATmC;AAU7BiB,gBAAAA,SAV6B,GAUjB,IAAIpD,mBAAmB,CAACqD,SAAxB,CAAkC,cAAlC,EAAkD,KAAKpC,SAAL,CAAeqC,oBAAjE,EAAuF,KAAKvC,OAA5F,EAAqG,KAAKC,kBAA1G,CAViB;AAAA;AAWnC,uBAAM,KAAKuC,aAAL,CAAmBH,SAAnB,EAA8B7B,MAA9B,EAAsCY,IAAtC,CAAN;;AAXmC;AAAA,kDAY5BZ,MAZ4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAcH;AACD;AACJ;AACA;AACA;AACA;;;;qCACqBM,O,EAASN,M,EAAQ;AAC9B,aAAOpD,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAC7BqF,gBAAAA,eAD6B,GACX,IAAIrC,MAAJ,CAAWhB,0BAA0B,CAACiB,OAAtC,EAA+C,QAA/C,CADW;AAAA;AAEjB,uBAAMvB,SAAS,CAACwB,WAAV,CAAsBC,IAAtB,CAA2BkC,eAA3B,CAAN;;AAFiB;AAE7BC,gBAAAA,SAF6B;AAG7BjC,gBAAAA,iBAH6B,GAGT,IAAIL,MAAJ,CAAWlB,aAAa,CAACmB,OAAzB,EAAkC,QAAlC,CAHS;AAInCqC,gBAAAA,SAAS,CAAChC,eAAV,CAA0B1B,SAAS,CAACqB,OAApC;AAJmC;AAKtB,uBAAMqC,SAAS,CAAC/B,SAAV,CAAoBF,iBAApB,CAAN;;AALsB;AAK7BQ,gBAAAA,IAL6B;AAM/B0B,gBAAAA,WAN+B,GAMjBD,SAAS,CAACvB,QAAV,GAAqB,CAArB,CANiB;AAAA;AAOnC,uBAAM,KAAKE,YAAL,CAAkBP,OAAO,CAAC8B,OAA1B,EAAmCD,WAAnC,EAAgD1B,IAAhD,CAAN;;AAPmC;AAAA;AAQnC,uBAAM,KAAKe,gBAAL,CAAsB,CAAClB,OAAO,CAAC+B,UAAT,CAAtB,EAA4CF,WAA5C,EAAyD1B,IAAzD,CAAN;;AARmC;AAS7B6B,gBAAAA,SAT6B,GASjB,IAAI7D,mBAAmB,CAAC8D,SAAxB,CAAkCjC,OAAO,CAAC+B,UAA1C,EAAsD,KAAK7C,OAA3D,EAAoE,KAAKC,kBAAzE,CATiB;AAAA;AAUnC,uBAAM,KAAKmC,cAAL,CAAoBU,SAApB,EAA+BJ,SAA/B,EAA0CC,WAA1C,CAAN;;AAVmC;AAW7BN,gBAAAA,SAX6B,GAWjB,IAAIpD,mBAAmB,CAACqD,SAAxB,CAAkCxB,OAAO,CAACkC,IAA1C,EAAgDlC,OAAO,CAACmC,SAAxD,EAAmE,KAAKjD,OAAxE,EAAiF,KAAKC,kBAAtF,CAXiB;AAAA;AAYnC,uBAAM,KAAKuC,aAAL,CAAmBH,SAAnB,EAA8BK,SAA9B,EAAyCC,WAAzC,CAAN;;AAZmC;AAAA;AAanB,uBAAMnC,MAAM,CAAC0C,SAAP,CAAiBR,SAAjB,EAA4B,CAAC,CAAD,CAA5B,CAAN;;AAbmB;AAAA;AAAA;AAalCC,gBAAAA,WAbkC;AAcnCnC,gBAAAA,MAAM,CAAC2C,OAAP,CAAeR,WAAf;AAdmC,kDAe5BnC,MAf4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAiBH;AACD;AACJ;AACA;AACA;AACA;AACA;;;;iCACiBoC,O,EAASxB,I,EAAMH,I,EAAM;AAC9B,aAAO7D,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;AAAA;AAAA;AAAA;AACnCgE,gBAAAA,IAAI,CAACgC,QAAL,CAAcR,OAAd,EAAuB;AACnBrD,kBAAAA,CAAC,EAAEE,gBAAgB,CAACF,CADD;AAEnBC,kBAAAA,CAAC,EAAEC,gBAAgB,CAACD,CAFD;AAGnB6D,kBAAAA,IAAI,EAAE,EAHa;AAInBpC,kBAAAA,IAAI,EAAEA,IAJa;AAKnBqC,kBAAAA,KAAK,EAAExE,SAAS,CAACyE,GAAV,CAAc,KAAK,GAAnB,EAAwB,KAAK,GAA7B,EAAkC,KAAK,GAAvC;AALY,iBAAvB;AADmC,kDAQ5BnC,IAR4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAUH;AACD;AACJ;AACA;AACA;AACA;AACA;;;;qCACqBoC,Y,EAAcpC,I,EAAMH,I,EAAM;AACvC,aAAO7D,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AACnC,qBAASqG,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGD,YAAY,CAAC1B,MAAjC,EAAyC2B,CAAC,EAA1C,EAA8C;AAC1CrC,kBAAAA,IAAI,CAACgC,QAAL,CAAcI,YAAY,CAACC,CAAD,CAA1B,EAA+B;AAC3BlE,oBAAAA,CAAC,EAAED,iBAAiB,CAACC,CADM;AAE3BC,oBAAAA,CAAC,EAAEF,iBAAiB,CAACE,CAAlB,GAAsB,KAAKiE,CAFH;AAG3BJ,oBAAAA,IAAI,EAAE,CAHqB;AAI3BpC,oBAAAA,IAAI,EAAEA,IAJqB;AAK3BqC,oBAAAA,KAAK,EAAExE,SAAS,CAACyE,GAAV,CAAc,KAAK,GAAnB,EAAwB,KAAK,GAA7B,EAAkC,KAAK,GAAvC;AALoB,mBAA/B;AAOH;;AATkC,kDAU5BnC,IAV4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAYH;AACD;AACJ;AACA;AACA;AACA;AACA;;;;mCACmBsC,E,EAAIlD,M,EAAQY,I,EAAM;AAC7B,aAAOhE,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,uBAAMsG,EAAE,CAACC,QAAH,GAAcC,SAAd,EAAN;;AADkB;AAC7BC,gBAAAA,QAD6B;AAAA;AAEvB,uBAAMrD,MAAM,CAACsD,QAAP,CAAgBD,QAAhB,CAAN;;AAFuB;AAE7BE,gBAAAA,GAF6B;AAGnC3C,gBAAAA,IAAI,CAAC4C,SAAL,CAAeD,GAAf,EAAoB;AAChBxE,kBAAAA,CAAC,EAAEG,oBAAoB,CAACH,CADR;AAEhBC,kBAAAA,CAAC,EAAEE,oBAAoB,CAACF,CAFR;AAGhBG,kBAAAA,KAAK,EAAED,oBAAoB,CAACC,KAHZ;AAIhBC,kBAAAA,MAAM,EAAEF,oBAAoB,CAACE;AAJb,iBAApB;AAHmC,kDAS5BwB,IAT4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAWH;AACD;AACJ;AACA;AACA;AACA;AACA;;;;kCACkBsC,E,EAAIlD,M,EAAQY,I,EAAM;AAC5B,aAAOhE,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,wCAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,uBAAMsG,EAAE,CAACC,QAAH,GAAcC,SAAd,EAAN;;AADkB;AAC7BC,gBAAAA,QAD6B;AAAA;AAEvB,uBAAMrD,MAAM,CAACsD,QAAP,CAAgBD,QAAhB,CAAN;;AAFuB;AAE7BE,gBAAAA,GAF6B;AAGnC3C,gBAAAA,IAAI,CAAC4C,SAAL,CAAeD,GAAf,EAAoB;AAChBxE,kBAAAA,CAAC,EAAEM,mBAAmB,CAACN,CADP;AAEhBC,kBAAAA,CAAC,EAAEK,mBAAmB,CAACL,CAFP;AAGhBG,kBAAAA,KAAK,EAAEE,mBAAmB,CAACF,KAHX;AAIhBC,kBAAAA,MAAM,EAAEC,mBAAmB,CAACD;AAJZ,iBAApB;AAHmC,kDAS5BwB,IAT4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAvB,EAAhB;AAWH;;;;;;AAELxC,OAAO,CAACC,gBAAR,GAA2BA,gBAA3B","sourcesContent":["\"use strict\";\n/*\n * Copyright 2020 NEM (https://nem.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and limitations under the License.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LaredPaperWallet = void 0;\nconst pdf_lib_1 = require(\"pdf-lib\");\nconst fontkit_1 = __importDefault(require(\"@pdf-lib/fontkit\"));\nconst symbol_qr_library_1 = require(\"symbol-qr-library\");\nconst encodedFont_1 = __importDefault(require(\"./resources/encodedFont\"));\nconst encodedBasePdf_1 = __importDefault(require(\"./resources/encodedBasePdf\"));\nconst encodedBasePrivateKeyPdf_1 = __importDefault(require(\"./resources/encodedBasePrivateKeyPdf\"));\n/**\n * Default generation hash\n */\nconst DEFAULT_GENERATION_HASH_SEED = \"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6\";\n/**\n * Printing constants\n */\nconst MNEMONIC_POSITION = {\n    x: 200,\n    y: 36,\n};\nconst ADDRESS_POSITION = {\n    x: 200,\n    y: 90,\n};\nconst MNEMONIC_QR_POSITION = {\n    x: 290,\n    y: 180,\n    width: 120,\n    height: 120,\n};\nconst ADDRESS_QR_POSITION = {\n    x: 465,\n    y: 180,\n    width: 120,\n    height: 120,\n};\n/**\n * Lared Paper wallet class\n */\nclass LaredPaperWallet {\n    constructor(hdAccountInfo, accountInfos, network, generationHashSeed = DEFAULT_GENERATION_HASH_SEED) {\n        this.hdAccount = hdAccountInfo;\n        this.accountInfos = accountInfos;\n        this.network = network;\n        this.generationHashSeed = generationHashSeed;\n    }\n    /**\n     * Exports as a PDF Uin8Array\n     */\n    toPdf() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const plainPdfFile = new Buffer(encodedBasePdf_1.default, \"base64\");\n            let pdfDoc = yield pdf_lib_1.PDFDocument.load(plainPdfFile);\n            const notoSansFontBytes = new Buffer(encodedFont_1.default, \"base64\");\n            pdfDoc.registerFontkit(fontkit_1.default);\n            const notoSansFont = yield pdfDoc.embedFont(notoSansFontBytes);\n            pdfDoc = yield this.writeMnemonicPage(pdfDoc, notoSansFont);\n            for (let account of this.accountInfos) {\n                pdfDoc = yield this.writeAccountPage(account, pdfDoc);\n            }\n            return pdfDoc.save();\n        });\n    }\n    /**\n     * Writes the mnemonic page into the given pdfDoc\n     * @param pdfDoc\n     * @param font\n     */\n    writeMnemonicPage(pdfDoc, font) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const pages = pdfDoc.getPages();\n            const page = pages[0];\n            yield this.writeAddress(this.hdAccount.rootAccountAddress, page, font);\n            const mnemonicWords = this.hdAccount.mnemonic.split(\" \");\n            const firstMnemonic = mnemonicWords.slice(0, Math.round(mnemonicWords.length / 2));\n            const secondMnemonic = mnemonicWords.slice(Math.round(mnemonicWords.length / 2), mnemonicWords.length);\n            yield this.writePrivateInfo([firstMnemonic.join(\" \"), secondMnemonic.join(\" \")], page, font);\n            const plainMnemonicQR = new symbol_qr_library_1.MnemonicQR(this.hdAccount.mnemonic, this.network, this.generationHashSeed);\n            yield this.writePrivateQR(plainMnemonicQR, pdfDoc, page);\n            const contactQR = new symbol_qr_library_1.ContactQR(\"Root account\", this.hdAccount.rootAccountPublicKey, this.network, this.generationHashSeed);\n            yield this.writePublicQR(contactQR, pdfDoc, page);\n            return pdfDoc;\n        });\n    }\n    /**\n     * Writes the account page into the given pdfDoc\n     * @param account\n     * @param pdfDoc\n     */\n    writeAccountPage(account, pdfDoc) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const newPlainPdfFile = new Buffer(encodedBasePrivateKeyPdf_1.default, \"base64\");\n            const newPdfDoc = yield pdf_lib_1.PDFDocument.load(newPlainPdfFile);\n            const notoSansFontBytes = new Buffer(encodedFont_1.default, \"base64\");\n            newPdfDoc.registerFontkit(fontkit_1.default);\n            const font = yield newPdfDoc.embedFont(notoSansFontBytes);\n            let accountPage = newPdfDoc.getPages()[0];\n            yield this.writeAddress(account.address, accountPage, font);\n            yield this.writePrivateInfo([account.privateKey], accountPage, font);\n            const accountQR = new symbol_qr_library_1.AccountQR(account.privateKey, this.network, this.generationHashSeed);\n            yield this.writePrivateQR(accountQR, newPdfDoc, accountPage);\n            const contactQR = new symbol_qr_library_1.ContactQR(account.name, account.publicKey, this.network, this.generationHashSeed);\n            yield this.writePublicQR(contactQR, newPdfDoc, accountPage);\n            [accountPage] = yield pdfDoc.copyPages(newPdfDoc, [0]);\n            pdfDoc.addPage(accountPage);\n            return pdfDoc;\n        });\n    }\n    /**\n     * Writes address into the given pdfDoc\n     * @param address\n     * @param page\n     * @param font\n     */\n    writeAddress(address, page, font) {\n        return __awaiter(this, void 0, void 0, function* () {\n            page.drawText(address, {\n                x: ADDRESS_POSITION.x,\n                y: ADDRESS_POSITION.y,\n                size: 12,\n                font: font,\n                color: pdf_lib_1.rgb(61 / 256, 61 / 256, 61 / 256),\n            });\n            return page;\n        });\n    }\n    /**\n     * Writes private info into the pdfDoc\n     * @param privateLines\n     * @param page\n     * @param font\n     */\n    writePrivateInfo(privateLines, page, font) {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let i = 0; i < privateLines.length; i++) {\n                page.drawText(privateLines[i], {\n                    x: MNEMONIC_POSITION.x,\n                    y: MNEMONIC_POSITION.y - 16 * i,\n                    size: 9,\n                    font: font,\n                    color: pdf_lib_1.rgb(61 / 256, 61 / 256, 61 / 256),\n                });\n            }\n            return page;\n        });\n    }\n    /**\n     * Writes the private QR (mnemonic or private key) into the given pdfDoc\n     * @param qr\n     * @param pdfDoc\n     * @param page\n     */\n    writePrivateQR(qr, pdfDoc, page) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const qrBase64 = yield qr.toBase64().toPromise();\n            const png = yield pdfDoc.embedPng(qrBase64);\n            page.drawImage(png, {\n                x: MNEMONIC_QR_POSITION.x,\n                y: MNEMONIC_QR_POSITION.y,\n                width: MNEMONIC_QR_POSITION.width,\n                height: MNEMONIC_QR_POSITION.height,\n            });\n            return page;\n        });\n    }\n    /**\n     * Writes the public QR into the given pdfDoc\n     * @param qr\n     * @param pdfDoc\n     * @param page\n     */\n    writePublicQR(qr, pdfDoc, page) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const qrBase64 = yield qr.toBase64().toPromise();\n            const png = yield pdfDoc.embedPng(qrBase64);\n            page.drawImage(png, {\n                x: ADDRESS_QR_POSITION.x,\n                y: ADDRESS_QR_POSITION.y,\n                width: ADDRESS_QR_POSITION.width,\n                height: ADDRESS_QR_POSITION.height,\n            });\n            return page;\n        });\n    }\n}\nexports.LaredPaperWallet = LaredPaperWallet;\n//# sourceMappingURL=index.js.map"]}]}